# åŠŸèƒ½å®Œæˆæ£€æŸ¥æ¸…å• (Definition of Done Checklist)

**ç‰ˆæœ¬**: 1.0
**æ—¥æœŸ**: 2025-10-29
**é€‚ç”¨èŒƒå›´**: æ‰€æœ‰åŠŸèƒ½å¼€å‘ã€Bug ä¿®å¤ã€åŠŸèƒ½å¢å¼º

---

## ğŸ“‹ åŠŸèƒ½ä¿¡æ¯ (Feature Information)

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **åŠŸèƒ½åç§°** | _______________________________ |
| **ä»»åŠ¡ç¼–å·** | _______________________________ |
| **åˆ†æ”¯åç§°** | _______________________________ |
| **éªŒè¯äºº** | _______________________________ |
| **éªŒè¯æ—¥æœŸ** | _______________________________ |
| **é¢„è®¡æ—¶é—´** | [ ] ç®€å• (35-55 min) &nbsp; [ ] ä¸­ç­‰ (50-80 min) &nbsp; [ ] å¤æ‚ (90-120 min) |

---

## âœ… Layer 1: ä»£ç å±‚éªŒè¯ (Code Layer) - é¢„è®¡ 5-10 åˆ†é’Ÿ

### ä»£ç æäº¤ (Code Commit)
- [ ] ä»£ç å·²æäº¤åˆ° feature åˆ†æ”¯
- [ ] Commit æ¶ˆæ¯æ¸…æ™°æè¿°æ”¹åŠ¨å†…å®¹
- [ ] æ— è°ƒè¯•ä»£ç æ®‹ç•™ (console.log, print è¯­å¥ç­‰)

### å•å…ƒæµ‹è¯• (Unit Tests)
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
  ```bash
  pytest tests/unit/ -v
  ```
- [ ] æµ‹è¯•é€šè¿‡æ•° / æ€»æµ‹è¯•æ•°: ______ / ______
- [ ] å¦‚æœ‰å¤±è´¥æµ‹è¯•ï¼Œå·²ä¿®å¤æˆ–è®°å½•åŸå› : _______

### ä»£ç è´¨é‡ (Code Quality)
- [ ] ä»£ç æ ¼å¼æ£€æŸ¥é€šè¿‡
  ```bash
  black . && flake8 .
  ```
- [ ] ç±»å‹æ£€æŸ¥é€šè¿‡ (å¦‚é€‚ç”¨)
  ```bash
  mypy .
  ```

**Layer 1 å®Œæˆæ—¶é—´**: ______ åˆ†é’Ÿ

---

## âœ… Layer 2: API å±‚éªŒè¯ (API Layer) - é¢„è®¡ 10-15 åˆ†é’Ÿ

### å‡†å¤‡å·¥ä½œ (Preparation)
- [ ] åç«¯æœåŠ¡å·²å¯åŠ¨: `http://localhost:8000`
- [ ] å·²è·å–è®¿é—® Token
  ```bash
  TOKEN=$(http POST http://localhost:8000/api/auth/login \
    username=admin password=admin123 | jq -r '.access_token')
  ```

### API ç«¯ç‚¹éªŒè¯ (API Endpoint Verification)

**ç«¯ç‚¹ 1**: ______________________________

- [ ] HTTP æ–¹æ³•: [ ] GET [ ] POST [ ] PUT [ ] DELETE
- [ ] ç«¯ç‚¹ URL: _______________________________
- [ ] éªŒè¯å‘½ä»¤:
  ```bash
  http GET http://localhost:8000/api/______ \
    Authorization:"Bearer $TOKEN"
  ```
- [ ] æœŸæœ›çŠ¶æ€ç : ______ (å®é™…çŠ¶æ€ç : ______)
- [ ] å“åº”åŒ…å«å¿…éœ€å­—æ®µ: _______________________________
- [ ] æ•°æ®ç»“æ„éªŒè¯: `jq -e '.data != null'` [ ] é€šè¿‡ [ ] å¤±è´¥

**ç«¯ç‚¹ 2** (å¦‚æœ‰å¤šä¸ªç«¯ç‚¹ï¼Œå¤åˆ¶æ­¤éƒ¨åˆ†): ______________________________

- [ ] HTTP æ–¹æ³•: [ ] GET [ ] POST [ ] PUT [ ] DELETE
- [ ] ç«¯ç‚¹ URL: _______________________________
- [ ] éªŒè¯å‘½ä»¤: _______________________________
- [ ] æœŸæœ›çŠ¶æ€ç : ______ (å®é™…çŠ¶æ€ç : ______)
- [ ] å“åº”åŒ…å«å¿…éœ€å­—æ®µ: _______________________________
- [ ] æ•°æ®ç»“æ„éªŒè¯: [ ] é€šè¿‡ [ ] å¤±è´¥

### é”™è¯¯åœºæ™¯éªŒè¯ (Error Scenarios)

- [ ] æ— æ•ˆ Token è¿”å› 401
  ```bash
  http GET http://localhost:8000/api/______ \
    Authorization:"Bearer invalid_token" | jq -e '.status_code == 401'
  ```
- [ ] ç¼ºå¤±å‚æ•°è¿”å› 422 (å¦‚é€‚ç”¨)
- [ ] å…¶ä»–é”™è¯¯åœºæ™¯: _______________________________

**Layer 2 å®Œæˆæ—¶é—´**: ______ åˆ†é’Ÿ

---

## âœ… Layer 3: é›†æˆå±‚éªŒè¯ (Integration Layer) - é¢„è®¡ 5-10 åˆ†é’Ÿ (è‡ªåŠ¨æ‰§è¡Œ)

### Playwright é›†æˆæµ‹è¯• (Integration Tests)
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
  ```bash
  pytest tests/integration/test_*.py -v
  ```
- [ ] æµ‹è¯•é€šè¿‡æ•° / æ€»æµ‹è¯•æ•°: ______ / ______
- [ ] æµ‹è¯•æŠ¥å‘Šä½ç½®: _______________________________

### æ•°æ®æµéªŒè¯ (Data Flow Verification)
- [ ] æ•°æ®åº“å±‚æ£€æŸ¥é€šè¿‡: æ•°æ®å­˜åœ¨
- [ ] åç«¯ API å±‚æ£€æŸ¥é€šè¿‡: API è¿”å›æ•°æ®
- [ ] å‰ç«¯è¯·æ±‚å±‚æ£€æŸ¥é€šè¿‡: å‰ç«¯è°ƒç”¨ API
- [ ] UI æ¸²æŸ“å±‚æ£€æŸ¥é€šè¿‡: ç”¨æˆ·çœ‹åˆ°æ•°æ®

### å¤±è´¥åˆ†æ (Failure Analysis - å¦‚æœ‰å¤±è´¥)
å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œè®°å½•å¤±è´¥çš„å±‚:
- [ ] æ•°æ®åº“å±‚å¤±è´¥: _______________________________
- [ ] API å±‚å¤±è´¥: _______________________________
- [ ] å‰ç«¯å±‚å¤±è´¥: _______________________________
- [ ] UI å±‚å¤±è´¥: _______________________________

**Layer 3 å®Œæˆæ—¶é—´**: ______ åˆ†é’Ÿ

---

## âœ… Layer 4: ç”¨ï¿½ï¿½ç•Œé¢å±‚éªŒè¯ (UI Layer) - é¢„è®¡ 10-20 åˆ†é’Ÿ

### æµè§ˆå™¨è®¿é—® (Browser Access)
- [ ] æµè§ˆå™¨: [ ] Chrome [ ] Firefox [ ] Safari
- [ ] åŠŸèƒ½é¡µé¢ URL: http://localhost:8000/_______________________________
- [ ] é¡µé¢æ­£å¸¸åŠ è½½ (æ— ç™½å±ã€æ—  404)

### æ•°æ®æ˜¾ç¤ºéªŒè¯ (Data Display)
- [ ] æ•°æ®æ­£ç¡®æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š
- [ ] æ•°æ®å†…å®¹ç¬¦åˆé¢„æœŸ: _______________________________
- [ ] æ•°æ®æ ¼å¼æ­£ç¡® (æ—¥æœŸã€æ•°å­—ã€æ–‡æœ¬ç­‰)
- [ ] æˆªå›¾ä¿å­˜ä½ç½®:
  ```
  docs/verification-screenshots/feature-name-YYYYMMDD-ui.png
  ```

### Console é”™è¯¯æ£€æŸ¥ (Console Errors)
- [ ] æ‰“å¼€ DevTools (F12 â†’ Console)
- [ ] æ— çº¢è‰²é”™è¯¯ (Errors)
- [ ] å¦‚æœ‰ Warningï¼Œå·²ç¡®è®¤ä¸å½±å“åŠŸèƒ½: _______________________________
- [ ] æˆªå›¾ä¿å­˜ä½ç½®:
  ```
  docs/verification-screenshots/feature-name-YYYYMMDD-console.png
  ```

### Network è¯·æ±‚æ£€æŸ¥ (Network Requests)
- [ ] æ‰“å¼€ DevTools (F12 â†’ Network)
- [ ] æ‰€æœ‰ API è¯·æ±‚çŠ¶æ€ä¸º 200/201/204
- [ ] æ—  failed è¯·æ±‚ (çº¢è‰²)
- [ ] API è¯·æ±‚åˆ—è¡¨:
  - `______________________` çŠ¶æ€: ______
  - `______________________` çŠ¶æ€: ______
  - `______________________` çŠ¶æ€: ______
- [ ] æˆªå›¾ä¿å­˜ä½ç½®:
  ```
  docs/verification-screenshots/feature-name-YYYYMMDD-network.png
  ```

### äº¤äº’åŠŸèƒ½éªŒè¯ (Interaction Testing)
- [ ] æŒ‰é’®ç‚¹å‡»å“åº”æ­£å¸¸
- [ ] è¡¨å•æäº¤æˆåŠŸ (å¦‚é€‚ç”¨)
- [ ] æ•°æ®åˆ·æ–°åŠŸèƒ½æ­£å¸¸ (å¦‚é€‚ç”¨)
- [ ] é¡µé¢è·³è½¬æ­£å¸¸ (å¦‚é€‚ç”¨)
- [ ] å…¶ä»–äº¤äº’: _______________________________

**Layer 4 å®Œæˆæ—¶é—´**: ______ åˆ†é’Ÿ

---

## âœ… Layer 5: æ•°æ®éªŒè¯å±‚ (Data Validation Layer) - é¢„è®¡ 5-10 åˆ†é’Ÿ

### æ•°æ®åº“è¿æ¥ (Database Connection)
- [ ] æ•°æ®åº“ç±»å‹: [ ] PostgreSQL [ ] TDengine
- [ ] è¿æ¥å‘½ä»¤:
  ```bash
  # PostgreSQL
  pgcli -h localhost -U mystocks_user -d mystocks

  # TDengine
  taos -h 192.168.123.104 -u root -p taosdata
  ```

### æ•°æ®å­˜åœ¨æ€§æ£€æŸ¥ (Data Existence)
- [ ] è¡¨å: _______________________________
- [ ] SQL æŸ¥è¯¢:
  ```sql
  SELECT COUNT(*) as record_count FROM table_name;
  ```
- [ ] è®°å½•æ•°: ______ (æœŸæœ›: > 0)
- [ ] æ•°æ®å­˜åœ¨: [ ] æ˜¯ [ ] å¦

### æ•°æ®æ—¶æ•ˆæ€§æ£€æŸ¥ (Data Freshness)
- [ ] SQL æŸ¥è¯¢:
  ```sql
  SELECT MAX(trade_date) as latest_date FROM table_name;
  ```
- [ ] æœ€æ–°æ•°æ®æ—¶é—´: _______________________________
- [ ] æ˜¯å¦æ»¡è¶³æ—¶æ•ˆè¦æ±‚: [ ] æ˜¯ (ä¸è¶…è¿‡ ____ å°æ—¶) [ ] å¦

### æ•°æ®å®Œæ•´æ€§æ£€æŸ¥ (Data Integrity)
- [ ] SQL æŸ¥è¯¢:
  ```sql
  SELECT COUNT(*) as null_count FROM table_name
  WHERE key_field1 IS NULL OR key_field2 IS NULL;
  ```
- [ ] NULL è®°å½•æ•°: ______ (æœŸæœ›: 0)
- [ ] å…³é”®å­—æ®µæ—  NULL: [ ] æ˜¯ [ ] å¦

### æ•°æ®æ ·æœ¬æŸ¥çœ‹ (Data Sample)
- [ ] SQL æŸ¥è¯¢:
  ```sql
  SELECT * FROM table_name ORDER BY created_at DESC LIMIT 10;
  ```
- [ ] æ•°æ®æ ·æœ¬åˆç†: [ ] æ˜¯ [ ] å¦
- [ ] å¦‚å‘ç°å¼‚å¸¸æ•°æ®ï¼Œè®°å½•: _______________________________

**Layer 5 å®Œæˆæ—¶é—´**: ______ åˆ†é’Ÿ

---

## ğŸ“Š éªŒè¯æ€»ç»“ (Verification Summary)

### å®ŒæˆçŠ¶æ€ (Completion Status)
- [ ] **æ‰€æœ‰ 5 å±‚æ£€æŸ¥é¡¹é€šè¿‡ï¼ŒåŠŸèƒ½æ ‡è®°ä¸º"å®Œæˆ" (Done)**
- [ ] éƒ¨åˆ†æ£€æŸ¥é¡¹æœªé€šè¿‡ï¼ŒåŠŸèƒ½æ ‡è®°ä¸º"éƒ¨åˆ†å®Œæˆ" (Partially Done)ï¼Œéœ€è¦è®°å½•æœªé€šè¿‡é¡¹

### æ—¶é—´ç»Ÿè®¡ (Time Statistics)
| Layer | é¢„è®¡æ—¶é—´ | å®é™…æ—¶é—´ | å·®å¼‚ |
|-------|---------|---------|------|
| Layer 1: ä»£ç å±‚ | 5-10 min | ______ min | ______ |
| Layer 2: API å±‚ | 10-15 min | ______ min | ______ |
| Layer 3: é›†æˆå±‚ | 5-10 min | ______ min | ______ |
| Layer 4: UI å±‚ | 10-20 min | ______ min | ______ |
| Layer 5: æ•°æ®å±‚ | 5-10 min | ______ min | ______ |
| **æ€»è®¡** | **35-65 min** | **______ min** | **______** |

### é—®é¢˜è®°å½• (Issues)
å¦‚æœ‰ä»»ä½•é—®é¢˜ã€å¼‚å¸¸æƒ…å†µã€éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œè¯·è®°å½•:

```
é—®é¢˜ 1: _______________________________
è§£å†³æ–¹æ¡ˆ: _______________________________

é—®é¢˜ 2: _______________________________
è§£å†³æ–¹æ¡ˆ: _______________________________
```

### æ€§èƒ½è§‚å¯Ÿ (Performance Observations)
- [ ] API å“åº”æ—¶é—´ <1 ç§’
- [ ] é¡µé¢åŠ è½½æ—¶é—´ <3 ç§’
- [ ] æ•°æ®åº“æŸ¥è¯¢æ—¶é—´ <500ms
- [ ] å¦‚æœ‰æ€§èƒ½é—®é¢˜ï¼Œè®°å½•: _______________________________

---

## ğŸ“ å¤‡æ³¨ (Notes)

### ç‰¹æ®Šè¯´æ˜ (Special Notes)
(è®°å½•ä»»ä½•ç‰¹æ®Šæƒ…å†µã€ä¾èµ–å…³ç³»ã€åç»­éœ€è¦è·Ÿè¿›çš„äº‹é¡¹)

```
_______________________________
_______________________________
_______________________________
```

### éªŒè¯æˆªå›¾æ¸…å• (Screenshot Checklist)
ç¡®ä¿ä»¥ä¸‹æˆªå›¾å·²ä¿å­˜:
- [ ] `docs/verification-screenshots/feature-name-YYYYMMDD-ui.png`
- [ ] `docs/verification-screenshots/feature-name-YYYYMMDD-console.png`
- [ ] `docs/verification-screenshots/feature-name-YYYYMMDD-network.png`

---

## âœï¸ ç­¾åç¡®è®¤ (Sign-off)

**éªŒè¯äººç­¾å**: _______________________
**éªŒè¯æ—¥æœŸ**: _______________________
**å®¡æ ¸äººç­¾å**: _______________________ (å¯é€‰)

---

## ğŸ“š ç›¸å…³æ–‡æ¡£ (Related Documentation)

- [æµç¨‹æ¡†æ¶æ–‡æ¡£](../process-framework.md)
- [æ‰‹åŠ¨éªŒè¯æŒ‡å—](manual-verification-checklist.md)
- [å†’çƒŸæµ‹è¯•æ¸…å•](smoke-test-checklist.md)
- [å¿«é€Ÿä¸Šæ‰‹æŒ‡å—](../quickstart.md)

---

**ç‰ˆæœ¬å†å²**:
- v1.0 (2025-10-29): åˆå§‹ç‰ˆæœ¬ï¼Œå®šä¹‰å®Œæ•´çš„ 5 å±‚éªŒè¯æ£€æŸ¥æ¸…å•
