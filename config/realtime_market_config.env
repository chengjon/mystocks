# 沪深市场A股实时数据保存系统配置文件 - MyStocks统一接口版
# 严格按照MyStocks系统的数据分类和统一接口规范配置

# ==================== 数据源配置 ====================
# 市场代码：'hs'=沪深市场, 'sh'=上海市场, 'sz'=深圳市场
MARKET_SYMBOL=hs

# 数据源超时时间（秒）
DATA_SOURCE_TIMEOUT=30

# ==================== 数据分类配置 ====================
# 是否保存为实时数据（REALTIME_POSITIONS → Redis 热数据）
SAVE_AS_REALTIME=true

# 是否保存为日线数据（DAILY_KLINE → PostgreSQL+TimescaleDB 持久化存储）
SAVE_AS_DAILY=true

# 是否保存为Tick数据（TICK_DATA → TDengine 时序存储，可选）
SAVE_AS_TICK=false

# Redis缓存过期时间（秒）- 仅在保存为实时数据时有效
CACHE_EXPIRE_SECONDS=300

# ==================== 数据处理配置 ====================
# 是否添加时间戳列
ADD_TIMESTAMP_COLUMN=true

# 是否启用数据验证
ENABLE_DATA_VALIDATION=true

# 最大重试次数
MAX_RETRY_ATTEMPTS=3

# ==================== 日志配置 ====================
# 日志级别：DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 日志文件名
LOG_FILE=realtime_market_saver.log

# ==================== 说明 ====================
# 本系统严格按照MyStocks设计理念实现：
#
# 1. 数据分类原则：
#    - REALTIME_POSITIONS: 实时行情快照 → Redis (热数据，快速访问)
#    - DAILY_KLINE: 日线格式数据 → PostgreSQL+TimescaleDB (持久化存储，分析查询)
#    - TICK_DATA: 高频时序数据 → TDengine (时序存储，历史分析，可选)
#
# 2. 自动路由原则：
#    - 使用MyStocksUnifiedManager统一接口
#    - 系统根据DataClassification自动选择最优数据库
#    - 完整的监控和日志记录
#
# 3. 存储策略（双重保存）：
#    - 实时数据适合做缓存和快速查询 (Redis)
#    - 日线数据适合做持久化存储和复杂分析 (PostgreSQL+TimescaleDB)
#    - Tick数据适合做历史回测和高频分析 (TDengine，可选)
#    - 可根据业务需求选择单独或组合保存
#
# 4. efinance集成：
#    - 使用ef.stock.get_realtime_quotes()获取沪深A股实时行情
#    - 自动映射列名以适配不同数据库的表结构
#    - 支持数据验证和异常处理
