# 股票技术指标计算方法详解

## 1. MACD (Moving Average Convergence Divergence)
### 计算方法
使用talib库计算：
- DIF线（macd）：快速EMA - 慢速EMA
- DEA线（macds）：DIF的9日EMA
- 柱状图（macdh）：(DIF - DEA) * 2

### 参数设置
- 快速周期：12
- 慢速周期：26
- 信号周期：9

## 2. KDJ 随机指标
### 计算方法
使用talib库计算：
- K值（kdjk）：基于最高价、最低价、收盘价的随机值
- D值（kdjd）：K值的移动平均
- J值（kdjj）：3 * K - 2 * D

### 参数设置
- 快速K周期：9
- 慢速K周期：5
- 慢速D周期：5

## 3. BOLL 布林带
### 计算方法
使用talib库计算：
- 中轨（boll）：20日简单移动平均线
- 上轨（boll_ub）：中轨 + 2 * 标准差
- 下轨（boll_lb）：中轨 - 2 * 标准差

### 参数设置
- 时间周期：20
- 标准差倍数：2

## 4. TRIX 三重指数平滑平均线
### 计算方法
- TRIX：收盘价的三重EMA的ROC
- TRMA（trix_20_sma）：TRIX的20日移动平均

### 参数设置
- TRIX周期：12
- TRMA周期：20

## 5. CR 能量指标
### 计算方法
1. 中间价（m_price）= 成交额 / 成交量
2. 上升值（h_m）= 最高价 - MIN(前一日中间价, 最高价)
3. 下跌值（m_l）= 前一日中间价 - MIN(前一日中间价, 最低价)
4. 上升值和（h_m_sum）= 26日上升值之和
5. 下跌值和（m_l_sum）= 26日下跌值之和
6. CR = (上升值和 / 下跌值和) * 100
7. 各周期移动平均：CR-MA1(5日)、CR-MA2(10日)、CR-MA3(20日)

## 6. RSI 相对强弱指标
### 计算方法
使用talib库计算：
- RSI = 100 - (100 / (1 + RS))
- RS = N日上涨幅度平均 / N日下跌幅度平均

### 参数设置
- RSI：14日周期
- RSI_6：6日周期
- RSI_12：12日周期
- RSI_24：24日周期

## 7. VR 成交量变异率
### 计算方法
1. AV（上涨成交量）= 涨幅>0时的成交量，否则为0
2. BV（下跌成交量）= 涨幅<0时的成交量，否则为0
3. CV（平盘成交量）= 涨幅=0时的成交量，否则为0
4. AVS = 26日AV之和
5. BVS = 26日BV之和
6. CVS = 26日CV之和
7. VR = ((AVS + CVS/2) / (BVS + CVS/2)) * 100
8. MAVR（vr_6_sma）= VR的6日移动平均

## 8. ATR 平均真实波幅
### 计算方法
1. 真实波幅（TR）= MAX(最高价-最低价, ABS(最高价-昨收), ABS(昨收-最低价))
2. ATR = TR的14日移动平均

### 参数设置
- 周期：14

## 9. DMI 趋向指标
### 计算方法
1. 计算上升动向（+DM）和下降动向（-DM）
2. 计算上升趋向（+DI）和下降趋向（-DI）
3. DX = ABS(+DI - -DI) / (+DI + -DI) * 100
4. ADX = DX的6日EMA
5. ADXR = ADX的6日EMA

### 参数设置
- 趋向周期：14
- 平滑周期：6

## 10. WR 威廉指标
### 计算方法
使用talib库计算：
- WR = (最高价N日最高 - 收盘价) / (最高价N日最高 - 最低价N日最低) * -100

### 参数设置
- WR_6：6日周期
- WR_10：10日周期
- WR_14：14日周期

## 11. CCI 顺势指标
### 计算方法
使用talib库计算：
- CCI = (典型价格 - 典型价格N日均值) / (0.015 * 平均绝对偏差)

### 参数设置
- CCI：14日周期
- CCI_84：84日周期

## 12. DMA 平行线差指标
### 计算方法
1. MA10 = 10日收盘价移动平均
2. MA50 = 50日收盘价移动平均
3. DMA = MA10 - MA50
4. AMA（dma_10_sma）= DMA的10日移动平均

## 13. TEMA 三重指数移动平均
### 计算方法
使用talib库计算三重指数移动平均线

### 参数设置
- 周期：14

## 14. MFI 资金流量指标
### 计算方法
使用talib库计算：
- 典型价格 = (最高价 + 最低价 + 收盘价) / 3
- 资金流量 = 典型价格 * 成交量
- 正负资金流量分别计算
- MFI = (正资金流量 / (正资金流量 + 负资金流量)) * 100

### 参数设置
- 周期：14
- MFISMA：6日移动平均

## 15. VWMA 成交量加权移动平均
### 计算方法
1. TPV = 14日成交额之和
2. VOL = 14日成交量之和
3. VWMA = TPV / VOL
4. MVWMA = VWMA的6日移动平均

## 16. PPO 价格震荡百分比
### 计算方法
使用talib库计算：
- PPO = ((12日EMA - 26日EMA) / 26日EMA) * 100
- PPOS = PPO的9日EMA
- PPOH = PPO - PPOS

### 参数设置
- 快速EMA：12
- 慢速EMA：26
- 信号线：9

## 17. STOCHRSI 随机相对强弱指数
### 计算方法
1. 计算RSI的N日最小值和最大值
2. STOCHRSI_K = (RSI - RSI最小值) / (RSI最大值 - RSI最小值) * 100
3. STOCHRSI_D = STOCHRSI_K的3日移动平均

## 18. WT 波浪趋势指标
### 计算方法
1. ESA = 中间价的10日EMA
2. ESA_D = ABS(中间价 - ESA)的10日EMA
3. ESA_CI = (中间价 - ESA) / (0.015 * ESA_D)
4. WT1 = ESA_CI的21日EMA
5. WT2 = WT1的4日移动平均

## 19. Supertrend 超级趋势指标
### 计算方法
1. ATR乘数 = ATR * 3
2. 上下轨 = (最高价 + 最低价) / 2 ± ATR乘数
3. 根据价格与上下轨关系动态调整趋势线

## 20. ROC 变化率指标
### 计算方法
使用talib库计算：
- ROC = ((当前价格 - N日前价格) / N日前价格) * 100

### 参数设置
- ROC：12日周期
- ROCMA：6日移动平均
- ROCEMA：9日EMA

## 21. OBV 能量潮指标
### 计算方法
使用talib库计算：
- 如果今日收盘价 > 昨日收盘价，OBV = 昨日OBV + 今日成交量
- 如果今日收盘价 < 昨日收盘价，OBV = 昨日OBV - 今日成交量
- 如果今日收盘价 = 昨日收盘价，OBV = 昨日OBV

## 22. SAR 抛物线转向指标
### 计算方法
使用talib库计算抛物线转向点

## 23. PSY 心理线指标
### 计算方法
1. 计算N日内上涨天数
2. PSY = 上涨天数 / N * 100
3. PSYMA = PSY的6日移动平均

### 参数设置
- 周期：12
- PSYMA周期：6

## 24. BRAR 情绪指标
### 计算方法
1. BR（买卖气势指标）= N日内(最高价-昨收)之和 / N日内(昨收-最低价)之和 * 100
2. AR（买卖意愿指标）= N日内(最高价-开盘价)之和 / N日内(开盘价-最低价)之和 * 100

### 参数设置
- 周期：26

## 25. EMV 简易波动指标
### 计算方法
1. 计算中间价变化与成交量的关系
2. EMV = N日EMV值之和
3. EMVA = EMV的9日移动平均

### 参数设置
- 周期：14
- EMVA周期：9

## 26. BIAS 乖离率
### 计算方法
- BIAS = (收盘价 - N日移动平均) / N日移动平均 * 100

### 参数设置
- BIAS：6日周期
- BIAS_12：12日周期
- BIAS_24：24日周期

## 27. DPO 区间震荡线
### 计算方法
1. 计算11日移动平均
2. DPO = 收盘价 - 11日均线的前1日值
3. MADPO = DPO的6日移动平均

## 28. VHF 纵横指标
### 计算方法
1. HCP_LCP = N日最高收盘价 - N日最低收盘价
2. VHF = HCP_LCP / N日内绝对价格变化之和

### 参数设置
- 周期：28

## 29. RVI 相对活力指数
### 计算方法
1. 计算价格范围的移动平均比值
2. RVI = 价格范围X的10日MA / 价格范围Y的10日MA
3. RVI信号线 = (RVI + 2*RVI前1日 + 2*RVI前2日 + RVI前3日) / 6

## 30. FI 力量指数
### 计算方法
1. FI = 收盘价变化 * 成交量
2. FORCE_2 = FI的2日EMA
3. FORCE_13 = FI的13日EMA

## 31. ENE 轨道线
### 计算方法
1. 中轨 = 10日移动平均
2. 上轨（ene_ue）= 中轨 * (1 + 11%)
3. 下轨（ene_le）= 中轨 * (1 - 9%)
4. ENE = (上轨 + 下轨) / 2

## 32. VOL 成交量指标
### 计算方法
- VOL_5 = 5日成交量移动平均
- VOL_10 = 10日成交量移动平均

## 33. MA 简单移动平均
### 计算方法
- MA20 = 20日收盘价移动平均
- MA200 = 200日收盘价移动平均