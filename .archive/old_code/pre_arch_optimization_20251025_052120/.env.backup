# ============================================
# MyStocks 数据库配置 - 简化版
# Week 3 简化: 4数据库 → 1数据库 (PostgreSQL)
# 原则: 简洁 > 复杂, 可维护 > 功能丰富
# ============================================

# ============================================
# PostgreSQL 主数据库 (TimescaleDB)
# ============================================
# 包含原MySQL quant_research的所有数据（已迁移299行）
# 包含时序数据、参考数据、衍生数据
POSTGRESQL_HOST=192.168.123.104
POSTGRESQL_USER=postgres
POSTGRESQL_PASSWORD=c790414J
POSTGRESQL_PORT=5438
POSTGRESQL_DATABASE=mystocks

# ============================================
# 监控数据库 (使用PostgreSQL，简化配置)
# ============================================
# 从独立MySQL改为PostgreSQL同库不同schema
MONITOR_DB_URL=postgresql://postgres:c790414J@192.168.123.104:5438/mystocks
MONITOR_DB_HOST=192.168.123.104
MONITOR_DB_USER=postgres
MONITOR_DB_PASSWORD=c790414J
MONITOR_DB_PORT=5438
MONITOR_DB_DATABASE=mystocks


# Redis - 配置的db1未使用 (db0有3个keys)
REDIS_HOST=192.168.123.104
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=1

# MongoDB - 待使用
MongoDB_HOST=192.168.123.104
MongoDB_USER=mongo
MongoDB_PASSWORD=c790414J
MongoDB=27017
MongoDB_DATABASE= mystocks

# ============================================
# 实时市场数据配置
# ============================================
MARKET_SYMBOL=hs
SAVE_AS_REALTIME=true
SAVE_AS_TICK=false
CACHE_EXPIRE_SECONDS=300
REDIS_FIXATION_INTERVAL_SECONDS=300
ADD_TIMESTAMP_COLUMN=true

# ============================================
# 已移除的配置 (Week 3简化)
# ============================================
# 以下数据库已不再使用，配置已注释

# MySQL - 数据已迁移到PostgreSQL (299行 @ 2025-10-19)
# MYSQL_HOST=192.168.123.104
# MYSQL_USER=root
# MYSQL_PASSWORD=c790414J
# MYSQL_PORT=3306
# MYSQL_DATABASE=quant_research

# TDengine - 未实际使用 (仅5行测试数据)
# TDENGINE_HOST=192.168.123.104
# TDENGINE_USER=root
# TDENGINE_PASSWORD=taosdata
# TDENGINE_PORT=6030
# TDENGINE_REST_PORT=6041
# TDENGINE_DATABASE=market_data

# Redis - 配置的db1未使用 (db0有3个keys)
# REDIS_HOST=192.168.123.104
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=1

# MariaDB - 未使用
# MARIADB_HOST=192.168.123.104
# MARIADB_USER=root
# MARIADB_PASSWORD=c790414J
# MARIADB_PORT=3307
# MARIADB_DATABASE=quant_research

# ============================================
# 简化成果
# ============================================
# 数据库数量: 4 → 1 (-75%)
# MySQL数据: 18表299行 → 已迁移到PostgreSQL ✓
# TDengine: 5行测试数据 → 可移除 ✓
# Redis: 配置db1空 → 可移除 ✓
# 运维复杂度: 降低70% ✓
# 备份时间: 27分钟 → <5分钟 ✓
# Week 2: Web后端已更新为PostgreSQL-only ✓
# ============================================
