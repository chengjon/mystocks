# ===================================
# Database Configuration (Week 3简化后)
# ===================================
#
# 系统使用双数据库架构:
# - TDengine: 高频时序数据 (Tick, 分钟K线)
# - PostgreSQL: 所有其他数据类型 (日线, 参考数据, 衍生数据, 交易数据, 元数据)
#

# TDengine Configuration (高频时序数据专用)
TDENGINE_HOST=192.168.123.104
TDENGINE_PORT=6030
TDENGINE_USER=root
TDENGINE_PASSWORD=taosdata
TDENGINE_DATABASE=market_data
TDENGINE_REST_PORT=6041

# PostgreSQL Configuration (通用数据仓库 + TimescaleDB扩展)
POSTGRESQL_HOST=192.168.123.104
POSTGRESQL_PORT=5438
POSTGRESQL_USER=postgres
POSTGRESQL_PASSWORD=c790414J
POSTGRESQL_DATABASE=mystocks

# Monitoring Database (使用PostgreSQL同库独立schema)
MONITOR_DB_URL=postgresql://postgres:c790414J@192.168.123.104:5438/mystocks

# Application-Level Cache Configuration (应用层缓存 - 替代Redis)
CACHE_EXPIRE_SECONDS=300
LRU_CACHE_MAXSIZE=1000

# JWT Authentication Configuration (用于API认证)
JWT_SECRET_KEY=your-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ===================================
# FastAPI Backend Configuration
# ===================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8888
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# 后端可用端口范围 (支持多实例部署)
BACKEND_PORT_RANGE_START=8000
BACKEND_PORT_RANGE_END=8009

# Frontend Configuration
VITE_API_BASE_URL=http://localhost:8888

# 前端可用端口范围 (支持多实例部署)
FRONTEND_PORT_RANGE_START=3000
FRONTEND_PORT_RANGE_END=3009

# ===================================
# Quantitative Trading Configuration
# ===================================

# TDX (Tongdaxin) Data Source
TDX_DATA_PATH=/mnt/d/ProgramData/tdx_new/vipdoc
TDX_MARKETS=sh,sz,bj,cw,ds,ot
TDX_APPLY_ADJUSTMENT=true
TDX_SKIP_WEEKENDS=true

# RQAlpha Data Bundle (if using RQAlpha backtesting)
RQALPHA_DATA_PATH=/opt/claude/mystocks_spec/data/rqalpha_bundle

# Backtest Configuration
BACKTEST_INITIAL_CAPITAL=100000
BACKTEST_COMMISSION_RATE=0.0003
BACKTEST_SLIPPAGE_RATE=0.0001

# Strategy Configuration
STRATEGY_PARALLEL_WORKERS=4
STRATEGY_MAX_STOCKS_PER_RUN=1000USE_MOCK_DATA=true
