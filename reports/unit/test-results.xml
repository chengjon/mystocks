<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="38" skipped="3" tests="136" time="84.111" timestamp="2025-11-15T13:22:38.611870" hostname="Desktop-CLF"><testcase classname="tests.unit.test_column_mapper.TestColumnMapper" name="test_custom_mapping" time="0.005" /><testcase classname="tests.unit.test_column_mapper.TestColumnMapper" name="test_get_standard_columns" time="0.001" /><testcase classname="tests.unit.test_column_mapper.TestColumnMapper" name="test_standardize_columns_to_chinese" time="0.002" /><testcase classname="tests.unit.test_column_mapper.TestColumnMapper" name="test_standardize_columns_to_english" time="0.002" /><testcase classname="tests.unit.test_column_mapper.TestColumnMapper" name="test_standardize_columns_with_target_lang_param" time="0.002" /><testcase classname="tests.unit.test_column_mapper.TestColumnMapper" name="test_validate_columns" time="0.001" /><testcase classname="tests.unit.test_config_driven_table_manager.TestConfigDrivenTableManager" name="test_create_table_postgresql" time="0.014"><failure message="ConnectionError: PostgreSQL连接失败: connection to server at &quot;localhost&quot; (127.0.0.1), port 5432 failed: Connection refused&#10;&#09;Is the server running on that host and accepting TCP/IP connections?&#10;&#10;请检查配置: localhost:5432">src/storage/database/connection_manager.py:115: in get_postgresql_connection
    connection_pool = pool.SimpleConnectionPool(
/root/miniconda3/envs/stock/lib/python3.12/site-packages/psycopg2/pool.py:59: in __init__
    self._connect()
/root/miniconda3/envs/stock/lib/python3.12/site-packages/psycopg2/pool.py:63: in _connect
    conn = psycopg2.connect(*self._args, **self._kwargs)
/root/miniconda3/envs/stock/lib/python3.12/site-packages/psycopg2/__init__.py:122: in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
E   psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
E   	Is the server running on that host and accepting TCP/IP connections?

During handling of the above exception, another exception occurred:
tests/unit/test_config_driven_table_manager.py:143: in test_create_table_postgresql
    result = self.manager._create_postgresql_table(table_def)
src/core/config_driven_table_manager.py:249: in _create_postgresql_table
    conn = self.conn_manager.get_postgresql_connection()
src/storage/database/connection_manager.py:133: in get_postgresql_connection
    raise ConnectionError(
E   ConnectionError: PostgreSQL连接失败: connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
E   	Is the server running on that host and accepting TCP/IP connections?
E   
E   请检查配置: localhost:5432</failure></testcase><testcase classname="tests.unit.test_config_driven_table_manager.TestConfigDrivenTableManager" name="test_create_tdengine_table" time="7.725"><failure message="ConnectionError: TDengine连接失败: [0xE001] Internal error: `WebSocket internal error: IO error: Connection refused (os error 111)`&#10;请检查配置: localhost:6030">src/storage/database/connection_manager.py:80: in get_tdengine_connection
    conn = taosws.connect(
E   taosws.ConnectionError: [0xE001] Internal error: `WebSocket internal error: IO error: Connection refused (os error 111)`

During handling of the above exception, another exception occurred:
tests/unit/test_config_driven_table_manager.py:183: in test_create_tdengine_table
    result = self.manager._create_tdengine_super_table(table_def)
src/core/config_driven_table_manager.py:185: in _create_tdengine_super_table
    conn = self.conn_manager.get_tdengine_connection()
src/storage/database/connection_manager.py:95: in get_tdengine_connection
    raise ConnectionError(
E   ConnectionError: TDengine连接失败: [0xE001] Internal error: `WebSocket internal error: IO error: Connection refused (os error 111)`
E   请检查配置: localhost:6030</failure></testcase><testcase classname="tests.unit.test_config_driven_table_manager.TestConfigDrivenTableManager" name="test_initialize_tables" time="0.011" /><testcase classname="tests.unit.test_config_driven_table_manager.TestConfigDrivenTableManager" name="test_load_config" time="0.029" /><testcase classname="tests.unit.test_config_driven_table_manager.TestConfigDrivenTableManager" name="test_table_exists_check" time="0.006" /><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_01_config_structure" time="0.171" /><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_02_database_config" time="0.001" /><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_03_table_count" time="0.001"><failure message="AttributeError: 'ConfigDrivenTableManager' object has no attribute 'get_table_count_by_database'">tests/unit/test_config_validation.py:80: in test_03_table_count
    stats = self.manager.get_table_count_by_database()
E   AttributeError: 'ConfigDrivenTableManager' object has no attribute 'get_table_count_by_database'</failure></testcase><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_04_classification_coverage" time="0.002"><failure message="AssertionError: 数据分类覆盖率过低: 0.0%&#10;assert 0.0 &gt;= 70">tests/unit/test_config_validation.py:122: in test_04_classification_coverage
    assert coverage &gt;= 70, f"数据分类覆盖率过低: {coverage:.1f}%"
E   AssertionError: 数据分类覆盖率过低: 0.0%
E   assert 0.0 &gt;= 70</failure></testcase><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_05_table_name_uniqueness" time="0.001" /><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_06_required_columns" time="0.001" /><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_07_index_definition" time="0.001" /><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_08_compression_config" time="0.001"><failure message="AssertionError: 应该有表配置压缩策略&#10;assert 0 &gt; 0&#10; +  where 0 = len([])">tests/unit/test_config_validation.py:228: in test_08_compression_config
    assert len(tables_with_compression) &gt; 0, "应该有表配置压缩策略"
E   AssertionError: 应该有表配置压缩策略
E   assert 0 &gt; 0
E    +  where 0 = len([])</failure></testcase><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_09_retention_policy" time="0.001" /><testcase classname="tests.unit.test_config_validation.TestConfigValidation" name="test_10_maintenance_config" time="0.001"><failure message="AssertionError: 缺少auto_create_tables配置&#10;assert 'auto_create_tables' in {'backup': {'backup_path': '/backup/mystocks', 'enable': True, 'retention_days': 7, 'schedule': '0 2 * * *'}, 'data_quality_check': {'completeness_threshold': 0.95, 'enable': True, 'freshness_threshold_hours': 24, 'schedule': '0 1 * * *'}, 'database_optimization': {'enable': True, 'schedule': '0 5 * * 0'}, 'log_cleanup': {'enable': True, 'retention_days': 30, 'schedule': '0 4 * * *'}, ...}">tests/unit/test_config_validation.py:267: in test_10_maintenance_config
    assert "auto_create_tables" in maintenance, "缺少auto_create_tables配置"
E   AssertionError: 缺少auto_create_tables配置
E   assert 'auto_create_tables' in {'backup': {'backup_path': '/backup/mystocks', 'enable': True, 'retention_days': 7, 'schedule': '0 2 * * *'}, 'data_quality_check': {'completeness_threshold': 0.95, 'enable': True, 'freshness_threshold_hours': 24, 'schedule': '0 1 * * *'}, 'database_optimization': {'enable': True, 'schedule': '0 5 * * 0'}, 'log_cleanup': {'enable': True, 'retention_days': 30, 'schedule': '0 4 * * *'}, ...}</failure></testcase><testcase classname="tests.unit.test_data_classification.TestDataClassification" name="test_data_classification_count" time="0.001" /><testcase classname="tests.unit.test_data_classification.TestDataClassification" name="test_data_classification_enum_values" time="0.001" /><testcase classname="tests.unit.test_data_classification.TestDataClassification" name="test_database_target_count" time="0.001" /><testcase classname="tests.unit.test_data_classification.TestDataClassification" name="test_database_target_enum_values" time="0.001" /><testcase classname="tests.unit.test_data_source_interface.TestIDataSource" name="test_interface_abstract_methods" time="0.001" /><testcase classname="tests.unit.test_data_source_interface.TestIDataSource" name="test_method_signatures" time="0.001" /><testcase classname="tests.unit.test_database_service_unit.TestDatabaseServiceUnit" name="test_get_stock_list_empty_params" time="0.005" /><testcase classname="tests.unit.test_database_service_unit.TestDatabaseServiceUnit" name="test_get_stock_list_with_data" time="0.004"><failure message="assert 0 == 2&#10; +  where 0 = len([])">tests/unit/test_database_service_unit.py:57: in test_get_stock_list_with_data
    assert len(result) == 2
E   assert 0 == 2
E    +  where 0 = len([])</failure></testcase><testcase classname="tests.unit.test_database_service_unit.TestDatabaseServiceUnit" name="test_get_stock_detail_empty_code" time="0.002" /><testcase classname="tests.unit.test_database_service_unit.TestDatabaseServiceUnit" name="test_get_technical_indicators_empty_symbol" time="0.002" /><testcase classname="tests.unit.test_error_handler.TestUnifiedErrorHandler" name="test_convenience_functions" time="0.001" /><testcase classname="tests.unit.test_error_handler.TestUnifiedErrorHandler" name="test_log_error" time="0.002" /><testcase classname="tests.unit.test_error_handler.TestUnifiedErrorHandler" name="test_retry_on_failure_all_failures" time="0.302" /><testcase classname="tests.unit.test_error_handler.TestUnifiedErrorHandler" name="test_retry_on_failure_specific_exceptions" time="0.101" /><testcase classname="tests.unit.test_error_handler.TestUnifiedErrorHandler" name="test_retry_on_failure_success" time="0.102" /><testcase classname="tests.unit.test_error_handler.TestUnifiedErrorHandler" name="test_safe_execute_failure_with_default" time="0.001" /><testcase classname="tests.unit.test_error_handler.TestUnifiedErrorHandler" name="test_safe_execute_failure_with_reraise" time="0.001" /><testcase classname="tests.unit.test_error_handler.TestUnifiedErrorHandler" name="test_safe_execute_success" time="0.001" /><testcase classname="tests.unit.test_error_handler.TestCustomExceptions" name="test_data_error" time="0.001" /><testcase classname="tests.unit.test_error_handler.TestCustomExceptions" name="test_inheritance" time="0.001" /><testcase classname="tests.unit.test_mysql_table_creation.TestMySQLTableCreation" name="test_01_mysql_connection" time="0.181"><skipped type="pytest.skip" message="MySQL未配置或不可用">/opt/claude/mystocks_spec/tests/unit/test_mysql_table_creation.py:50: MySQL未配置或不可用</skipped></testcase><testcase classname="tests.unit.test_mysql_table_creation.TestMySQLTableCreation" name="test_02_mysql_table_count" time="0.002"><failure message="AssertionError: MySQL表数量不足: 7&#10;assert 7 &gt;= 10&#10; +  where 7 = len([{'classification': 'symbols_info', 'columns': [{'auto_increment': True, 'comment': '股票ID', 'name': 'symbol_id', 'primary_key': True, ...}, {'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '股票名称', 'length': 100, 'name': 'name', 'nullable': False, ...}, {'comment': '交易所', 'length': 10, 'name': 'exchange', 'nullable': False, ...}, {'comment': '市场类型(主板、中小板、创业板、科创板)', 'length': 20, 'name': 'market', 'type': 'VARCHAR'}, {'comment': '行业', 'length': 50, 'name': 'sector', 'type': 'VARCHAR'}, ...], 'database_name': 'quant_research', 'database_type': 'MySQL', ...}, {'classification': 'constituent_info', 'columns': [{'auto_increment': True, 'comment': '成分股ID', 'name': 'constituent_id', 'primary_key': True, ...}, {'comment': '指数代码', 'length': 20, 'name': 'index_code', 'nullable': False, ...}, {'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '权重(%)', 'name': 'weight', 'precision': 8, 'scale': 4, ...}, {'comment': '纳入日期', 'name': 'in_date', 'type': 'DATE'}, {'comment': '剔除日期', 'name': 'out_date', 'type': 'DATE'}, ...], 'database_name': 'quant_research', 'database_type': 'MySQL', ...}, {'classification': 'trade_cale...'task_id', 'primary_key': True, ...}, {'comment': '任务名称', 'length': 100, 'name': 'task_name', 'nullable': False, ...}, {'comment': '任务类型(data_import,indicator_calc,etc)', 'length': 30, 'name': 'task_type', 'nullable': False, ...}, {'comment': '调度表达式(cron)', 'length': 50, 'name': 'schedule_expression', 'nullable': False, ...}, {'comment': '是否启用', 'default': True, 'name': 'is_enabled', 'type': 'BOOLEAN'}, {'comment': '最后运行时间', 'name': 'last_run_time', 'type': 'TIMESTAMP'}, ...], 'database_name': 'quant_research', 'database_type': 'MySQL', ...}, {'classification': 'strategy_parameters', 'columns': [{'auto_increment': True, 'comment': '参数ID', 'name': 'param_id', 'primary_key': True, ...}, {'comment': '策略ID', 'length': 50, 'name': 'strategy_id', 'nullable': False, ...}, {'comment': '参数名称', 'length': 50, 'name': 'param_name', 'nullable': False, ...}, {'comment': '参数值', 'name': 'param_value', 'nullable': False, 'type': 'TEXT'}, {'comment': '参数类型(string,int,float,bool,json)', 'length': 20, 'name': 'param_type', 'nullable': False, ...}, {'comment': '参数描述', 'length': 200, 'name': 'description', 'type': 'VARCHAR'}, ...], 'database_name': 'quant_research', 'database_type': 'MySQL', ...}, ...])">tests/unit/test_mysql_table_creation.py:63: in test_02_mysql_table_count
    assert len(mysql_tables) &gt;= 10, f"MySQL表数量不足: {len(mysql_tables)}"
E   AssertionError: MySQL表数量不足: 7
E   assert 7 &gt;= 10
E    +  where 7 = len([{'classification': 'symbols_info', 'columns': [{'auto_increment': True, 'comment': '股票ID', 'name': 'symbol_id', 'primary_key': True, ...}, {'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '股票名称', 'length': 100, 'name': 'name', 'nullable': False, ...}, {'comment': '交易所', 'length': 10, 'name': 'exchange', 'nullable': False, ...}, {'comment': '市场类型(主板、中小板、创业板、科创板)', 'length': 20, 'name': 'market', 'type': 'VARCHAR'}, {'comment': '行业', 'length': 50, 'name': 'sector', 'type': 'VARCHAR'}, ...], 'database_name': 'quant_research', 'database_type': 'MySQL', ...}, {'classification': 'constituent_info', 'columns': [{'auto_increment': True, 'comment': '成分股ID', 'name': 'constituent_id', 'primary_key': True, ...}, {'comment': '指数代码', 'length': 20, 'name': 'index_code', 'nullable': False, ...}, {'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '权重(%)', 'name': 'weight', 'precision': 8, 'scale': 4, ...}, {'comment': '纳入日期', 'name': 'in_date', 'type': 'DATE'}, {'comment': '剔除日期', 'name': 'out_date', 'type': 'DATE'}, ...], 'database_name': 'quant_research', 'database_type': 'MySQL', ...}, {'classification': 'trade_cale...'task_id', 'primary_key': True, ...}, {'comment': '任务名称', 'length': 100, 'name': 'task_name', 'nullable': False, ...}, {'comment': '任务类型(data_import,indicator_calc,etc)', 'length': 30, 'name': 'task_type', 'nullable': False, ...}, {'comment': '调度表达式(cron)', 'length': 50, 'name': 'schedule_expression', 'nullable': False, ...}, {'comment': '是否启用', 'default': True, 'name': 'is_enabled', 'type': 'BOOLEAN'}, {'comment': '最后运行时间', 'name': 'last_run_time', 'type': 'TIMESTAMP'}, ...], 'database_name': 'quant_research', 'database_type': 'MySQL', ...}, {'classification': 'strategy_parameters', 'columns': [{'auto_increment': True, 'comment': '参数ID', 'name': 'param_id', 'primary_key': True, ...}, {'comment': '策略ID', 'length': 50, 'name': 'strategy_id', 'nullable': False, ...}, {'comment': '参数名称', 'length': 50, 'name': 'param_name', 'nullable': False, ...}, {'comment': '参数值', 'name': 'param_value', 'nullable': False, 'type': 'TEXT'}, {'comment': '参数类型(string,int,float,bool,json)', 'length': 20, 'name': 'param_type', 'nullable': False, ...}, {'comment': '参数描述', 'length': 200, 'name': 'description', 'type': 'VARCHAR'}, ...], 'database_name': 'quant_research', 'database_type': 'MySQL', ...}, ...])</failure></testcase><testcase classname="tests.unit.test_mysql_table_creation.TestMySQLTableCreation" name="test_03_mysql_table_structure" time="0.001"><failure message="AssertionError: 未找到stock_info表定义&#10;assert None is not None">tests/unit/test_mysql_table_creation.py:115: in test_03_mysql_table_structure
    assert stock_info is not None, "未找到stock_info表定义"
E   AssertionError: 未找到stock_info表定义
E   assert None is not None</failure></testcase><testcase classname="tests.unit.test_mysql_table_creation.TestMySQLTableCreation" name="test_04_create_mysql_tables" time="0.002" /><testcase classname="tests.unit.test_mysql_table_creation.TestMySQLTableCreation" name="test_05_verify_table_exists" time="0.001" /><testcase classname="tests.unit.test_mysql_table_creation.TestMySQLTableCreation" name="test_06_charset_and_collation" time="0.002" /><testcase classname="tests.unit.test_mysql_table_creation.TestMySQLTableCreation" name="test_07_auto_increment" time="0.001" /><testcase classname="tests.unit.test_postgresql_table_creation.TestPostgreSQLTableCreation" name="test_01_postgresql_connection" time="0.180"><skipped type="pytest.skip" message="PostgreSQL未配置或不可用">/opt/claude/mystocks_spec/tests/unit/test_postgresql_table_creation.py:51: PostgreSQL未配置或不可用</skipped></testcase><testcase classname="tests.unit.test_postgresql_table_creation.TestPostgreSQLTableCreation" name="test_02_timescaledb_extension" time="0.001" /><testcase classname="tests.unit.test_postgresql_table_creation.TestPostgreSQLTableCreation" name="test_03_postgresql_table_count" time="0.002"><failure message="AssertionError: PostgreSQL表数量不足: 9&#10;assert 9 &gt;= 10&#10; +  where 9 = len([{'classification': 'daily_kline', 'columns': [{'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '交易日期', 'name': 'trade_date', 'nullable': False, 'type': 'DATE'}, {'comment': '开盘价', 'name': 'open', 'precision': 10, 'scale': 4, ...}, {'comment': '最高价', 'name': 'high', 'precision': 10, 'scale': 4, ...}, {'comment': '最低价', 'name': 'low', 'precision': 10, 'scale': 4, ...}, {'comment': '收盘价', 'name': 'close', 'precision': 10, 'scale': 4, ...}, ...], 'database_name': 'quant_research', 'database_type': 'PostgreSQL', ...}, {'classification': 'technical_indicators', 'columns': [{'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '计算日期', 'name': 'calc_date', 'nullable': False, 'type': 'DATE'}, {'comment': '指标名称', 'length': 50, 'name': 'indicator_name', 'nullable': False, ...}, {'comment': '指标值', 'name': 'indicator_value', 'precision': 15, 'scale': 6, ...}, {'comment': '指标参数', 'name': 'indicator_params', 'type': 'JSONB'}, {'comment': '时间周期(1d,1w,1m)', 'length': 10, 'name': 'time_period', 'type': 'VARCHAR'}, ...], 'database_name': 'quant_research', 'database_type': 'PostgreSQL', ...}, {'classification': 'quantitative...comment': '信号ID', 'length': 50, 'name': 'signal_id', 'primary_key': True, ...}, {'comment': '策略ID', 'length': 50, 'name': 'strategy_id', 'nullable': False, ...}, {'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '信号时间', 'name': 'signal_time', 'nullable': False, 'type': 'TIMESTAMP'}, {'comment': '信号类型(BUY,SELL,HOLD)', 'length': 10, 'name': 'signal_type', 'nullable': False, ...}, {'comment': '信号强度(0-100)', 'name': 'signal_strength', 'precision': 5, 'scale': 2, ...}, ...], 'database_name': 'quant_research', 'database_type': 'PostgreSQL', ...}, {'classification': 'order_records', 'columns': [{'comment': '订单ID', 'length': 50, 'name': 'order_id', 'primary_key': True, ...}, {'comment': '客户端订单ID', 'length': 50, 'name': 'client_order_id', 'type': 'VARCHAR'}, {'comment': '账户ID', 'length': 30, 'name': 'account_id', 'nullable': False, ...}, {'comment': '策略ID', 'length': 50, 'name': 'strategy_id', 'type': 'VARCHAR'}, {'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '下单时间', 'name': 'order_time', 'nullable': False, 'type': 'TIMESTAMP'}, ...], 'database_name': 'quant_research', 'database_type': 'PostgreSQL', ...}, ...])">tests/unit/test_postgresql_table_creation.py:96: in test_03_postgresql_table_count
    assert len(pg_tables) &gt;= 10, f"PostgreSQL表数量不足: {len(pg_tables)}"
E   AssertionError: PostgreSQL表数量不足: 9
E   assert 9 &gt;= 10
E    +  where 9 = len([{'classification': 'daily_kline', 'columns': [{'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '交易日期', 'name': 'trade_date', 'nullable': False, 'type': 'DATE'}, {'comment': '开盘价', 'name': 'open', 'precision': 10, 'scale': 4, ...}, {'comment': '最高价', 'name': 'high', 'precision': 10, 'scale': 4, ...}, {'comment': '最低价', 'name': 'low', 'precision': 10, 'scale': 4, ...}, {'comment': '收盘价', 'name': 'close', 'precision': 10, 'scale': 4, ...}, ...], 'database_name': 'quant_research', 'database_type': 'PostgreSQL', ...}, {'classification': 'technical_indicators', 'columns': [{'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '计算日期', 'name': 'calc_date', 'nullable': False, 'type': 'DATE'}, {'comment': '指标名称', 'length': 50, 'name': 'indicator_name', 'nullable': False, ...}, {'comment': '指标值', 'name': 'indicator_value', 'precision': 15, 'scale': 6, ...}, {'comment': '指标参数', 'name': 'indicator_params', 'type': 'JSONB'}, {'comment': '时间周期(1d,1w,1m)', 'length': 10, 'name': 'time_period', 'type': 'VARCHAR'}, ...], 'database_name': 'quant_research', 'database_type': 'PostgreSQL', ...}, {'classification': 'quantitative...comment': '信号ID', 'length': 50, 'name': 'signal_id', 'primary_key': True, ...}, {'comment': '策略ID', 'length': 50, 'name': 'strategy_id', 'nullable': False, ...}, {'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '信号时间', 'name': 'signal_time', 'nullable': False, 'type': 'TIMESTAMP'}, {'comment': '信号类型(BUY,SELL,HOLD)', 'length': 10, 'name': 'signal_type', 'nullable': False, ...}, {'comment': '信号强度(0-100)', 'name': 'signal_strength', 'precision': 5, 'scale': 2, ...}, ...], 'database_name': 'quant_research', 'database_type': 'PostgreSQL', ...}, {'classification': 'order_records', 'columns': [{'comment': '订单ID', 'length': 50, 'name': 'order_id', 'primary_key': True, ...}, {'comment': '客户端订单ID', 'length': 50, 'name': 'client_order_id', 'type': 'VARCHAR'}, {'comment': '账户ID', 'length': 30, 'name': 'account_id', 'nullable': False, ...}, {'comment': '策略ID', 'length': 50, 'name': 'strategy_id', 'type': 'VARCHAR'}, {'comment': '股票代码', 'length': 20, 'name': 'symbol', 'nullable': False, ...}, {'comment': '下单时间', 'name': 'order_time', 'nullable': False, 'type': 'TIMESTAMP'}, ...], 'database_name': 'quant_research', 'database_type': 'PostgreSQL', ...}, ...])</failure></testcase><testcase classname="tests.unit.test_postgresql_table_creation.TestPostgreSQLTableCreation" name="test_04_hypertable_structure" time="0.001" /><testcase classname="tests.unit.test_postgresql_table_creation.TestPostgreSQLTableCreation" name="test_05_create_postgresql_tables" time="0.004" /><testcase classname="tests.unit.test_postgresql_table_creation.TestPostgreSQLTableCreation" name="test_06_verify_table_exists" time="0.002" /><testcase classname="tests.unit.test_postgresql_table_creation.TestPostgreSQLTableCreation" name="test_07_compression_policy" time="0.001" /><testcase classname="tests.unit.test_tdengine_table_creation.TestTDengineTableCreation" name="test_01_config_loaded" time="0.168" /><testcase classname="tests.unit.test_tdengine_table_creation.TestTDengineTableCreation" name="test_02_tdengine_connection" time="7.131"><skipped type="pytest.skip" message="TDengine未配置或不可用">/opt/claude/mystocks_spec/tests/unit/test_tdengine_table_creation.py:61: TDengine未配置或不可用</skipped></testcase><testcase classname="tests.unit.test_tdengine_table_creation.TestTDengineTableCreation" name="test_03_tdengine_table_count" time="0.002"><failure message="AssertionError: TDengine表数量不足: 3&#10;assert 3 &gt;= 5&#10; +  where 3 = len([{'classification': 'tick_data', 'columns': [{'comment': '时间戳', 'name': 'ts', 'nullable': False, 'type': 'TIMESTAMP'}, {'comment': '成交价格', 'name': 'price', 'type': 'FLOAT'}, {'comment': '成交量', 'name': 'volume', 'type': 'BIGINT'}, {'comment': '成交金额', 'name': 'amount', 'type': 'FLOAT'}, {'comment': '买一价', 'name': 'bid_price', 'type': 'FLOAT'}, {'comment': '卖一价', 'name': 'ask_price', 'type': 'FLOAT'}, ...], 'database_name': 'market_data', 'database_type': 'TDengine', ...}, {'classification': 'minute_kline', 'columns': [{'comment': '时间戳', 'name': 'ts', 'nullable': False, 'type': 'TIMESTAMP'}, {'comment': '开盘价', 'name': 'open', 'type': 'FLOAT'}, {'comment': '最高价', 'name': 'high', 'type': 'FLOAT'}, {'comment': '最低价', 'name': 'low', 'type': 'FLOAT'}, {'comment': '收盘价', 'name': 'close', 'type': 'FLOAT'}, {'comment': '成交量', 'name': 'volume', 'type': 'BIGINT'}, ...], 'database_name': 'market_data', 'database_type': 'TDengine', ...}, {'classification': 'depth_data', 'columns': [{'comment': '时间戳', 'name': 'ts', 'nullable': False, 'type': 'TIMESTAMP'}, {'comment': '档位(1-10)', 'name': 'level', 'type': 'INT'}, {'comment': '买价', 'name': 'bid_price', 'type': 'FLOAT'}, {'comment': '买量', 'name': 'bid_volume', 'type': 'BIGINT'}, {'comment': '卖价', 'name': 'ask_price', 'type': 'FLOAT'}, {'comment': '卖量', 'name': 'ask_volume', 'type': 'BIGINT'}, ...], 'database_name': 'market_data', 'database_type': 'TDengine', ...}])">tests/unit/test_tdengine_table_creation.py:75: in test_03_tdengine_table_count
    assert len(tdengine_tables) &gt;= 5, f"TDengine表数量不足: {len(tdengine_tables)}"
E   AssertionError: TDengine表数量不足: 3
E   assert 3 &gt;= 5
E    +  where 3 = len([{'classification': 'tick_data', 'columns': [{'comment': '时间戳', 'name': 'ts', 'nullable': False, 'type': 'TIMESTAMP'}, {'comment': '成交价格', 'name': 'price', 'type': 'FLOAT'}, {'comment': '成交量', 'name': 'volume', 'type': 'BIGINT'}, {'comment': '成交金额', 'name': 'amount', 'type': 'FLOAT'}, {'comment': '买一价', 'name': 'bid_price', 'type': 'FLOAT'}, {'comment': '卖一价', 'name': 'ask_price', 'type': 'FLOAT'}, ...], 'database_name': 'market_data', 'database_type': 'TDengine', ...}, {'classification': 'minute_kline', 'columns': [{'comment': '时间戳', 'name': 'ts', 'nullable': False, 'type': 'TIMESTAMP'}, {'comment': '开盘价', 'name': 'open', 'type': 'FLOAT'}, {'comment': '最高价', 'name': 'high', 'type': 'FLOAT'}, {'comment': '最低价', 'name': 'low', 'type': 'FLOAT'}, {'comment': '收盘价', 'name': 'close', 'type': 'FLOAT'}, {'comment': '成交量', 'name': 'volume', 'type': 'BIGINT'}, ...], 'database_name': 'market_data', 'database_type': 'TDengine', ...}, {'classification': 'depth_data', 'columns': [{'comment': '时间戳', 'name': 'ts', 'nullable': False, 'type': 'TIMESTAMP'}, {'comment': '档位(1-10)', 'name': 'level', 'type': 'INT'}, {'comment': '买价', 'name': 'bid_price', 'type': 'FLOAT'}, {'comment': '买量', 'name': 'bid_volume', 'type': 'BIGINT'}, {'comment': '卖价', 'name': 'ask_price', 'type': 'FLOAT'}, {'comment': '卖量', 'name': 'ask_volume', 'type': 'BIGINT'}, ...], 'database_name': 'market_data', 'database_type': 'TDengine', ...}])</failure></testcase><testcase classname="tests.unit.test_tdengine_table_creation.TestTDengineTableCreation" name="test_04_super_table_structure" time="0.001"><failure message="AssertionError: 标签定义为空&#10;assert 0 &gt; 0&#10; +  where 0 = len([])">tests/unit/test_tdengine_table_creation.py:114: in test_04_super_table_structure
    assert len(tags) &gt; 0, "标签定义为空"
E   AssertionError: 标签定义为空
E   assert 0 &gt; 0
E    +  where 0 = len([])</failure></testcase><testcase classname="tests.unit.test_tdengine_table_creation.TestTDengineTableCreation" name="test_05_create_super_table" time="40.636" /><testcase classname="tests.unit.test_tdengine_table_creation.TestTDengineTableCreation" name="test_06_verify_table_exists" time="21.659" /><testcase classname="tests.unit.test_unified_manager.TestMyStocksUnifiedManager" name="test_data_classification_enum" time="0.005"><failure message="AssertionError: 'TICK_DATA' != 'tick_data'&#10;- TICK_DATA&#10;+ tick_data">tests/unit/test_unified_manager.py:133: in test_data_classification_enum
    self.assertEqual(DataClassification.TICK_DATA.value, "tick_data")
E   AssertionError: 'TICK_DATA' != 'tick_data'
E   - TICK_DATA
E   + tick_data</failure></testcase><testcase classname="tests.unit.test_unified_manager.TestMyStocksUnifiedManager" name="test_initialization" time="0.001"><failure message="AttributeError: 'MyStocksUnifiedManager' object has no attribute '_initialized'">tests/unit/test_unified_manager.py:34: in test_initialization
    self.assertTrue(self.manager._initialized)
E   AttributeError: 'MyStocksUnifiedManager' object has no attribute '_initialized'</failure></testcase><testcase classname="tests.unit.test_unified_manager.TestMyStocksUnifiedManager" name="test_load_data_by_classification_postgresql" time="0.003"><failure message="AttributeError: type object 'DataClassification' has no attribute 'REALTIME_DATA'">tests/unit/test_unified_manager.py:120: in test_load_data_by_classification_postgresql
    result = self.manager.load_data_by_classification(
src/core/unified_manager.py:332: in load_data_by_classification
    target_db = self._get_target_database(classification)
src/core/unified_manager.py:137: in _get_target_database
    DataClassification.REALTIME_DATA,
E   AttributeError: type object 'DataClassification' has no attribute 'REALTIME_DATA'</failure></testcase><testcase classname="tests.unit.test_unified_manager.TestMyStocksUnifiedManager" name="test_load_data_by_classification_tdengine" time="0.002"><failure message="AttributeError: type object 'DataClassification' has no attribute 'REALTIME_DATA'">tests/unit/test_unified_manager.py:97: in test_load_data_by_classification_tdengine
    result = self.manager.load_data_by_classification(
src/core/unified_manager.py:332: in load_data_by_classification
    target_db = self._get_target_database(classification)
src/core/unified_manager.py:137: in _get_target_database
    DataClassification.REALTIME_DATA,
E   AttributeError: type object 'DataClassification' has no attribute 'REALTIME_DATA'</failure></testcase><testcase classname="tests.unit.test_unified_manager.TestMyStocksUnifiedManager" name="test_save_data_by_classification_postgresql" time="0.002"><failure message="AttributeError: type object 'DataClassification' has no attribute 'REALTIME_DATA'">tests/unit/test_unified_manager.py:75: in test_save_data_by_classification_postgresql
    result = self.manager.save_data_by_classification(
src/core/unified_manager.py:201: in save_data_by_classification
    target_db = self._get_target_database(classification)
src/core/unified_manager.py:137: in _get_target_database
    DataClassification.REALTIME_DATA,
E   AttributeError: type object 'DataClassification' has no attribute 'REALTIME_DATA'</failure></testcase><testcase classname="tests.unit.test_unified_manager.TestMyStocksUnifiedManager" name="test_save_data_by_classification_tdengine" time="0.002"><failure message="AttributeError: type object 'DataClassification' has no attribute 'REALTIME_DATA'">tests/unit/test_unified_manager.py:50: in test_save_data_by_classification_tdengine
    result = self.manager.save_data_by_classification(
src/core/unified_manager.py:201: in save_data_by_classification
    target_db = self._get_target_database(classification)
src/core/unified_manager.py:137: in _get_target_database
    DataClassification.REALTIME_DATA,
E   AttributeError: type object 'DataClassification' has no attribute 'REALTIME_DATA'</failure></testcase><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_initialization" time="0.001"><failure message="AttributeError: 'AkshareDataSource' object has no attribute 'initialize'">tests/unit/adapters/test_akshare_adapter.py:65: in test_initialization
    result = self.adapter.initialize()
E   AttributeError: 'AkshareDataSource' object has no attribute 'initialize'</failure></testcase><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_get_stock_daily" time="0.446"><failure message="assert 7 == 10&#10; +  where 7 = len(         date  symbol  open  close  ...  amplitude  pct_chg  change  turnover_rate\n0  2024-01-02  000001  7.83   7.65  ...       2.68    -2.30   -0.18           0.60\n1  2024-01-03  000001  7.63   7.64  ...       0.92    -0.13   -0.01           0.38\n2  2024-01-04  000001  7.63   7.55  ...       1.44    -1.18   -0.09           0.45\n3  2024-01-05  000001  7.54   7.71  ...       4.90     2.12    0.16           1.03\n4  2024-01-08  000001  7.67   7.59  ...       2.46    -1.56   -0.12           0.58\n5  2024-01-09  000001  7.60   7.62  ...       1.32     0.40    0.03           0.39\n6  2024-01-10  000001  7.60   7.53  ...       1.31    -1.18   -0.09           0.44\n\n[7 rows x 12 columns])">tests/unit/adapters/test_akshare_adapter.py:75: in test_get_stock_daily
    assert len(data) == 10
E   assert 7 == 10
E    +  where 7 = len(         date  symbol  open  close  ...  amplitude  pct_chg  change  turnover_rate\n0  2024-01-02  000001  7.83   7.65  ...       2.68    -2.30   -0.18           0.60\n1  2024-01-03  000001  7.63   7.64  ...       0.92    -0.13   -0.01           0.38\n2  2024-01-04  000001  7.63   7.55  ...       1.44    -1.18   -0.09           0.45\n3  2024-01-05  000001  7.54   7.71  ...       4.90     2.12    0.16           1.03\n4  2024-01-08  000001  7.67   7.59  ...       2.46    -1.56   -0.12           0.58\n5  2024-01-09  000001  7.60   7.62  ...       1.32     0.40    0.03           0.39\n6  2024-01-10  000001  7.60   7.53  ...       1.31    -1.18   -0.09           0.44\n\n[7 rows x 12 columns])</failure></testcase><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_get_stock_daily_invalid_symbol" time="0.003" /><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_get_stock_basic" time="0.001"><failure message="TypeError: AkshareDataSource.get_stock_basic() missing 1 required positional argument: 'symbol'">tests/unit/adapters/test_akshare_adapter.py:95: in test_get_stock_basic
    data = self.adapter.get_stock_basic()
E   TypeError: AkshareDataSource.get_stock_basic() missing 1 required positional argument: 'symbol'</failure></testcase><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_get_market_daily" time="0.001"><failure message="AttributeError: 'AkshareDataSource' object has no attribute 'get_market_daily'. Did you mean: 'get_index_daily'?">tests/unit/adapters/test_akshare_adapter.py:105: in test_get_market_daily
    data = self.adapter.get_market_daily('sh', '2024-01-01', '2024-01-03')
E   AttributeError: 'AkshareDataSource' object has no attribute 'get_market_daily'. Did you mean: 'get_index_daily'?</failure></testcase><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_get_market_daily_invalid_market" time="0.001"><failure message="AttributeError: 'AkshareDataSource' object has no attribute 'get_market_daily'. Did you mean: 'get_index_daily'?">tests/unit/adapters/test_akshare_adapter.py:115: in test_get_market_daily_invalid_market
    data = self.adapter.get_market_daily('invalid', '2024-01-01', '2024-01-03')
E   AttributeError: 'AkshareDataSource' object has no attribute 'get_market_daily'. Did you mean: 'get_index_daily'?</failure></testcase><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_get_stock_daily_with_mock" time="0.001"><failure message="AttributeError: &lt;module 'adapters.akshare_adapter' from '/opt/claude/mystocks_spec/tests/unit/adapters/../../../src/adapters/akshare_adapter.py'&gt; does not have the attribute 'akshare'">/root/miniconda3/envs/stock/lib/python3.12/unittest/mock.py:1393: in patched
    with self.decoration_helper(patched,
/root/miniconda3/envs/stock/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
/root/miniconda3/envs/stock/lib/python3.12/unittest/mock.py:1375: in decoration_helper
    arg = exit_stack.enter_context(patching)
/root/miniconda3/envs/stock/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
/root/miniconda3/envs/stock/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
/root/miniconda3/envs/stock/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'adapters.akshare_adapter' from '/opt/claude/mystocks_spec/tests/unit/adapters/../../../src/adapters/akshare_adapter.py'&gt; does not have the attribute 'akshare'</failure></testcase><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_data_validation" time="0.209" /><testcase classname="tests.unit.adapters.test_akshare_adapter.TestAkshareAdapter" name="test_error_handling" time="0.001"><failure message="AttributeError: &lt;module 'adapters.akshare_adapter' from '/opt/claude/mystocks_spec/tests/unit/adapters/../../../src/adapters/akshare_adapter.py'&gt; does not have the attribute 'akshare'">tests/unit/adapters/test_akshare_adapter.py:153: in test_error_handling
    with patch('adapters.akshare_adapter.akshare') as mock_akshare:
/root/miniconda3/envs/stock/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
/root/miniconda3/envs/stock/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'adapters.akshare_adapter' from '/opt/claude/mystocks_spec/tests/unit/adapters/../../../src/adapters/akshare_adapter.py'&gt; does not have the attribute 'akshare'</failure></testcase><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_system_initialization" time="0.001" /><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_save_data_by_classification" time="0.003" /><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_save_empty_dataframe" time="0.003" /><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_save_unknown_classification" time="0.002" /><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_load_data_by_classification" time="0.001" /><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_load_data_with_filters" time="0.002" /><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_load_nonexistent_data" time="0.002" /><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_cache_functionality" time="0.001"><failure message="KeyError: 'cache_hits'">tests/unit/core/test_unified_manager.py:290: in test_cache_functionality
    assert stats['cache_hits'] == 1
E   KeyError: 'cache_hits'</failure></testcase><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_cache_clear" time="0.002"><failure message="KeyError: 'cache_hits'">tests/unit/core/test_unified_manager.py:315: in test_cache_clear
    assert stats['cache_hits'] == 0
E   KeyError: 'cache_hits'</failure></testcase><testcase classname="tests.unit.core.test_unified_manager.TestMyStocksUnifiedManager" name="test_performance_tracking" time="0.001" /><testcase classname="tests.unit.core.test_unified_manager.TestDataClassification" name="test_classification_constants" time="0.001" /><testcase classname="tests.unit.core.test_unified_manager.TestDataClassification" name="test_classification_types" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestPostgreSQLDataAccess" name="test_connection" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestPostgreSQLDataAccess" name="test_disconnection" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestPostgreSQLDataAccess" name="test_execute_query" time="0.002" /><testcase classname="tests.unit.data_access.test_data_access.TestPostgreSQLDataAccess" name="test_execute_query_not_connected" time="0.002" /><testcase classname="tests.unit.data_access.test_data_access.TestPostgreSQLDataAccess" name="test_insert_data" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestPostgreSQLDataAccess" name="test_update_data" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestPostgreSQLDataAccess" name="test_insert_data_not_connected" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestTDengineDataAccess" name="test_connection" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestTDengineDataAccess" name="test_disconnection" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestTDengineDataAccess" name="test_write_points" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestTDengineDataAccess" name="test_write_points_not_connected" time="0.002" /><testcase classname="tests.unit.data_access.test_data_access.TestTDengineDataAccess" name="test_query_timeseries" time="0.002" /><testcase classname="tests.unit.data_access.test_data_access.TestTDengineDataAccess" name="test_query_timeseries_not_connected" time="0.001" /><testcase classname="tests.unit.data_access.test_data_access.TestTDengineDataAccess" name="test_timeseries_data_format" time="0.002" /><testcase classname="tests.unit.data_access.test_data_access.TestDataAccessIntegration" name="test_postgresql_and_tdengine_integration" time="0.004"><failure message="AssertionError: assert '000001' == '000002'&#10;  - 000002&#10;  ?      ^&#10;  + 000001&#10;  ?      ^">tests/unit/data_access/test_data_access.py:259: in test_postgresql_and_tdengine_integration
    assert ts_data['symbol'].iloc[0] == symbol
E   AssertionError: assert '000001' == '000002'
E     - 000002
E     ?      ^
E     + 000001
E     ?      ^</failure></testcase><testcase classname="tests.unit.data_access.test_data_access.TestDataAccessIntegration" name="test_data_consistency" time="0.002" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_create_alert_rule" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_delete_alert_rule" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_delete_nonexistent_rule" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_evaluate_alert_rules_gt_condition" time="0.001"><failure message="AssertionError: assert 'warning' == 'critical'&#10;  - critical&#10;  + warning">tests/unit/monitoring/test_alert_manager.py:230: in test_evaluate_alert_rules_gt_condition
    assert alerts[0]['severity'] == 'critical'  # 偏离50%，应为critical
E   AssertionError: assert 'warning' == 'critical'
E     - critical
E     + warning</failure></testcase><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_evaluate_alert_rules_lt_condition" time="0.001"><failure message="AssertionError: assert 'warning' == 'critical'&#10;  - critical&#10;  + warning">tests/unit/monitoring/test_alert_manager.py:249: in test_evaluate_alert_rules_lt_condition
    assert alerts[0]['severity'] == 'critical'  # 偏离50%，应为critical
E   AssertionError: assert 'warning' == 'critical'
E     - critical
E     + warning</failure></testcase><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_evaluate_alert_rules_no_trigger" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_disabled_rule_not_evaluated" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_multiple_rules_evaluation" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_alert_history_tracking" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_get_alert_history_filtering" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_monitoring_statistics" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertManager" name="test_rule_trigger_counting" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertSeverityDetermination" name="test_critical_severity" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertSeverityDetermination" name="test_warning_severity" time="0.001" /><testcase classname="tests.unit.monitoring.test_alert_manager.TestAlertSeverityDetermination" name="test_info_severity" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityConfig" name="test_security_config_exists" time="0.001"><failure message="AssertionError: 安全配置文件 .security.yml 必须存在&#10;assert False&#10; +  where False = &lt;bound method Path.exists of PosixPath('.security.yml')&gt;()&#10; +    where &lt;bound method Path.exists of PosixPath('.security.yml')&gt; = PosixPath('.security.yml').exists">tests/unit/security/test_security_config.py:19: in test_security_config_exists
    assert security_config.exists(), "安全配置文件 .security.yml 必须存在"
E   AssertionError: 安全配置文件 .security.yml 必须存在
E   assert False
E    +  where False = &lt;bound method Path.exists of PosixPath('.security.yml')&gt;()
E    +    where &lt;bound method Path.exists of PosixPath('.security.yml')&gt; = PosixPath('.security.yml').exists</failure></testcase><testcase classname="tests.unit.security.test_security_config.TestSecurityConfig" name="test_security_config_format" time="0.001"><failure message="FileNotFoundError: [Errno 2] No such file or directory: '.security.yml'">tests/unit/security/test_security_config.py:25: in test_security_config_format
    with open(security_config, 'r', encoding='utf-8') as f:
E   FileNotFoundError: [Errno 2] No such file or directory: '.security.yml'</failure></testcase><testcase classname="tests.unit.security.test_security_config.TestSecurityConfig" name="test_security_scanning_tools_configured" time="0.001"><failure message="FileNotFoundError: [Errno 2] No such file or directory: '.security.yml'">tests/unit/security/test_security_config.py:38: in test_security_scanning_tools_configured
    with open(security_config, 'r', encoding='utf-8') as f:
E   FileNotFoundError: [Errno 2] No such file or directory: '.security.yml'</failure></testcase><testcase classname="tests.unit.security.test_security_config.TestSecurityConfig" name="test_sensitive_file_patterns" time="0.001"><failure message="FileNotFoundError: [Errno 2] No such file or directory: '.security.yml'">tests/unit/security/test_security_config.py:49: in test_sensitive_file_patterns
    with open(security_config, 'r', encoding='utf-8') as f:
E   FileNotFoundError: [Errno 2] No such file or directory: '.security.yml'</failure></testcase><testcase classname="tests.unit.security.test_security_config.TestSecurityBestPractices" name="test_security_best_practices_doc_exists" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityBestPractices" name="test_security_best_practices_content" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityScanner" name="test_security_scanner_exists" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityScanner" name="test_security_scanner_executable" time="0.001"><failure message="AssertionError: 安全扫描器脚本应具有执行权限&#10;assert (33188 &amp; 73) != 0&#10; +  where 33188 = os.stat_result(st_mode=33188, st_ino=2360856, st_dev=2096, st_nlink=1, st_uid=0, st_gid=0, st_size=18465, st_atime=1763171358, st_mtime=1763078202, st_ctime=1763078202).st_mode&#10; +    where os.stat_result(st_mode=33188, st_ino=2360856, st_dev=2096, st_nlink=1, st_uid=0, st_gid=0, st_size=18465, st_atime=1763171358, st_mtime=1763078202, st_ctime=1763078202) = &lt;bound method Path.stat of PosixPath('scripts/security/security_scanner.py')&gt;()&#10; +      where &lt;bound method Path.stat of PosixPath('scripts/security/security_scanner.py')&gt; = PosixPath('scripts/security/security_scanner.py').stat">tests/unit/security/test_security_config.py:97: in test_security_scanner_executable
    assert scanner_path.stat().st_mode &amp; 0o111 != 0, "安全扫描器脚本应具有执行权限"
E   AssertionError: 安全扫描器脚本应具有执行权限
E   assert (33188 &amp; 73) != 0
E    +  where 33188 = os.stat_result(st_mode=33188, st_ino=2360856, st_dev=2096, st_nlink=1, st_uid=0, st_gid=0, st_size=18465, st_atime=1763171358, st_mtime=1763078202, st_ctime=1763078202).st_mode
E    +    where os.stat_result(st_mode=33188, st_ino=2360856, st_dev=2096, st_nlink=1, st_uid=0, st_gid=0, st_size=18465, st_atime=1763171358, st_mtime=1763078202, st_ctime=1763078202) = &lt;bound method Path.stat of PosixPath('scripts/security/security_scanner.py')&gt;()
E    +      where &lt;bound method Path.stat of PosixPath('scripts/security/security_scanner.py')&gt; = PosixPath('scripts/security/security_scanner.py').stat</failure></testcase><testcase classname="tests.unit.security.test_security_config.TestSecurityScanner" name="test_basic_security_checker_exists" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityScanner" name="test_security_scan_execution_script" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityDependencies" name="test_security_requirements_exists" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityDependencies" name="test_security_dependencies_content" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityScanning" name="test_security_logs_directory" time="0.001" /><testcase classname="tests.unit.security.test_security_config.TestSecurityScanning" name="test_security_scan_can_run" time="0.123" /><testcase classname="tests.unit.security.test_security_config.TestEnvironmentSecurity" name="test_env_files_not_in_git" time="0.001"><failure message="AssertionError: .gitignore 应包含敏感文件模式: *.key&#10;assert False">tests/unit/security/test_security_config.py:190: in test_env_files_not_in_git
    assert False, f".gitignore 应包含敏感文件模式: {pattern}"
E   AssertionError: .gitignore 应包含敏感文件模式: *.key
E   assert False</failure></testcase><testcase classname="tests.unit.security.test_security_config.TestSecurityIntegration" name="test_security_components_integration" time="0.001"><failure message="AssertionError: 安全文件 .security.yml 必须存在&#10;assert False&#10; +  where False = &lt;bound method Path.exists of PosixPath('.security.yml')&gt;()&#10; +    where &lt;bound method Path.exists of PosixPath('.security.yml')&gt; = PosixPath('.security.yml').exists">tests/unit/security/test_security_config.py:214: in test_security_components_integration
    assert path.exists(), f"安全文件 {file_path} 必须存在"
E   AssertionError: 安全文件 .security.yml 必须存在
E   assert False
E    +  where False = &lt;bound method Path.exists of PosixPath('.security.yml')&gt;()
E    +    where &lt;bound method Path.exists of PosixPath('.security.yml')&gt; = PosixPath('.security.yml').exists</failure></testcase><testcase classname="tests.unit.security.test_security_config.TestSecurityIntegration" name="test_security_documentation_links" time="0.014"><failure message="AssertionError: 文档应提及足够的安全概念，当前仅提及 6/8&#10;assert 6 &gt;= (8 * 0.8)&#10; +  where 8 = len(['SQL注入', 'XSS', 'CSRF', '身份认证', '授权', '加密', ...])">tests/unit/security/test_security_config.py:242: in test_security_documentation_links
    assert mentioned_concepts &gt;= len(security_concepts) * 0.8, \
E   AssertionError: 文档应提及足够的安全概念，当前仅提及 6/8
E   assert 6 &gt;= (8 * 0.8)
E    +  where 8 = len(['SQL注入', 'XSS', 'CSRF', '身份认证', '授权', '加密', ...])</failure></testcase></testsuite></testsuites>