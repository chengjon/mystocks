# Webç«¯é€‚é…å™¨ä¾èµ–åˆ†ææŠ¥å‘Š

**åˆ†ææ—¥æœŸ**: 2025-10-20
**ç›®çš„**: æ˜ç¡®Webç«¯åŠŸèƒ½å¯¹å„é€‚é…å™¨çš„ä¾èµ–å…³ç³»ï¼Œä¸ºç²¾ç®€å†³ç­–æä¾›æ•°æ®æ”¯æŒ

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

### æ ¸å¿ƒå‘ç°

**Webç«¯å…±ä¾èµ–4ä¸ªé€‚é…å™¨**:
- âœ… **2ä¸ªä¸»åº“é€‚é…å™¨** (æ¥è‡ª `/adapters/`)
  - `akshare_adapter` - è´¢åŠ¡æ•°æ®ã€Kçº¿æ•°æ®
  - `tdx_adapter` - å®æ—¶è¡Œæƒ…

- âœ… **2ä¸ªWebä¸“ç”¨é€‚é…å™¨** (æ¥è‡ª `/web/backend/app/adapters/`)
  - `wencai_adapter` - é—®è´¢é€‰è‚¡åŠŸèƒ½
  - `tqlex_adapter` - ç«ä»·æŠ¢ç­¹æ•°æ®

### å…³é”®æ´å¯Ÿ

1. **ä¸»åº“é€‚é…å™¨ï¼ˆakshare, tdxï¼‰**:
   - å±äºä¸‰å±‚æ¶æ„çš„**æ ¸å¿ƒå±‚**
   - Webç«¯é«˜åº¦ä¾èµ–ï¼Œ**ä¸å¯ç²¾ç®€**
   - å½±å“å¤šä¸ªæ ¸å¿ƒåŠŸèƒ½

2. **Webä¸“ç”¨é€‚é…å™¨ï¼ˆwencai, tqlexï¼‰**:
   - **ç‹¬ç«‹äºä¸»åº“**é€‚é…å™¨ä½“ç³»
   - ä»…ä¾›Webç«¯ä½¿ç”¨ï¼ŒCLI/Jupyterä¸ä¾èµ–
   - å¯ä»¥**ç‹¬ç«‹å†³ç­–**æ˜¯å¦ä¿ç•™

---

## ç¬¬1éƒ¨åˆ†ï¼šä¸»åº“é€‚é…å™¨ä¾èµ–åˆ†æ

### 1.1 Akshareé€‚é…å™¨

**ä¾èµ–ä½ç½®**: `/adapters/akshare_adapter.py`

**Webç«¯ä½¿ç”¨æ–‡ä»¶**:
```
/web/backend/app/api/data.py:316
/web/backend/app/services/data_service.py:36
```

**æä¾›åŠŸèƒ½**:

#### åŠŸèƒ½1: è´¢åŠ¡æŠ¥è¡¨æŸ¥è¯¢
**æ–‡ä»¶**: `app/api/data.py`
**ä»£ç ç¤ºä¾‹**:
```python
from adapters.akshare_adapter import AkshareDataSource
ak = AkshareDataSource()

# æ”¯æŒçš„æŠ¥è¡¨ç±»å‹
if report_type == "balance":
    df = ak.get_balance_sheet(symbol)       # èµ„äº§è´Ÿå€ºè¡¨
elif report_type == "income":
    df = ak.get_income_statement(symbol)    # åˆ©æ¶¦è¡¨
elif report_type == "cashflow":
    df = ak.get_cashflow_statement(symbol)  # ç°é‡‘æµé‡è¡¨
```

**å½±å“èŒƒå›´**:
- APIç«¯ç‚¹: `/api/v1/data/financial-reports/{symbol}`
- å‰ç«¯åŠŸèƒ½: è´¢åŠ¡æŠ¥è¡¨æŸ¥çœ‹å™¨

#### åŠŸèƒ½2: å†å²Kçº¿æ•°æ®
**æ–‡ä»¶**: `app/services/data_service.py`
**ä»£ç ç¤ºä¾‹**:
```python
from adapters.akshare_adapter import AkshareDataSource
ak = AkshareDataSource()

# è·å–æ—¥Kçº¿æ•°æ®
df = ak.get_daily_data(
    symbol=symbol,
    start_date=start_date,
    end_date=end_date
)
```

**å½±å“èŒƒå›´**:
- APIç«¯ç‚¹: `/api/v1/data/kline`
- å‰ç«¯åŠŸèƒ½: Kçº¿å›¾è¡¨ã€æŠ€æœ¯åˆ†æ

#### ç²¾ç®€å½±å“è¯„ä¼°

| ç»´åº¦ | è¯„ä¼°ç»“æœ |
|------|---------|
| **ä¾èµ–ç¨‹åº¦** | âš ï¸ é«˜åº¦ä¾èµ– |
| **åŠŸèƒ½é‡è¦æ€§** | ğŸ”¥ æ ¸å¿ƒåŠŸèƒ½ |
| **å¯æ›¿ä»£æ€§** | âŒ éš¾ä»¥æ›¿ä»£ |
| **ç”¨æˆ·å½±å“** | ğŸš¨ é‡å¤§å½±å“ - è´¢åŠ¡åˆ†æå’ŒKçº¿åŠŸèƒ½å®Œå…¨å¤±æ•ˆ |
| **ç²¾ç®€å»ºè®®** | âŒ **ä¸å¯ç²¾ç®€** - å±äºæ ¸å¿ƒå±‚ï¼Œå¿…é¡»ä¿ç•™ |

---

### 1.2 TDXé€‚é…å™¨

**ä¾èµ–ä½ç½®**: `/adapters/tdx_adapter.py`

**Webç«¯ä½¿ç”¨æ–‡ä»¶**:
```
/web/backend/app/api/market.py:240
/web/backend/app/services/tdx_service.py:16
```

**æä¾›åŠŸèƒ½**:

#### åŠŸèƒ½1: å®æ—¶è¡Œæƒ…æŸ¥è¯¢
**æ–‡ä»¶**: `app/api/market.py`
**ä»£ç ç¤ºä¾‹**:
```python
from adapters.tdx_adapter import TDXDataSource
tdx = TDXDataSource()

# è·å–å®æ—¶è¡Œæƒ…
quote_data = tdx.get_real_time_data(symbol)
```

**å½±å“èŒƒå›´**:
- APIç«¯ç‚¹: `/api/v1/market/quotes/realtime`
- å‰ç«¯åŠŸèƒ½: å®æ—¶è¡Œæƒ…å±•ç¤ºã€æ¶¨è·Œå¹…ç›‘æ§

#### åŠŸèƒ½2: æ‰¹é‡è¡Œæƒ…æŸ¥è¯¢
**æ–‡ä»¶**: `app/services/tdx_service.py`
**ç”¨é€”**:
- çƒ­é—¨è‚¡ç¥¨ç›‘æ§
- è‡ªé€‰è‚¡å®æ—¶æ›´æ–°
- è¡Œæƒ…æ¨é€æœåŠ¡

#### ç²¾ç®€å½±å“è¯„ä¼°

| ç»´åº¦ | è¯„ä¼°ç»“æœ |
|------|---------|
| **ä¾èµ–ç¨‹åº¦** | âš ï¸ é«˜åº¦ä¾èµ– |
| **åŠŸèƒ½é‡è¦æ€§** | ğŸ”¥ æ ¸å¿ƒåŠŸèƒ½ |
| **å¯æ›¿ä»£æ€§** | âš ï¸ å¯æ›¿ä»£ä½†éœ€è¦å¼€å‘ |
| **ç”¨æˆ·å½±å“** | ğŸš¨ é‡å¤§å½±å“ - å®æ—¶è¡Œæƒ…åŠŸèƒ½å®Œå…¨å¤±æ•ˆ |
| **ç²¾ç®€å»ºè®®** | âŒ **ä¸å¯ç²¾ç®€** - å±äºæ ¸å¿ƒå±‚ï¼Œå¿…é¡»ä¿ç•™ |

**æ›¿ä»£æ–¹æ¡ˆ**ï¼ˆå¦‚å¿…é¡»æ›¿ä»£ï¼‰:
- ä½¿ç”¨ `akshare` çš„å®æ—¶è¡Œæƒ…æ¥å£ï¼ˆå»¶è¿Ÿå¯èƒ½æ›´é«˜ï¼‰
- ä½¿ç”¨ `financial_adapter` çš„åŒæ•°æ®æºï¼ˆefinance + easyquotationï¼‰

---

## ç¬¬2éƒ¨åˆ†ï¼šWebä¸“ç”¨é€‚é…å™¨ä¾èµ–åˆ†æ

### 2.1 Wencaié€‚é…å™¨ â­

**ä¾èµ–ä½ç½®**: `/web/backend/app/adapters/wencai_adapter.py`

**ç‰¹ç‚¹**:
- âœ… **Webä¸“ç”¨** - CLI/Jupyterä¸ä¾èµ–
- âœ… **ç‹¬ç«‹å®ç°** - ä¸åœ¨ä¸»åº“é€‚é…å™¨ä¸­
- âœ… **å¯é€‰åŠŸèƒ½** - éæ ¸å¿ƒäº¤æ˜“æ•°æ®

**Webç«¯ä½¿ç”¨æ–‡ä»¶**:
```
/web/backend/app/services/wencai_service.py:25
/web/backend/app/api/wencai.py
/web/backend/app/tasks/wencai_tasks.py
```

**æä¾›åŠŸèƒ½**:

#### åŠŸèƒ½1: é—®è´¢é€‰è‚¡
**APIç«¯ç‚¹**: `/api/v1/wencai/query`

**åŠŸèƒ½æè¿°**:
```python
from app.adapters.wencai_adapter import WencaiDataSource

wencai = WencaiDataSource()
# ä½¿ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢è‚¡ç¥¨
result = wencai.query(
    query_text="å¸‚ç›ˆç‡å°äº20ä¸”ROEå¤§äº15%çš„è‚¡ç¥¨",
    pages=1
)
```

**æ”¯æŒçš„æŸ¥è¯¢æ¨¡å¼**:
- è‡ªç„¶è¯­è¨€é€‰è‚¡ï¼ˆ"å¸‚ç›ˆç‡å°äº20"ï¼‰
- æŠ€æœ¯æŒ‡æ ‡ç­›é€‰ï¼ˆ"MACDé‡‘å‰ä¸”æˆäº¤é‡æ”¾å¤§"ï¼‰
- åŸºæœ¬é¢ç­›é€‰ï¼ˆ"ROEå¤§äº15%ä¸”è´Ÿå€ºç‡å°äº50%"ï¼‰

**æ•°æ®å­˜å‚¨**:
- æ•°æ®åº“: PostgreSQL (mystocks)
- è¡¨å: `wencai_qs_1` ~ `wencai_qs_9` (9ä¸ªæŸ¥è¯¢ç»“æœè¡¨)

#### åŠŸèƒ½2: æŸ¥è¯¢å†å²è®°å½•
**APIç«¯ç‚¹**: `/api/v1/wencai/history`

**åŠŸèƒ½æè¿°**:
- ä¿å­˜ç”¨æˆ·çš„é—®è´¢æŸ¥è¯¢å†å²
- æ”¯æŒé‡å¤æ‰§è¡Œå†å²æŸ¥è¯¢
- æä¾›æŸ¥è¯¢ç»“æœç¼“å­˜

#### åŠŸèƒ½3: å®šæ—¶ä»»åŠ¡
**æ–‡ä»¶**: `app/tasks/wencai_tasks.py`

**åŠŸèƒ½æè¿°**:
- å®šæœŸæ‰§è¡Œé¢„è®¾æŸ¥è¯¢
- è‡ªåŠ¨æ›´æ–°é€‰è‚¡ç»“æœ
- å‘é€å˜åŒ–æé†’

#### ç²¾ç®€å½±å“è¯„ä¼°

| ç»´åº¦ | è¯„ä¼°ç»“æœ |
|------|---------|
| **ä¾èµ–ç¨‹åº¦** | âœ… Webä¸“ç”¨ï¼Œä¸»ç³»ç»Ÿä¸ä¾èµ– |
| **åŠŸèƒ½é‡è¦æ€§** | âš ï¸ å¢å¼ºåŠŸèƒ½ï¼ˆéæ ¸å¿ƒï¼‰ |
| **å¯æ›¿ä»£æ€§** | âœ… å¯ç”¨å…¶ä»–é€‰è‚¡æ–¹å¼æ›¿ä»£ |
| **ç”¨æˆ·å½±å“** | âš ï¸ ä¸­ç­‰å½±å“ - å¤±å»ä¾¿æ·é€‰è‚¡å·¥å…· |
| **ç²¾ç®€å»ºè®®** | âš ï¸ **å¯è€ƒè™‘ç²¾ç®€** - éœ€è°ƒç ”ç”¨æˆ·ä½¿ç”¨é¢‘ç‡ |

**ç²¾ç®€é€‰é¡¹**:

**é€‰é¡¹A: å®Œå…¨ä¿ç•™**
- âœ… ä¿æŒå½“å‰åŠŸèƒ½
- âŒ ç»´æŠ¤æˆæœ¬æŒç»­
- é€‚ç”¨äºï¼šé«˜é¢‘ä½¿ç”¨ç”¨æˆ·

**é€‰é¡¹B: ç®€åŒ–ä¿ç•™**
- âœ… ä¿ç•™æ ¸å¿ƒæŸ¥è¯¢åŠŸèƒ½
- âŒ å–æ¶ˆå®šæ—¶ä»»åŠ¡ã€å†å²è®°å½•
- âœ… å‡å°‘50%ç»´æŠ¤æˆæœ¬

**é€‰é¡¹C: å½’æ¡£**
- âœ… ä»£ç ä¿ç•™
- âŒ åŠŸèƒ½æš‚åœ
- âœ… å¯å¿«é€Ÿæ¢å¤
- é€‚ç”¨äºï¼šä½é¢‘ä½¿ç”¨åœºæ™¯

---

### 2.2 TQlexé€‚é…å™¨ â­

**ä¾èµ–ä½ç½®**: `/web/backend/app/adapters/tqlex_adapter.py`

**ç‰¹ç‚¹**:
- âœ… **Webä¸“ç”¨** - CLI/Jupyterä¸ä¾èµ–
- âœ… **ç‹¬ç«‹å®ç°** - ä¸åœ¨ä¸»åº“é€‚é…å™¨ä¸­
- âš ï¸ **éœ€è¦Token** - ä¾èµ–å¤–éƒ¨æœåŠ¡è®¤è¯

**Webç«¯ä½¿ç”¨æ–‡ä»¶**:
```
/web/backend/app/services/market_data_service.py:24
```

**æä¾›åŠŸèƒ½**:

#### åŠŸèƒ½1: ç«ä»·æŠ¢ç­¹æ•°æ®
**APIç«¯ç‚¹**: `/api/v1/market/chip-race`

**åŠŸèƒ½æè¿°**:
```python
from app.adapters.tqlex_adapter import TqlexDataSource

tqlex = TqlexDataSource(token=os.getenv('TQLEX_TOKEN'))
# è·å–æ—©ç›˜æŠ¢ç­¹æ•°æ®
df = tqlex.get_chip_race_open(date='2025-10-20')
```

**æ•°æ®ç‰¹ç‚¹**:
- ç«ä»·é˜¶æ®µèµ„é‡‘æµå‘
- å¤§å•è¿½è¸ª
- æŠ¢ç­¹å¼ºåº¦åˆ†æ

**å¤–éƒ¨ä¾èµ–**:
- API: `http://excalc.icfqs.com:7616/TQLEX`
- è®¤è¯: éœ€è¦ `TQLEX_TOKEN` ç¯å¢ƒå˜é‡
- è´¹ç”¨: å¯èƒ½éœ€è¦ä»˜è´¹è®¢é˜…

#### ç²¾ç®€å½±å“è¯„ä¼°

| ç»´åº¦ | è¯„ä¼°ç»“æœ |
|------|---------|
| **ä¾èµ–ç¨‹åº¦** | âœ… Webä¸“ç”¨ï¼Œä¸»ç³»ç»Ÿä¸ä¾èµ– |
| **åŠŸèƒ½é‡è¦æ€§** | âš ï¸ é«˜çº§åŠŸèƒ½ï¼ˆå°ä¼—éœ€æ±‚ï¼‰ |
| **å¯æ›¿ä»£æ€§** | âœ… ä¸å½±å“åŸºç¡€äº¤æ˜“åŠŸèƒ½ |
| **ç”¨æˆ·å½±å“** | âœ… ä½å½±å“ - å¤±å»é«˜çº§åˆ†æå·¥å…· |
| **å¤–éƒ¨ä¾èµ–** | âŒ éœ€è¦Tokenå’Œå¤–éƒ¨API |
| **ç²¾ç®€å»ºè®®** | âœ… **ä¼˜å…ˆè€ƒè™‘ç²¾ç®€** - ä½¿ç”¨ç‡éœ€éªŒè¯ |

**ç²¾ç®€é€‰é¡¹**:

**é€‰é¡¹A: æ¡ä»¶ä¿ç•™**
- âœ… æœ‰Tokenä¸”é«˜é¢‘ä½¿ç”¨ â†’ ä¿ç•™
- âŒ æ— Tokenæˆ–ä½é¢‘ä½¿ç”¨ â†’ å½’æ¡£

**é€‰é¡¹B: å½’æ¡£**
- âœ… ä»£ç ä¿ç•™åœ¨ `/web/backend/app/adapters/archived/`
- âœ… éœ€è¦æ—¶å¯å¿«é€Ÿæ¢å¤ï¼ˆ<5åˆ†é’Ÿï¼‰
- âœ… å‡å°‘å¤–éƒ¨APIä¾èµ–é£é™©

---

## ç¬¬3éƒ¨åˆ†ï¼šä¾èµ–å…³ç³»æ€»è§ˆ

### 3.1 é€‚é…å™¨å±‚çº§åˆ’åˆ†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Web Backend é€‚é…å™¨ä¾èµ–                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ ä¸»åº“é€‚é…å™¨ â”‚                   â”‚ Webä¸“ç”¨é€‚é…å™¨â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚         â”‚                   â”‚           â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚akshareâ”‚  â”‚ tdx â”‚          â”‚  wencai  â”‚ â”‚ tqlex  â”‚
â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚          â”‚                  â”‚           â”‚
   â”‚          â”‚                  â”‚           â”‚
æ ¸å¿ƒå±‚     æ ¸å¿ƒå±‚            å¯é€‰å±‚       å¯é€‰å±‚
ä¸å¯ç²¾ç®€   ä¸å¯ç²¾ç®€          å¯è€ƒè™‘      ä¼˜å…ˆç²¾ç®€
```

### 3.2 åŠŸèƒ½-é€‚é…å™¨æ˜ å°„è¡¨

| WebåŠŸèƒ½ | ä¾èµ–é€‚é…å™¨ | é‡è¦æ€§ | ç²¾ç®€å»ºè®® |
|---------|-----------|--------|---------|
| è´¢åŠ¡æŠ¥è¡¨æŸ¥è¯¢ | akshare | ğŸ”¥ æ ¸å¿ƒ | âŒ å¿…é¡»ä¿ç•™ |
| å†å²Kçº¿å›¾è¡¨ | akshare | ğŸ”¥ æ ¸å¿ƒ | âŒ å¿…é¡»ä¿ç•™ |
| å®æ—¶è¡Œæƒ…å±•ç¤º | tdx | ğŸ”¥ æ ¸å¿ƒ | âŒ å¿…é¡»ä¿ç•™ |
| æ‰¹é‡è¡Œæƒ…ç›‘æ§ | tdx | ğŸ”¥ æ ¸å¿ƒ | âŒ å¿…é¡»ä¿ç•™ |
| é—®è´¢é€‰è‚¡ | wencai | âš ï¸ å¢å¼º | âš ï¸ éœ€è°ƒç ” |
| é€‰è‚¡å†å²è®°å½• | wencai | âš ï¸ å¢å¼º | âš ï¸ å¯ç®€åŒ– |
| ç«ä»·æŠ¢ç­¹åˆ†æ | tqlex | âœ… é«˜çº§ | âœ… å¯ç²¾ç®€ |

---

## ç¬¬4éƒ¨åˆ†ï¼šç²¾ç®€å†³ç­–æ¡†æ¶

### 4.1 å†³ç­–çŸ©é˜µ

æ ¹æ®ä»¥ä¸‹ç»´åº¦è¯„ä¼°æ¯ä¸ªé€‚é…å™¨ï¼š

| é€‚é…å™¨ | ä½¿ç”¨èŒƒå›´ | åŠŸèƒ½é‡è¦æ€§ | æ›¿ä»£éš¾åº¦ | ç»´æŠ¤æˆæœ¬ | **å†³ç­–å»ºè®®** |
|--------|---------|-----------|---------|---------|-------------|
| **akshare** | ä¸»åº“+Web | æ ¸å¿ƒ | é«˜ | ä¸­ | âŒ **å¿…é¡»ä¿ç•™ï¼ˆæ ¸å¿ƒå±‚ï¼‰** |
| **tdx** | ä¸»åº“+Web | æ ¸å¿ƒ | ä¸­ | ä¸­ | âŒ **å¿…é¡»ä¿ç•™ï¼ˆæ ¸å¿ƒå±‚ï¼‰** |
| **wencai** | ä»…Web | å¢å¼º | ä½ | ä¸­ | âš ï¸ **éœ€ç”¨æˆ·è°ƒç ”** |
| **tqlex** | ä»…Web | é«˜çº§ | ä½ | ä½ | âœ… **å»ºè®®å½’æ¡£ï¼ˆå¯é€‰å±‚ï¼‰** |

### 4.2 ç”¨æˆ·è°ƒç ”é—®é¢˜ï¼ˆé’ˆå¯¹Webä¸“ç”¨é€‚é…å™¨ï¼‰

#### Wencaié€‚é…å™¨å†³ç­–é—®é¢˜

**Q1: æ‚¨ä½¿ç”¨é—®è´¢é€‰è‚¡åŠŸèƒ½å—ï¼Ÿ**
- [ ] ç»å¸¸ä½¿ç”¨ï¼ˆæ¯å¤©/æ¯å‘¨ï¼‰â†’ **å»ºè®®ä¿ç•™**
- [ ] å¶å°”ä½¿ç”¨ï¼ˆæ¯æœˆï¼‰â†’ **å¯ç®€åŒ–ä¿ç•™**
- [ ] å¾ˆå°‘ä½¿ç”¨ â†’ **å»ºè®®å½’æ¡£**
- [ ] ä»ä¸ä½¿ç”¨ â†’ **ä¼˜å…ˆå½’æ¡£**

**Q2: å¦‚æœå–æ¶ˆé—®è´¢åŠŸèƒ½ï¼Œæ˜¯å¦å¯æ¥å—ï¼Ÿ**
- [ ] ä¸å¯æ¥å—ï¼Œæ ¸å¿ƒåŠŸèƒ½ â†’ **å¿…é¡»ä¿ç•™**
- [ ] æœ‰å½±å“ï¼Œä½†å¯ç”¨å…¶ä»–æ–¹å¼ â†’ **å¯è€ƒè™‘å½’æ¡£**
- [ ] æ— å½±å“ â†’ **ä¼˜å…ˆå½’æ¡£**

**Q3: æ‚¨ä¸»è¦ç”¨é—®è´¢åšä»€ä¹ˆï¼Ÿ**
- [ ] åŸºæœ¬é¢ç­›é€‰ï¼ˆROEã€å¸‚ç›ˆç‡ç­‰ï¼‰â†’ å¯ç”¨DataFrameè¿‡æ»¤æ›¿ä»£
- [ ] æŠ€æœ¯æŒ‡æ ‡ç­›é€‰ï¼ˆMACDã€å‡çº¿ç­‰ï¼‰â†’ å¯ç”¨æŠ€æœ¯åˆ†æåº“æ›¿ä»£
- [ ] å¤æ‚è‡ªç„¶è¯­è¨€æŸ¥è¯¢ â†’ è¾ƒéš¾æ›¿ä»£ï¼Œå»ºè®®ä¿ç•™

#### TQlexé€‚é…å™¨å†³ç­–é—®é¢˜

**Q1: æ‚¨ä½¿ç”¨ç«ä»·æŠ¢ç­¹åŠŸèƒ½å—ï¼Ÿ**
- [ ] ç»å¸¸ä½¿ç”¨ â†’ **å»ºè®®ä¿ç•™**
- [ ] å¶å°”ä½¿ç”¨ â†’ **å¯ä¿ç•™**
- [ ] ä»ä¸ä½¿ç”¨ â†’ **ä¼˜å…ˆå½’æ¡£**

**Q2: æ‚¨æœ‰TQLEX_TOKENå—ï¼Ÿ**
- [ ] æœ‰ï¼Œä¸”åœ¨ä½¿ç”¨ â†’ **å»ºè®®ä¿ç•™**
- [ ] æœ‰ï¼Œä½†ä¸å¸¸ç”¨ â†’ **å¯å½’æ¡£**
- [ ] æ²¡æœ‰ â†’ **ä¼˜å…ˆå½’æ¡£**

**Q3: å¦‚æœå–æ¶ˆæ­¤åŠŸèƒ½ï¼Œæ˜¯å¦å¯æ¥å—ï¼Ÿ**
- [ ] ä¸å¯æ¥å— â†’ **ä¿ç•™**
- [ ] å¯æ¥å— â†’ **å½’æ¡£**

---

## ç¬¬5éƒ¨åˆ†ï¼šç²¾ç®€æ–¹æ¡ˆå»ºè®®

### æ–¹æ¡ˆA: æ¿€è¿›ç²¾ç®€ï¼ˆæ¨èï¼‰â­

**ä¸»åº“é€‚é…å™¨**:
- âœ… akshare - ä¿ç•™ï¼ˆæ ¸å¿ƒå±‚ï¼‰
- âœ… tdx - ä¿ç•™ï¼ˆæ ¸å¿ƒå±‚ï¼‰

**Webä¸“ç”¨é€‚é…å™¨**:
- âš ï¸ wencai - **å½’æ¡£**
  - ç§»åŠ¨åˆ° `/web/backend/app/adapters/archived/`
  - ä»£ç ä¿ç•™ï¼ŒåŠŸèƒ½ç¦ç”¨
  - éœ€è¦æ—¶å¯å¿«é€Ÿæ¢å¤

- âœ… tqlex - **å½’æ¡£**
  - ç§»åŠ¨åˆ° `/web/backend/app/adapters/archived/`
  - ä»£ç ä¿ç•™ï¼ŒåŠŸèƒ½ç¦ç”¨

**æ”¶ç›Š**:
- å‡å°‘2ä¸ªWebä¸“ç”¨é€‚é…å™¨ç»´æŠ¤
- å‡å°‘å¤–éƒ¨APIä¾èµ–ï¼ˆTQLEXï¼‰
- é™ä½å¤æ‚åº¦

**é£é™©**:
- å¤±å»é—®è´¢é€‰è‚¡ä¾¿æ·æ€§
- å¤±å»ç«ä»·æŠ¢ç­¹åˆ†æ

**é€‚ç”¨åœºæ™¯**:
- ç”¨æˆ·å¾ˆå°‘ä½¿ç”¨é—®è´¢å’Œç«ä»·åŠŸèƒ½
- ä¼˜å…ˆè€ƒè™‘ç³»ç»Ÿç®€æ´æ€§

---

### æ–¹æ¡ˆB: ä¿å®ˆç²¾ç®€

**ä¸»åº“é€‚é…å™¨**:
- âœ… akshare - ä¿ç•™ï¼ˆæ ¸å¿ƒå±‚ï¼‰
- âœ… tdx - ä¿ç•™ï¼ˆæ ¸å¿ƒå±‚ï¼‰

**Webä¸“ç”¨é€‚é…å™¨**:
- âœ… wencai - **ä¿ç•™**ï¼ˆç®€åŒ–ç‰ˆï¼‰
  - ä¿ç•™æ ¸å¿ƒæŸ¥è¯¢åŠŸèƒ½
  - å–æ¶ˆå®šæ—¶ä»»åŠ¡
  - å–æ¶ˆå†å²è®°å½•åŠŸèƒ½

- âš ï¸ tqlex - **å½’æ¡£**
  - ä½¿ç”¨é¢‘ç‡ä½ï¼Œä¼˜å…ˆå½’æ¡£

**æ”¶ç›Š**:
- ä¿ç•™å¸¸ç”¨çš„é—®è´¢åŠŸèƒ½
- å‡å°‘1ä¸ªå¤–éƒ¨APIä¾èµ–

**é£é™©**:
- wencaiç»´æŠ¤æˆæœ¬æŒç»­
- é—®è´¢APIå¯èƒ½å˜åŒ–éœ€è¦é€‚é…

**é€‚ç”¨åœºæ™¯**:
- ç”¨æˆ·ç»å¸¸ä½¿ç”¨é—®è´¢åŠŸèƒ½
- ä¸ä½¿ç”¨ç«ä»·æŠ¢ç­¹

---

### æ–¹æ¡ˆC: æœ€å°ç²¾ç®€ï¼ˆä¿å®ˆï¼‰

**ä¸»åº“é€‚é…å™¨**:
- âœ… akshare - ä¿ç•™ï¼ˆæ ¸å¿ƒå±‚ï¼‰
- âœ… tdx - ä¿ç•™ï¼ˆæ ¸å¿ƒå±‚ï¼‰

**Webä¸“ç”¨é€‚é…å™¨**:
- âœ… wencai - **å®Œå…¨ä¿ç•™**
- âœ… tqlex - **å®Œå…¨ä¿ç•™**

**æ”¶ç›Š**:
- 100%åŠŸèƒ½ä¿ç•™
- ç”¨æˆ·ä½“éªŒæ— å˜åŒ–

**é£é™©**:
- ç»´æŠ¤æˆæœ¬ä¸å˜
- ç³»ç»Ÿå¤æ‚åº¦ä¸å˜

**é€‚ç”¨åœºæ™¯**:
- æ‰€æœ‰åŠŸèƒ½éƒ½æœ‰é«˜é¢‘ä½¿ç”¨
- ä¸è€ƒè™‘ç²¾ç®€

---

## ç¬¬6éƒ¨åˆ†ï¼šå®æ–½æŒ‡å—

### 6.1 å¦‚æœå½’æ¡£wencaié€‚é…å™¨

**æ­¥éª¤1: ä»£ç ç§»åŠ¨**
```bash
cd /opt/claude/mystocks_spec/web/backend/app/adapters
mkdir -p archived
mv wencai_adapter.py archived/
```

**æ­¥éª¤2: ç¦ç”¨ç›¸å…³API**
```python
# åœ¨ app/api/wencai.py ä¸­æ·»åŠ 
@router.get("/status")
def wencai_status():
    return {
        "available": False,
        "message": "é—®è´¢åŠŸèƒ½å·²å½’æ¡£ï¼Œå¦‚éœ€ä½¿ç”¨è¯·è”ç³»ç®¡ç†å‘˜"
    }
```

**æ­¥éª¤3: å‰ç«¯æç¤º**
```javascript
// åœ¨å‰ç«¯æ˜¾ç¤ºåŠŸèƒ½å·²ç¦ç”¨
if (response.available === false) {
  showMessage("é—®è´¢é€‰è‚¡åŠŸèƒ½æš‚ä¸å¯ç”¨");
}
```

**å›æ»š**: ç§»å›åŸä½ç½®å³å¯ï¼Œ<5åˆ†é’Ÿ

---

### 6.2 å¦‚æœå½’æ¡£tqlexé€‚é…å™¨

**æ­¥éª¤1: ä»£ç ç§»åŠ¨**
```bash
cd /opt/claude/mystocks_spec/web/backend/app/adapters
mv tqlex_adapter.py archived/
```

**æ­¥éª¤2: ç§»é™¤ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰**
```bash
# ä» .env ä¸­ç§»é™¤
# TQLEX_TOKEN=xxx
```

**æ­¥éª¤3: ç¦ç”¨ç›¸å…³API**
```python
# åœ¨ app/api/market.py ä¸­
@router.get("/chip-race")
def chip_race_status():
    return {
        "available": False,
        "message": "ç«ä»·æŠ¢ç­¹åŠŸèƒ½å·²å½’æ¡£"
    }
```

**å›æ»š**: ç§»å›åŸä½ç½® + æ¢å¤ç¯å¢ƒå˜é‡ï¼Œ<5åˆ†é’Ÿ

---

## ç¬¬7éƒ¨åˆ†ï¼šå†³ç­–æ£€æŸ¥æ¸…å•

### Webä¸“ç”¨é€‚é…å™¨å†³ç­–æ¸…å•

**Wencaié€‚é…å™¨å†³ç­–**:
- [ ] å·²è°ƒç ”ç”¨æˆ·ä½¿ç”¨é¢‘ç‡
- [ ] å·²è¯„ä¼°æ›¿ä»£æ–¹æ¡ˆå¯è¡Œæ€§
- [ ] å·²ç¡®è®¤å‰ç«¯UIè°ƒæ•´æ–¹æ¡ˆ
- [ ] å·²å‡†å¤‡å›æ»šæ–¹æ¡ˆ
- [ ] **å†³ç­–**: [ ] ä¿ç•™ [ ] ç®€åŒ– [ ] å½’æ¡£

**TQlexé€‚é…å™¨å†³ç­–**:
- [ ] å·²ç¡®è®¤Tokené…ç½®çŠ¶æ€
- [ ] å·²è¯„ä¼°ä½¿ç”¨é¢‘ç‡
- [ ] å·²ç¡®è®¤å¤–éƒ¨APIä¾èµ–é£é™©
- [ ] å·²å‡†å¤‡å›æ»šæ–¹æ¡ˆ
- [ ] **å†³ç­–**: [ ] ä¿ç•™ [ ] å½’æ¡£

**ä¸»åº“é€‚é…å™¨ç¡®è®¤**:
- [x] akshare - æ ¸å¿ƒå±‚ï¼Œä¸ç²¾ç®€
- [x] tdx - æ ¸å¿ƒå±‚ï¼Œä¸ç²¾ç®€

---

## ğŸ“Š æ€»ç»“

### æ ¸å¿ƒç»“è®º

1. **ä¸»åº“é€‚é…å™¨ï¼ˆakshare, tdxï¼‰**:
   - âŒ **ä¸å¯ç²¾ç®€** - Webç«¯æ ¸å¿ƒåŠŸèƒ½å¼ºä¾èµ–
   - å±äºä¸‰å±‚æ¶æ„çš„æ ¸å¿ƒå±‚
   - å½±å“è´¢åŠ¡åˆ†æã€Kçº¿ã€å®æ—¶è¡Œæƒ…ç­‰æ ¸å¿ƒåŠŸèƒ½

2. **Webä¸“ç”¨é€‚é…å™¨ï¼ˆwencai, tqlexï¼‰**:
   - âœ… **å¯ç‹¬ç«‹å†³ç­–** - ä¸å½±å“ä¸»ç³»ç»Ÿ
   - éœ€åŸºäºç”¨æˆ·å®é™…ä½¿ç”¨é¢‘ç‡å†³ç­–
   - å½’æ¡£åå¯å¿«é€Ÿæ¢å¤ï¼ˆ<5åˆ†é’Ÿï¼‰

### æ¨èè·¯å¾„

**ç¬¬1æ­¥**: å…ˆç²¾ç®€TQlexï¼ˆé£é™©ä½ï¼‰
- ä½¿ç”¨ç‡ä½
- æœ‰å¤–éƒ¨ä¾èµ–
- åŠŸèƒ½éæ ¸å¿ƒ

**ç¬¬2æ­¥**: è°ƒç ”Wencaiä½¿ç”¨æƒ…å†µ
- å‘æ”¾ç”¨æˆ·è°ƒç ”é—®å·
- æ ¹æ®ç»“æœå†³å®šä¿ç•™/ç®€åŒ–/å½’æ¡£

**ç¬¬3æ­¥**: æŒç»­ä¿æŒä¸»åº“é€‚é…å™¨
- akshareå’Œtdxå¿…é¡»ä¿ç•™
- å®šæœŸç»´æŠ¤å’Œæ›´æ–°

---

**æŠ¥å‘Šç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-10-20
**ç»´æŠ¤è€…**: æŠ€æœ¯å›¢é˜Ÿ

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
1. é˜…è¯» `ADAPTER_FUNCTION_SURVEY.md` å‡†å¤‡ç”¨æˆ·è°ƒç ”
2. å¡«å†™å†³ç­–æ£€æŸ¥æ¸…å•
3. å›¢é˜Ÿè®¨è®ºå¹¶å†³ç­–
