Web 端程序 BUG 修复 AI 协作规范文档

一、核心协作原则
拒绝模糊需求，所有 BUG 修复需明确 “现象 + 预期 + 验证标准”，避免 AI 主观判断 “已修复”。
处理问题按优先级（P0/P1/P2）排序：让 AI 先修复阻断性问题（P0），再处理次要问题。
采用 “小步迭代” 模式，单次仅处理 2-3 个问题（按优先级排序），不允许批量模糊修复。
修复过程全透明，AI 需提供 “问题分析 + 代码变更 + 自测证据”，确保可追溯、可验证。
每次修复后，输出 **“修复说明文档”**，对应任务清单逐条说明操作，确保修复过程可验证
附具体证据：每个问题必须包含 “现象描述 + 错误截图 / 日志 + 代码位置”。
明确验收标准：“验证方式” 必须可量化（如 “截图 + 控制台日志”“接口返回码 200”），避免 AI 自判 “已修复”。
未修复的问题必须说明原因：如“P2问题暂未修复，因涉及移动端适配框架冲突，需进一步分析”，避免隐瞒。

二、BUG 修复任务清单模板（必填）
---
plaintext
【BUG修复任务清单 v1.0】
1. 问题ID：P0-登录失败
   - 现象：输入正确账号密码后，点击登录无反应，控制台报错"Uncaught TypeError: Cannot read property 'token' of undefined"
   - 预期：点击登录后跳转至首页，localStorage中能看到保存的token
   - 相关代码位置：src/views/Login.vue 第45行（handleLogin函数）
   - 验证方式：提供成功登录的截图+控制台无报错的截图

2. 问题ID：P1-数据加载空白
   - 现象：进入/user页面后，表格数据一直显示"加载中"，Network显示接口返回404（请求地址错误）
   - 预期：3秒内加载出用户列表，接口请求地址应为"/api/v1/users"（当前是"/api/users"）
   - 相关代码位置：src/api/user.js 第8行（getUserList函数）
   - 验证方式：提供数据加载完成的页面截图+Network中接口成功的截图

3. 问题ID：P2-按钮样式错乱
   - 现象：移动端（屏幕<768px）时，"提交"按钮宽度溢出屏幕，CSS类为".submit-btn"
   - 预期：按钮宽度自适应屏幕，最大不超过父容器宽度
   - 相关代码位置：src/assets/css/main.css 第120行
   - 验证方式：提供移动端模拟器（iPhone 12）下的正常显示截图
   （按上述结构重复填写）
---

三、AI 修复输出规范（必须遵守）
1. 修复说明文档格式
---
plaintext
【修复说明 vX.X】
1. 问题ID：对应任务清单的问题ID
   - 修复原因：明确问题根源（非表面描述）
   - 变更清单：
     文件路径：完整路径（如src/views/Login.vue）
     修改类型：修复/新增/删除
     修改行数：具体行数范围
     原代码：（完整代码片段）
     修改后代码：（完整代码片段）
   - 自测结果：符合验证方式的自测证据（如模拟截图描述、接口状态）
   - 未修复说明：若未完成，需明确原因及后续方案

2. 问题ID：对应任务清单的问题ID
   （按上述结构重复填写）
---

2. 输出要求
代码修改必须提供 “前后对比”，不遗漏关键逻辑。
自测结果需匹配任务清单的 “验证方式”，不允许模糊表述。
涉及依赖变更、潜在风险（如影响其他功能）需单独说明。

四、闭环反馈机制
要求按照 “验证方式” 逐项测试，未达标的问题会提供 “实际结果 vs 预期结果” 的对比证据。
未修复或新增问题需优先处理，AI 需基于反馈重新分析，不允许延续错误逻辑。
每次修复后仅推进至下一个问题，不跨优先级处理未完成任务。
全部修复完成后，将修复成功的BUG更新到本地BUG知识库

五、禁止性要求
不得出现 “所有 BUG 已修复”“可安全使用” 等主观结论，从“自判修复”转为“按标准交付”，需以自测证据和验证标准为依据。
不得修改任务清单外的无关代码，如需调整需提前说明理由。
不得省略 “修复原因”“变更清单”“自测结果” 中的任意一项。
请严格按照上述规范执行 BUG 修复，每一步输出均需符合格式要求，确保修复过程可控、结果可验证。