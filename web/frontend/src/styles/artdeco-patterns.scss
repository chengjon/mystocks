/**
 * Art Deco Patterns & Mixins
 * MyStocks 量化交易平台 - 装饰艺术图案与混合器
 *
 * This file contains reusable SCSS patterns for Art Deco design:
 * - Diagonal crosshatch background pattern
 * - Sunburst radial gradients
 * - Double-frame borders
 * - Stepped corner decorations
 * - Corner embellishments (L-brackets)
 * - Geometric decorative elements
 *
 * Design Philosophy:
 * These patterns create the iconic Art Deco aesthetic through
 * geometric repetition and architectural ornamentation.
 *
 * Author: MyStocks Frontend Team
 * Updated: 2025-12-30
 */

// ============================================
//   IMPORTS - 导入依赖
// ============================================

@import './artdeco-tokens.scss';

// ============================================
//   PATTERN: Diagonal Crosshatch Background
//   对角线交叉阴影背景图案
// ============================================

/// MANDATORY: Apply this to main background at 3-5% opacity
/// This subtle texture adds vintage print quality
/// 必需图案: 应用于主背景，添加复古印刷品质
///
/// Usage:
/// .element {
///   @include artdeco-crosshatch-bg();
/// }

@mixin artdeco-crosshatch-bg($color: var(--artdeco-accent-gold), $opacity: var(--artdeco-pattern-opacity)) {
  background-color: var(--artdeco-bg-primary);
  background-image:
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 2px,
      rgba($color, $opacity) 2px,
      rgba($color, $opacity) 4px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 2px,
      rgba($color, $opacity) 2px,
      rgba($color, $opacity) 4px
    );
  background-position: 0 0, 0 0;
  background-size: 40px 40px, 40px 40px;
}

// ============================================
//   PATTERN: Sunburst Radial Gradient
//   放射状太阳光芒渐变
// ============================================

/// MANDATORY: Creates iconic Art Deco sunburst effect
/// Use emanating rays from focal points (hero section, headers)
/// 必需图案: 从焦点发出的光芒，创造标志性太阳光芒效果
///
/// Usage:
/// .hero-section {
///   @include artdeco-sunburst-radial();
/// }

@mixin artdeco-sunburst-radial(
  $color: var(--artdeco-accent-gold),
  $opacity-start: 0.15,
  $opacity-end: 0
) {
  background: radial-gradient(
    circle at center,
    rgba($color, $opacity-start) 0%,
    rgba($color, $opacity-end) 70%
  );
}

// ============================================
//   PATTERN: Double-Frame Border
//   双层边框 (框内框效果)
// ============================================

/// MANDATORY: Creates frames within frames for depth
/// Never use plain borders - always use double frames
/// 必需图案: 创造框内框的深度效果
///
/// Usage:
/// .image-container {
///   @include artdeco-double-frame();
/// }

@mixin artdeco-double-frame(
  $outer-color: var(--artdeco-border-gold),
  $inner-color: var(--artdeco-bg-card),
  $gap: 8px
) {
  position: relative;
  border: 2px solid $outer-color;
  padding: $gap;

  &::before {
    content: '';
    position: absolute;
    top: $gap;
    left: $gap;
    right: $gap;
    bottom: $gap;
    border: 4px solid $inner-color;
    pointer-events: none;
  }
}

// ============================================
//   PATTERN: Stepped Corner (Ziggurat Style)
//   阶梯状角 (金字风格)
// ============================================

/// MANDATORY: Ziggurat-style cuts on cards and containers
/// Creates stepped pyramid effect at corners
/// 必需图案: 在卡片和容器上创造阶梯金字塔效果
///
/// Usage:
/// .card {
///   @include artdeco-stepped-corners(top-right, bottom-left);
/// }

@mixin artdeco-stepped-corners($corners: 'all', $size: var(--artdeco-step-size-base)) {
  position: relative;

  @if $corners == 'top-right' or $corners == 'all' {
    &::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: $size * 2;
      height: $size * 2;
      border-top: 2px solid var(--artdeco-border-gold);
      border-right: 2px solid var(--artdeco-border-gold);
      clip-path: polygon(
        0 0,
        100% 0,
        100% calc(100% - #{$size}),
        calc(100% - #{$size}) 100%,
        0 100%
      );
      opacity: 0.5;
      transition: opacity var(--artdeco-duration-base);
    }
  }

  @if $corners == 'bottom-left' or $corners == 'all' {
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: $size * 2;
      height: $size * 2;
      border-bottom: 2px solid var(--artdeco-border-gold);
      border-left: 2px solid var(--artdeco-border-gold);
      clip-path: polygon(
        0 0,
        #{$size} 0,
        100% calc(100% - #{$size}),
        100% 100%,
        0 100%
      );
      opacity: 0.5;
      transition: opacity var(--artdeco-duration-base);
    }
  }

  &:hover::before,
  &:hover::after {
    opacity: 1;
  }
}

// ============================================
//   PATTERN: Corner Embellishments (L-Brackets)
//   角落装饰 (L型括号)
// ============================================

/// MANDATORY: Decorative L-shaped brackets at card corners
/// positioned absolutely at 4-8px inset
/// 必需图案: 卡片角落的装饰性L型括号
///
/// Usage:
/// .card {
///   @include artdeco-corner-brackets(8px);
/// }

@mixin artdeco-corner-brackets($inset: 8px, $size: 16px, $border-width: 2px) {
  position: relative;

  // Top-right corner
  &::before {
    content: '';
    position: absolute;
    top: $inset;
    right: $inset;
    width: $size;
    height: $size;
    border-top: $border-width solid var(--artdeco-border-gold-subtle);
    border-right: $border-width solid var(--artdeco-border-gold-subtle);
    transition: all var(--artdeco-duration-base);
  }

  // Bottom-left corner
  &::after {
    content: '';
    position: absolute;
    bottom: $inset;
    left: $inset;
    width: $size;
    height: $size;
    border-bottom: $border-width solid var(--artdeco-border-gold-subtle);
    border-left: $border-width solid var(--artdeco-border-gold-subtle);
    transition: all var(--artdeco-duration-base);
  }

  &:hover::before,
  &:hover::after {
    border-color: var(--artdeco-border-gold);
  }
}

// ============================================
//   PATTERN: Rotated Diamond Container
//   旋转菱形容器
// ============================================

/// MANDATORY: 45-degree rotated squares as frames and accents
/// Content inside counter-rotates to remain upright
/// 必需图案: 45度旋转的方框作为边框和装饰
///
/// Usage:
/// .icon-diamond {
///   @include artdeco-diamond-frame(48px);
/// }

@mixin artdeco-diamond-frame($size: 48px) {
  display: flex;
  align-items: center;
  justify-content: center;
  width: $size;
  height: $size;
  transform: rotate(45deg);
  border: 2px solid var(--artdeco-border-gold);
  background: var(--artdeco-bg-card);

  > * {
    transform: rotate(-45deg); // Counter-rotate content
  }
}

// ============================================
//   PATTERN: Section Dividers
//   装饰性分隔线
// ============================================

/// MANDATORY: Gold horizontal lines above and below text
/// These are measured, balanced accents (never full-width)
/// 必需图案: 文本上下方的金色水平线
///
/// Usage:
/// .section-header {
///   @include artdeco-section-divider;
/// }

@mixin artdeco-section-divider($line-width: 96px, $line-height: 1px) {
  position: relative;
  text-align: center;
  padding: var(--artdeco-spacing-6) 0;

  &::before,
  &::after {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: $line-width;
    height: $line-height;
    background: linear-gradient(
      90deg,
      transparent,
      var(--artdeco-accent-gold),
      transparent
    );
  }

  &::before {
    top: 0;
  }

  &::after {
    bottom: 0;
  }
}

// ============================================
//   PATTERN: Vertical Divider Line
//   垂直分隔线
// ============================================

/// Creates architectural height with vertical lines
/// 用于创造建筑高度的垂直线条
///
/// Usage:
/// .column-divider {
///   @include artdeco-vertical-divider;
/// }

@mixin artdeco-vertical-divider($height: 100%, $opacity: 0.3) {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 1px;
  background: linear-gradient(
    180deg,
    transparent,
    rgba(212, 175, 55, $opacity) 20%,
    rgba(212, 175, 55, $opacity) 80%,
    transparent
  );
}

// ============================================
//   PATTERN: Glow Effect
//   发光效果 (替代阴影)
// ============================================

/// MANDATORY: Gold glows instead of drop shadows
/// Simulates neon or backlit signage from the 1920s
/// 必需图案: 金色发光而非传统阴影
///
/// Usage:
/// .glowing-element {
///   @include artdeco-glow(var(--artdeco-glow-base));
/// }

@mixin artdeco-glow($glow: var(--artdeco-glow-base)) {
  box-shadow: $glow;
}

// ============================================
//   PATTERN: Roman Numeral Numbering
//   罗马数字编号
// ============================================

/// Returns Roman numeral for a number
/// 返回数字对应的罗马数字
///
/// Usage:
/// .section-number::before {
///   content: artdeco-roman-numeral(1); // Outputs "I"
/// }

@function artdeco-roman-numeral($num) {
  $map: (
    1: 'I',
    2: 'II',
    3: 'III',
    4: 'IV',
    5: 'V',
    6: 'VI',
    7: 'VII',
    8: 'VIII',
    9: 'IX',
    10: 'X'
  );
  @return map-get($map, $num);
}

// ============================================
//   PATTERN: Art Deco Border Gradient
//   渐变金色边框
// ============================================

/// Creates metallic sheen on borders
/// 创造边框的金属光泽
///
/// Usage:
/// .metallic-button {
///   @include artdeco-gold-border;
/// }

@mixin artdeco-gold-border($width: 2px) {
  border: $width solid;
  border-image: linear-gradient(
    135deg,
    var(--artdeco-accent-gold-light) 0%,
    var(--artdeco-accent-gold) 50%,
    var(--artdeco-accent-gold-light) 100%
  ) 1;
}

// ============================================
//   UTILITY CLASSES - 工具类
//   Quick application of patterns
// ============================================

.artdeco-crosshatch {
  @include artdeco-crosshatch-bg();
}

.artdeco-sunburst {
  @include artdeco-sunburst-radial();
}

.artdeco-glow-sm {
  @include artdeco-glow(var(--artdeco-glow-sm));
}

.artdeco-glow-base {
  @include artdeco-glow(var(--artdeco-glow-base));
}

.artdeco-glow-md {
  @include artdeco-glow(var(--artdeco-glow-md));
}

.artdeco-glow-lg {
  @include artdeco-glow(var(--artdeco-glow-lg));
}

// ============================================
//   END: artdeco-patterns.scss
//   MyStocks Art Deco Design System
// ============================================
