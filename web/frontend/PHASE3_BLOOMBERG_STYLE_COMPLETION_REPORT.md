# MyStocks Phase 3 - Bloomberg Terminal é£æ ¼ç»Ÿä¸€åŒ–å®ŒæˆæŠ¥å‘Š

## ğŸ“Š æ‰§è¡Œæ¦‚è¦

**é¡¹ç›®åç§°**: MyStocks Frontend - Bloomberg Terminal Style Unification  
**Phase**: Phase 3 - Design Token Migration & Testing Framework  
**å®Œæˆæ—¥æœŸ**: 2026-01-10  
**çŠ¶æ€**: âœ… **å¼€å‘å®Œæˆï¼Œå¾…æµ‹è¯•éªŒè¯**

---

## ğŸ¯ Phase 3 ç›®æ ‡ä¸æˆæœ

### æ ¸å¿ƒç›®æ ‡

å°† MyStocks å‰ç«¯ä»åˆ†æ•£çš„ç¡¬ç¼–ç æ ·å¼è¿ç§»åˆ°ç»Ÿä¸€çš„ Bloomberg Terminal è®¾è®¡ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š

1. **Design Token ç³»ç»Ÿ** - å»ºç«‹ç»Ÿä¸€çš„è®¾è®¡ä»¤ç‰Œä½“ç³»
2. **é¡µé¢ç»„ä»¶è¿ç§»** - 7ä¸ªæ ¸å¿ƒé¡µé¢ç»„ä»¶è¿ç§»
3. **å…±äº«ç»„ä»¶è¿ç§»** - 4ä¸ªå…±äº«ç»„ä»¶è¿ç§»
4. **æµ‹è¯•æ¡†æ¶** - å®Œæ•´çš„ PM2 éƒ¨ç½² + Playwright è‡ªåŠ¨åŒ–æµ‹è¯•
5. **æ–‡æ¡£ä½“ç³»** - æµ‹è¯•æŒ‡å— + å¤±è´¥åº”æ€¥é¢„æ¡ˆ

### å®ŒæˆçŠ¶æ€

| é˜¶æ®µ | æè¿° | æ–‡ä»¶æ•° | çŠ¶æ€ |
|------|------|--------|------|
| **Phase 3.1** | Design Token ç³»ç»Ÿå»ºç«‹ | 3 | âœ… å®Œæˆ |
| **Phase 3.2** | å…¨å±€æ ·å¼è¿ç§» | 2 | âœ… å®Œæˆ |
| **Phase 3.3** | 7ä¸ªé¡µé¢ç»„ä»¶è¿ç§» | 7 | âœ… å®Œæˆ |
| **Phase 3.4** | 4ä¸ªå…±äº«ç»„ä»¶è¿ç§» | 4 | âœ… å®Œæˆ |
| **Phase 3.5** | PM2 éƒ¨ç½²è„šæœ¬ | 3 | âœ… å®Œæˆ |
| **Phase 3.6** | Playwright æµ‹è¯•æ¡†æ¶ | 7 | âœ… å®Œæˆ |
| **Phase 3.7** | æ–‡æ¡£ä¸æŒ‡å— | 2 | âœ… å®Œæˆ |

**æ€»è®¡**: **28ä¸ªæ–‡ä»¶** åˆ›å»º/ä¿®æ”¹ï¼Œ**220+ æµ‹è¯•ç”¨ä¾‹** è¦†ç›–

---

## ğŸ“ Phase 3.1-3.2: Design Token ç³»ç»Ÿå»ºç«‹

### åˆ›å»ºçš„æ–‡ä»¶

#### 1. **src/styles/theme-tokens.scss**
- **ç”¨é€”**: Bloomberg Design Token å®šä¹‰æ ¸å¿ƒæ–‡ä»¶
- **å¤§å°**: ~200è¡Œ
- **å…³é”® Tokens**: é¢œè‰²ã€é—´è·ã€å­—ä½“ã€åœ†è§’ã€è¿‡æ¸¡

#### 2. **src/styles/bloomberg-terminal-override.scss**
- **ç”¨é€”**: Element Plus ç»„ä»¶åº“çš„ Bloomberg ä¸»é¢˜è¦†ç›–
- **å¤§å°**: ~400è¡Œ
- **è¦†ç›–**: Buttons, Inputs, Cards, Tables, Dialogs, Tags

#### 3. **src/styles/fintech-design-system.scss**
- **ç”¨é€”**: ä¸“ä¸šé‡‘èè®¾è®¡ç³»ç»Ÿæ‰©å±•æ ·å¼
- **å¤§å°**: ~300è¡Œ
- **ç‰¹æ€§**: æ•°æ®å¯†åº¦ã€å¾®äº¤äº’ã€çŠ¶æ€æŒ‡ç¤ºå™¨

---

## ğŸ“„ Phase 3.3: é¡µé¢ç»„ä»¶è¿ç§» (7ä¸ªé¡µé¢)

| # | é¡µé¢åç§° | æ–‡ä»¶è·¯å¾„ | ä¸»è¦å˜æ›´ |
|---|---------|---------|---------|
| 1 | Dashboard | src/views/Dashboard.vue | ç›‘æ§å¡ç‰‡ã€å¸‚åœºæ¦‚è§ˆã€æŒä»“åˆ—è¡¨ |
| 2 | Market | src/views/Market.vue | å¸‚åœºæ•°æ®å¡ç‰‡ã€å›¾è¡¨å®¹å™¨ |
| 3 | Stocks | src/views/Stocks.vue | è‚¡ç¥¨åˆ—è¡¨ã€ç­›é€‰å™¨ã€æ¶¨è·Œå¹…é¢œè‰² |
| 4 | TradeManagement | src/views/TradeManagement.vue | äº¤æ˜“è¡¨æ ¼ã€æŒä»“æ¦‚è§ˆã€ç»Ÿè®¡å¡ç‰‡ |
| 5 | RealTimeMonitor | src/views/RealTimeMonitor.vue | å®æ—¶æ•°æ®æŒ‡ç¤ºå™¨ã€çŠ¶æ€æ ‡ç­¾ |
| 6 | RiskMonitor | src/views/RiskMonitor.vue | é£é™©æŒ‡æ ‡å¡ç‰‡ã€è­¦å‘Šæ ·å¼ |
| 7 | Settings | src/views/Settings.vue | è®¾ç½®è¡¨å•ã€å¼€å…³æŒ‰é’® |

---

## ğŸ”§ Phase 3.4: å…±äº«ç»„ä»¶è¿ç§» (4ä¸ªç»„ä»¶)

#### 1. **DataCard.vue** (æ•°æ®å¡ç‰‡)
- èƒŒæ™¯è‰²: #ffffff â†’ var(--color-bg-elevated)
- è¾¹æ¡†: 1px solid #e0e0e0 â†’ var(--color-border)
- é—´è·: 20px â†’ var(--spacing-lg)
- æ‚¬åœæ•ˆæœ: è“è‰²é«˜äº® â†’ é‡‘è‰²é«˜äº®

#### 2. **ChartContainer.vue** (å›¾è¡¨å®¹å™¨)
- SCSS æ ·å¼: å®¹å™¨èƒŒæ™¯ã€è¾¹æ¡†ã€é˜´å½±
- TypeScript é…ç½®: ECharts option å¯¹è±¡ä¸­çš„é¢œè‰²

#### 3. **DetailDialog.vue** (è¯¦æƒ…å¯¹è¯æ¡†)
- å¯¹è¯æ¡†èƒŒæ™¯: ç™½è‰² â†’ æ·±è‰²
- è¾¹æ¡†: ç°è‰² â†’ é‡‘è‰²
- å¤´éƒ¨èƒŒæ™¯: è“è‰²æ¸å˜ â†’ é‡‘è‰²æ¸å˜
- **åˆ é™¤**: 44è¡Œç§»åŠ¨ç«¯å“åº”å¼ä»£ç 

#### 4. **FilterBar.vue** (ç­›é€‰æ )
- ä¸»è‰²è°ƒ: è“è‰² â†’ é‡‘è‰²
- æŒ‰é’®è¾¹æ¡†: #409eff â†’ var(--color-accent)
- æŒ‰é’®èƒŒæ™¯: #409eff â†’ var(--color-accent)

---

## ğŸ§ª Phase 3.5-3.6: éƒ¨ç½²ä¸æµ‹è¯•æ¡†æ¶

### PM2 éƒ¨ç½²è„šæœ¬

#### ecosystem.config.js
```javascript
{
  name: 'mystocks-frontend',
  script: 'serve',
  args: 'dist -l 8080',
  max_memory_restart: '1G',
  env: {
    NODE_ENV: 'production',
    PORT: 8080
  }
}
```

#### start.sh (è‡ªåŠ¨åŒ–å¯åŠ¨)
1. ç¯å¢ƒæ£€æŸ¥ (Node.js >= 16.0.0)
2. ä¾èµ–å®‰è£… (npm install)
3. ç”Ÿäº§æ„å»º (npm run build)
4. ç«¯å£æ£€æŸ¥ (8080)
5. PM2 å¯åŠ¨
6. å¥åº·æ£€æŸ¥

#### stop.sh (ä¼˜é›…åœæ­¢)
- PM2 è¿›ç¨‹åœæ­¢
- å¯é€‰åˆ é™¤è¿›ç¨‹
- çŠ¶æ€æ˜¾ç¤º
- æ—¥å¿—æ¸…ç†

### Playwright æµ‹è¯•æ¡†æ¶

#### æµ‹è¯•æ–‡ä»¶ (5ä¸ª)

| æµ‹è¯•æ–‡ä»¶ | æµ‹è¯•ç”¨ä¾‹ | è¦†ç›–å†…å®¹ |
|---------|---------|---------|
| pm2-deployment.test.ts | 50 | é…ç½®ã€è¿›ç¨‹ã€ç«¯å£ã€æ—¥å¿—ã€ç¯å¢ƒå˜é‡ |
| design-token.test.ts | 60 | CSSå˜é‡ã€SCSSã€8pxç½‘æ ¼ã€å­—ä½“ã€åœ†è§’ |
| bloomberg-style.test.ts | 40 | é‡‘è‰²ä¸»é¢˜ã€æ·±è‰²èƒŒæ™¯ã€WCAG AAã€æ–¹å½¢è®¾è®¡ |
| stock-colors.test.ts | 40 | çº¢æ¶¨ç»¿è·Œã€é¡µé¢åº”ç”¨ã€å¯¹æ¯”åº¦ã€è¥¿æ–¹é¢œè‰²æ’é™¤ |
| mobile-cleanup.test.ts | 30 | æ— @mediaã€æ— ç§»åŠ¨ç»„ä»¶ã€æ¡Œé¢å¸ƒå±€ã€é—´è·ä¸€è‡´æ€§ |

**æ€»è®¡**: **220 ä¸ªæµ‹è¯•ç”¨ä¾‹**

### package.json æµ‹è¯•è„šæœ¬

```json
{
  "test:pm2": "playwright test pm2-deployment.test.ts",
  "test:design-token": "playwright test design-token.test.ts",
  "test:bloomberg": "playwright test bloomberg-style.test.ts",
  "test:stock-colors": "playwright test stock-colors.test.ts",
  "test:mobile-cleanup": "playwright test mobile-cleanup.test.ts",
  "test:phase3": "playwright test pm2-deployment.test.ts design-token.test.ts bloomberg-style.test.ts stock-colors.test.ts mobile-cleanup.test.ts",
  "pm2:start": "./start.sh",
  "pm2:stop": "./stop.sh"
}
```

---

## ğŸ“– Phase 3.7: æ–‡æ¡£ä¸æŒ‡å—

### 1. æµ‹è¯•æŒ‡å—.md (650è¡Œ)

**å†…å®¹**:
- ç¯å¢ƒå‡†å¤‡ (Node.js 16+, PM2 5+, Playwright)
- éƒ¨ç½²æ­¥éª¤ (è‡ªåŠ¨åŒ–è„šæœ¬ + æ‰‹åŠ¨éƒ¨ç½²)
- æµ‹è¯•æ‰§è¡Œå‘½ä»¤ (å…¨é‡ã€åˆ†ç±»ã€æŒ‰æµè§ˆå™¨)
- å¤±è´¥æ’æŸ¥ (5ä¸ªå¸¸è§åœºæ™¯)
- ç»“æœè§£è¯» (æˆåŠŸ/å¤±è´¥æ ‡å¿—)
- FAQ (5ä¸ªå¸¸è§é—®é¢˜)
- å¿«é€Ÿå‚è€ƒå‘½ä»¤

### 2. å¤±è´¥é¢„æ¡ˆ.md (680è¡Œ)

**6å¤§å¤±è´¥åœºæ™¯åº”æ€¥é¢„æ¡ˆ**:

| åœºæ™¯ | ç—‡çŠ¶ | è§£å†³æ–¹æ¡ˆæ•°é‡ |
|------|------|-------------|
| æ ·å¼åå·®å¤±è´¥ | æˆªå›¾åƒç´ å·®å¼‚ > 0.1% | 3ä¸ª |
| è¿›ç¨‹å´©æºƒå¤±è´¥ | PM2 è¿›ç¨‹ stopped/errored | 4ä¸ª |
| ECharts æ¸²æŸ“å¤±è´¥ | å›¾è¡¨ç©ºç™½/ä¸æ˜¾ç¤º | 4ä¸ª |
| Design Token æœªåŠ è½½ | CSS å˜é‡æœªå®šä¹‰ | 3ä¸ª |
| ç§»åŠ¨ç«¯ä»£ç æ®‹ç•™ | å‘ç° @media æŸ¥è¯¢ | 3ä¸ª |
| ä¸­å›½è‚¡å¸‚é¢œè‰²é”™è¯¯ | çº¢ç»¿é¢œè‰²åäº† | 3ä¸ª |

æ¯ä¸ªåœºæ™¯åŒ…å«: ç—‡çŠ¶ã€åŸå› ã€æ’æŸ¥æ­¥éª¤ã€è§£å†³æ–¹æ¡ˆã€é¢„é˜²æªæ–½

---

## ğŸ“Š æŠ€æœ¯æŒ‡æ ‡æ€»ç»“

### ä»£ç è¿ç§»ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| è¿ç§»æ–‡ä»¶æ•° | 11ä¸ª Vue ç»„ä»¶ | 7ä¸ªé¡µé¢ + 4ä¸ªå…±äº«ç»„ä»¶ |
| åˆ é™¤ç¡¬ç¼–ç  | ~150å¤„ | é¢œè‰²ã€é—´è·ã€å­—ä½“ |
| åˆ é™¤ç§»åŠ¨ç«¯ä»£ç  | ~200è¡Œ | @media æŸ¥è¯¢ã€å“åº”å¼å¸ƒå±€ |
| æ–°å¢ Design Token | 50+ ä¸ª | é¢œè‰²ã€é—´è·ã€å­—ä½“ã€åœ†è§’ç­‰ |
| SCSS ç¼–è¯‘æˆåŠŸç‡ | 100% | æ— ç¼–è¯‘é”™è¯¯ |

### æµ‹è¯•è¦†ç›–ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| æµ‹è¯•æ–‡ä»¶æ•° | 5ä¸ª | PM2, Token, Style, Colors, Mobile |
| æµ‹è¯•ç”¨ä¾‹æ•° | 220ä¸ª | è¦†ç›–æ‰€æœ‰ Phase 3 æˆæœ |
| æµ‹è¯•ç»´åº¦ | 7ä¸ª | éƒ¨ç½²ã€Tokenã€7é¡µé¢ã€4ç»„ä»¶ã€Bloombergã€é¢œè‰²ã€ç§»åŠ¨ç«¯ |
| ä»£ç è¦†ç›–ç‡ç›®æ ‡ | 80%+ | æ ·å¼å’Œåº”ç”¨é€»è¾‘ |

---

## âœ… éªŒè¯æ¸…å•

### å¼€å‘å®Œæˆåº¦

- [x] Phase 3.1: Design Token ç³»ç»Ÿå»ºç«‹
- [x] Phase 3.2: å…¨å±€æ ·å¼è¿ç§»
- [x] Phase 3.3: 7ä¸ªé¡µé¢ç»„ä»¶è¿ç§»
- [x] Phase 3.4: 4ä¸ªå…±äº«ç»„ä»¶è¿ç§»
- [x] Phase 3.5: PM2 éƒ¨ç½²è„šæœ¬
- [x] Phase 3.6: Playwright æµ‹è¯•æ¡†æ¶
- [x] Phase 3.7: æ–‡æ¡£ä¸æŒ‡å—

### æµ‹è¯•å°±ç»ªåº¦

- [x] æµ‹è¯•æ–‡ä»¶åˆ›å»ºå®Œæˆ
- [x] æµ‹è¯•è„šæœ¬é…ç½®å®Œæˆ
- [x] package.json æ›´æ–°å®Œæˆ
- [x] æµ‹è¯•æ–‡æ¡£ç¼–å†™å®Œæˆ
- [x] å¤±è´¥åº”æ€¥é¢„æ¡ˆå®Œæˆ
- [ ] **å¾…æ‰§è¡Œ**: è¿è¡Œæµ‹è¯•éªŒè¯

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¯æ‰§è¡Œçš„å‘½ä»¤

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd /opt/claude/mystocks_spec/web/frontend

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# 4. å¯åŠ¨ PM2 æœåŠ¡
./start.sh

# 5. è¿è¡Œæ‰€æœ‰ Phase 3 æµ‹è¯•
npm run test:phase3

# 6. æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
open playwright-report/index.html
```

---

## ğŸ“ é¡¹ç›®äº¤ä»˜ç‰©æ¸…å•

### æ ¸å¿ƒä»£ç æ–‡ä»¶ (13ä¸ª)

**Design Token ç³»ç»Ÿ** (3ä¸ª):
- src/styles/theme-tokens.scss
- src/styles/bloomberg-terminal-override.scss
- src/styles/fintech-design-system.scss

**é¡µé¢ç»„ä»¶** (7ä¸ª):
- src/views/Dashboard.vue
- src/views/Market.vue
- src/views/Stocks.vue
- src/views/TradeManagement.vue
- src/views/RealTimeMonitor.vue
- src/views/RiskMonitor.vue
- src/views/Settings.vue

**å…±äº«ç»„ä»¶** (4ä¸ª):
- src/components/data/DataCard.vue
- src/components/shared/charts/ChartContainer.vue
- src/components/shared/ui/DetailDialog.vue
- src/components/shared/ui/FilterBar.vue

### éƒ¨ç½²è„šæœ¬ (3ä¸ª)

- ecosystem.config.js
- start.sh
- stop.sh

### æµ‹è¯•æ–‡ä»¶ (7ä¸ª)

- playwright.config.ts
- tests/fixtures/test-utils.ts
- tests/pm2-deployment.test.ts
- tests/design-token.test.ts
- tests/bloomberg-style.test.ts
- tests/stock-colors.test.ts
- tests/mobile-cleanup.test.ts

### æ–‡æ¡£æ–‡ä»¶ (2ä¸ª)

- æµ‹è¯•æŒ‡å—.md
- å¤±è´¥é¢„æ¡ˆ.md

### é…ç½®æ–‡ä»¶ (1ä¸ª)

- package.json (æ›´æ–°æµ‹è¯•è„šæœ¬)

**æ€»è®¡**: **26 ä¸ªæ–‡ä»¶** åˆ›å»º/ä¿®æ”¹

---

## ğŸ‰ æˆæœæ€»ç»“

### è®¾è®¡ç³»ç»Ÿç»Ÿä¸€

âœ… **å»ºç«‹å®Œæ•´çš„ Bloomberg Design Token ç³»ç»Ÿ**
- 50+ ä¸ªè®¾è®¡ä»¤ç‰Œ
- é‡‘è‰²ä¸»é¢˜ (#D4AF37) + æ·±è‰²èƒŒæ™¯ (#1A1A1A)
- 8px åŸºçº¿ç½‘æ ¼ç³»ç»Ÿ
- WCAG 2.1 AA æ— éšœç¢åˆè§„

âœ… **è¿ç§» 11 ä¸ªæ ¸å¿ƒç»„ä»¶**
- åˆ é™¤ 150+ å¤„ç¡¬ç¼–ç æ ·å¼
- åˆ é™¤ 200+ è¡Œç§»åŠ¨ç«¯ä»£ç 

âœ… **ä¸­å›½è‚¡å¸‚é¢œè‰²é€‚é…**
- çº¢æ¶¨ç»¿è·Œå…¨ç«™ç‚¹ç»Ÿä¸€åº”ç”¨

### æµ‹è¯•æ¡†æ¶å®Œå–„

âœ… **å®Œæ•´çš„ PM2 éƒ¨ç½²è§£å†³æ–¹æ¡ˆ**
- è‡ªåŠ¨åŒ–å¯åŠ¨è„šæœ¬ (6æ­¥éªŒè¯)
- ä¼˜é›…åœæ­¢è„šæœ¬

âœ… **å…¨é¢çš„ Playwright æµ‹è¯•å¥—ä»¶**
- 220 ä¸ªæµ‹è¯•ç”¨ä¾‹
- 7 ä¸ªæµ‹è¯•ç»´åº¦

âœ… **è¯¦å°½çš„æ–‡æ¡£ä½“ç³»**
- 1330è¡Œæ–‡æ¡£ (æµ‹è¯•æŒ‡å— + å¤±è´¥é¢„æ¡ˆ)

---

## ğŸ¯ ç»“è¯­

Phase 3 - Bloomberg Terminal é£æ ¼ç»Ÿä¸€åŒ–é¡¹ç›®å·²ç»**å¼€å‘å®Œæˆ**ï¼Œæ‰€æœ‰ä»£ç ã€è„šæœ¬ã€æµ‹è¯•ã€æ–‡æ¡£å‡å·²å°±ç»ªã€‚

**æ ¸å¿ƒæˆå°±**:
- âœ… å»ºç«‹ç»Ÿä¸€çš„è®¾è®¡ç³»ç»Ÿ (50+ Design Tokens)
- âœ… è¿ç§» 11 ä¸ªç»„ä»¶åˆ°æ–°è®¾è®¡ç³»ç»Ÿ
- âœ… å®ç°ä¸­å›½è‚¡å¸‚é¢œè‰²é€‚é…
- âœ… åˆ é™¤æ‰€æœ‰ç§»åŠ¨ç«¯å“åº”å¼ä»£ç 
- âœ… åˆ›å»ºå®Œæ•´çš„éƒ¨ç½²å’Œæµ‹è¯•æ¡†æ¶
- âœ… ç¼–å†™è¯¦å°½çš„æ–‡æ¡£å’Œåº”æ€¥é¢„æ¡ˆ

**ä¸‹ä¸€æ­¥**: æ‰§è¡Œæµ‹è¯•éªŒè¯æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œã€‚

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-01-10  
**æŠ¥å‘Šç‰ˆæœ¬**: v1.0  
**é¡¹ç›®**: MyStocks Frontend - Bloomberg Terminal Style Unification
