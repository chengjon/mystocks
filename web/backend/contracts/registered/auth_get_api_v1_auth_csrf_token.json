{
  "name": "auth-api-contract",
  "version": "1.0.0",
  "api_id": "auth_get_api_v1_auth_csrf_token",
  "priority": "P0",
  "spec": {
    "openapi": "3.0.0",
    "info": {
      "title": "auth API",
      "version": "1.0.0",
      "description": "获取CSRF保护令牌 - v1版本 (标准化端点)\n\n用于防止跨站请求伪造（CSRF）攻击。\n前端应该在发送修改请求（POST/PUT/PATCH/DELETE）时，\n在X-CSRF-Token请求头中包含此令牌。\n\n**响应示例**:\n```json\n{\n    \"code\": \"SUCCESS\",\n    \"message\": \"CSRF token generated successfully\",\n    \"data\": {\n        \"token\": \"...base64-encoded-token...\",\n        \"token_type\": \"csrf\",\n        \"expires_in\": 3600\n    },\n    \"timestamp\": 1733318400.123\n}\n```\n\n**使用示例**:\n```javascript\n// 获取CSRF token\nconst response = await fetch('/api/v1/auth/csrf/token');\nconst { data } = await response.json();\nconst csrfToken = data.token;\n\n// 发送受保护的请求\nfetch('/api/v1/data', {\n    method: 'POST',\n    headers: {\n        'X-CSRF-Token': csrfToken,\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ ... })\n});\n```\n\n**错误码**:\n- SUCCESS: Token生成成功\n- INTERNAL_SERVER_ERROR: Token生成失败\n\n**HTTP状态码**:\n- 200: 成功获取token\n- 500: 服务器错误\n\n**Rate Limit**: 无限制（CSRF token获取不计入速率限制）"
    },
    "paths": {
      "/api/v1/auth/csrf/token": {
        "get": {
          "summary": "Get Csrf Token",
          "description": "获取CSRF保护令牌 - v1版本 (标准化端点)\n\n用于防止跨站请求伪造（CSRF）攻击。\n前端应该在发送修改请求（POST/PUT/PATCH/DELETE）时，\n在X-CSRF-Token请求头中包含此令牌。\n\n**响应示例**:\n```json\n{\n    \"code\": \"SUCCESS\",\n    \"message\": \"CSRF token generated successfully\",\n    \"data\": {\n        \"token\": \"...base64-encoded-token...\",\n        \"token_type\": \"csrf\",\n        \"expires_in\": 3600\n    },\n    \"timestamp\": 1733318400.123\n}\n```\n\n**使用示例**:\n```javascript\n// 获取CSRF token\nconst response = await fetch('/api/v1/auth/csrf/token');\nconst { data } = await response.json();\nconst csrfToken = data.token;\n\n// 发送受保护的请求\nfetch('/api/v1/data', {\n    method: 'POST',\n    headers: {\n        'X-CSRF-Token': csrfToken,\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ ... })\n});\n```\n\n**错误码**:\n- SUCCESS: Token生成成功\n- INTERNAL_SERVER_ERROR: Token生成失败\n\n**HTTP状态码**:\n- 200: 成功获取token\n- 500: 服务器错误\n\n**Rate Limit**: 无限制（CSRF token获取不计入速率限制）",
          "tags": [
            "auth"
          ],
          "parameters": [],
          "responses": {
            "200": {
              "description": "操作成功",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "code": {
                        "type": "integer"
                      },
                      "message": {
                        "type": "string"
                      },
                      "data": {
                        "type": "null"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "请求参数错误",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "code": {
                        "type": "integer"
                      },
                      "message": {
                        "type": "string"
                      },
                      "data": {
                        "type": "null"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "未授权访问",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "code": {
                        "type": "integer"
                      },
                      "message": {
                        "type": "string"
                      },
                      "data": {
                        "type": "null"
                      }
                    }
                  }
                }
              }
            },
            "500": {
              "description": "服务器内部错误",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "code": {
                        "type": "integer"
                      },
                      "message": {
                        "type": "string"
                      },
                      "data": {
                        "type": "null"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "description": "Get Csrf Token",
  "tags": [
    "auth",
    "P0"
  ],
  "is_active": true,
  "created_at": "2025-12-30T22:33:46.789976"
}