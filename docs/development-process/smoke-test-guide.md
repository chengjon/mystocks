# çƒŸé›¾æµ‹è¯•æ‰§è¡ŒæŒ‡å—

**ç‰ˆæœ¬**: 1.0
**æ—¥æœŸ**: 2025-10-29
**ç›®çš„**: è¯¦ç»†è¯´æ˜å¦‚ä½•æ‰§è¡ŒçƒŸé›¾æµ‹è¯•
**é€‚ç”¨è§’è‰²**: å¼€å‘äººå‘˜ã€QAã€DevOps

---

## ğŸ“– ç›®å½•

1. [ä»€ä¹ˆæ˜¯çƒŸé›¾æµ‹è¯•](#ä»€ä¹ˆæ˜¯çƒŸé›¾æµ‹è¯•)
2. [æ‰§è¡Œå‡†å¤‡](#æ‰§è¡Œå‡†å¤‡)
3. [æ‰‹åŠ¨æ‰§è¡Œæ­¥éª¤](#æ‰‹åŠ¨æ‰§è¡Œæ­¥éª¤)
4. [è‡ªåŠ¨åŒ–æ‰§è¡Œ](#è‡ªåŠ¨åŒ–æ‰§è¡Œ)
5. [ç»“æœåˆ¤æ–­](#ç»“æœåˆ¤æ–­)
6. [æ•…éšœå¤„ç†](#æ•…éšœå¤„ç†)

---

## ä»€ä¹ˆæ˜¯çƒŸé›¾æµ‹è¯•

### å®šä¹‰

çƒŸé›¾æµ‹è¯•ï¼ˆSmoke Testingï¼‰æ˜¯è½¯ä»¶æµ‹è¯•ä¸­çš„ä¸€ç§åˆæ­¥æµ‹è¯•æ–¹æ³•ï¼Œç”¨äºå¿«é€ŸéªŒè¯ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚åå­—æ¥æºäºç¡¬ä»¶æµ‹è¯•ä¸­"é€šç”µåçœ‹æ˜¯å¦å†’çƒŸ"çš„åšæ³•ã€‚

### ç‰¹ç‚¹

- âš¡ **å¿«é€Ÿ**: 5-10 åˆ†é’Ÿå®Œæˆå…¨éƒ¨æµ‹è¯•
- ğŸ¯ **å…³é”®è·¯å¾„**: åªæµ‹è¯•æœ€æ ¸å¿ƒçš„åŠŸèƒ½
- ğŸš¨ **é—¨æ§›æµ‹è¯•**: ä¸é€šè¿‡åˆ™ä¸èƒ½éƒ¨ç½²
- ğŸ“‹ **æ ‡å‡†åŒ–**: æ¯æ¬¡æ‰§è¡Œç›¸åŒçš„æµ‹è¯•é›†

### MyStocks çƒŸé›¾æµ‹è¯•èŒƒå›´

æ ¹æ® [çƒŸé›¾æµ‹è¯•æ¸…å•](../../specs/006-web-90-1/contracts/smoke-test-checklist.md)ï¼Œæˆ‘ä»¬å®šä¹‰äº† **7 é¡¹å…³é”®æµ‹è¯•**ï¼š

1. ç³»ç»Ÿå¥åº·æ£€æŸ¥
2. æ•°æ®åº“è¿æ¥
3. ç”¨æˆ·ç™»å½•
4. ä»ªè¡¨ç›˜åŠ è½½
5. å…³é”® API
6. å‰ç«¯èµ„æº
7. æ•°æ®è¡¨æ ¼æ¸²æŸ“

---

## æ‰§è¡Œå‡†å¤‡

### ç¯å¢ƒè¦æ±‚

**ç³»ç»ŸæœåŠ¡**:
- âœ… åç«¯æœåŠ¡è¿è¡Œ (http://localhost:8000)
- âœ… å‰ç«¯æœåŠ¡è¿è¡Œ (http://localhost:5173)
- âœ… PostgreSQL æ•°æ®åº“è¿è¡Œ
- âœ… æ•°æ®åº“æœ‰æµ‹è¯•æ•°æ®

**å·¥å…·å‡†å¤‡**:
```bash
# æ£€æŸ¥å·¥å…·å®‰è£…
command -v http    # httpie
command -v jq      # JSON å¤„ç†
command -v psql    # PostgreSQL å®¢æˆ·ç«¯
command -v curl    # HTTP å®¢æˆ·ç«¯
```

**ç¯å¢ƒå˜é‡**:
```bash
# åŠ è½½å¿«æ·å‘½ä»¤
source /opt/claude/mystocks_spec/scripts/bash_aliases.sh

# éªŒè¯ç¯å¢ƒ
mt-verify-tools
```

### æ‰§è¡Œå‰æ£€æŸ¥

```bash
# 1. åç«¯æœåŠ¡æ£€æŸ¥
curl http://localhost:8000/health
# é¢„æœŸ: {"status":"healthy"}

# 2. å‰ç«¯æœåŠ¡æ£€æŸ¥
curl -I http://localhost:5173
# é¢„æœŸ: HTTP/1.1 200 OK

# 3. æ•°æ®åº“æ£€æŸ¥
mt-db -c "SELECT 1;"
# é¢„æœŸ: è¿”å› 1
```

---

## æ‰‹åŠ¨æ‰§è¡Œæ­¥éª¤

### æµ‹è¯• 1: ç³»ç»Ÿå¥åº·æ£€æŸ¥ (2 åˆ†é’Ÿ)

#### åç«¯å¥åº·æ£€æŸ¥
```bash
curl -f http://localhost:8000/health
```

**é¢„æœŸç»“æœ**:
```json
{
  "status": "healthy",
  "timestamp": "2025-10-29T10:00:00Z"
}
```

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¿”å› HTTP 200
- [ ] `status` å­—æ®µä¸º `"healthy"`

#### å‰ç«¯æœåŠ¡æ£€æŸ¥
```bash
curl -I http://localhost:5173
```

**é¢„æœŸç»“æœ**:
```
HTTP/1.1 200 OK
Content-Type: text/html
```

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¿”å› HTTP 200
- [ ] Content-Type åŒ…å« html

#### æ•°æ®åº“è¿æ¥æ£€æŸ¥
```bash
mt-db -c "SELECT 1 as result;"
```

**é¢„æœŸç»“æœ**:
```
 result
--------
      1
(1 row)
```

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¿æ¥æˆåŠŸ
- [ ] è¿”å›ç»“æœ

---

### æµ‹è¯• 2: æ•°æ®åº“è¿æ¥å’Œæ•°æ®éªŒè¯ (1 åˆ†é’Ÿ)

#### æ£€æŸ¥æ ¸å¿ƒè¡¨æ•°æ®
```bash
mt-db -c "SELECT COUNT(*) as count FROM cn_stock_top;"
```

**é¢„æœŸç»“æœ**:
```
 count
-------
  1250
(1 row)
```

**æ£€æŸ¥æ ‡å‡†**:
- [ ] count > 0

#### æ£€æŸ¥æ•°æ®æ—¶æ•ˆæ€§
```bash
mt-db -c "SELECT MAX(trade_date) as latest FROM cn_stock_top;"
```

**é¢„æœŸç»“æœ**:
```
  latest
------------
 2025-10-29
(1 row)
```

**æ£€æŸ¥æ ‡å‡†**:
- [ ] latest æ—¥æœŸåœ¨æœ€è¿‘ 2 å¤©å†…

---

### æµ‹è¯• 3: ç”¨æˆ·ç™»å½•æµç¨‹ (1 åˆ†é’Ÿ)

#### è·å–è®¿é—® Token
```bash
TOKEN=$(mt-token)
echo "Token obtained: ${TOKEN:0:20}..."
```

**é¢„æœŸè¾“å‡º**:
```
Token obtained: eyJhbGciOiJIUzI1NiIs...
```

**æ£€æŸ¥æ ‡å‡†**:
- [ ] Token ä¸ä¸ºç©º
- [ ] Token é•¿åº¦ > 50 å­—ç¬¦

#### éªŒè¯ Token æœ‰æ•ˆæ€§
```bash
http GET http://localhost:8000/api/auth/me \
  Authorization:"Bearer $TOKEN"
```

**é¢„æœŸç»“æœ**:
```json
{
  "username": "admin",
  "role": "admin",
  "user_id": 1
}
```

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¿”å› HTTP 200
- [ ] åŒ…å«ç”¨æˆ·ä¿¡æ¯

---

### æµ‹è¯• 4: ä»ªè¡¨ç›˜åŠ è½½æµ‹è¯• (2 åˆ†é’Ÿ)

#### API æµ‹è¯•
```bash
TOKEN=$(mt-token)
http GET http://localhost:8000/api/data/dashboard/summary \
  Authorization:"Bearer $TOKEN"
```

**é¢„æœŸç»“æœ**:
```json
{
  "success": true,
  "data": {
    "dragon_tiger": [...],
    "etf_data": [...],
    "fund_flow": [...],
    "chip_race": [...]
  }
}
```

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¿”å› HTTP 200
- [ ] `success` ä¸º true
- [ ] `data` å¯¹è±¡åŒ…å« 4 ä¸ªå­—æ®µ
- [ ] æ¯ä¸ªå­—æ®µéƒ½æœ‰æ•°æ®ï¼ˆéç©ºæ•°ç»„ï¼‰

#### æµè§ˆå™¨æ‰‹åŠ¨éªŒè¯
1. æ‰“å¼€æµè§ˆå™¨: `http://localhost:5173/dashboard`
2. ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆï¼ˆçº¦ 2-3 ç§’ï¼‰
3. æ‰“å¼€ DevTools (F12)

**æ£€æŸ¥ Console æ ‡ç­¾**:
- [ ] æ— çº¢è‰²é”™è¯¯ï¼ˆErrorsï¼‰
- [ ] å¯ä»¥æœ‰é»„è‰²è­¦å‘Šï¼ˆWarningsï¼‰ï¼Œä½†ä¸å½±å“åŠŸèƒ½

**æ£€æŸ¥ Network æ ‡ç­¾**:
- [ ] æ‰€æœ‰ API è¯·æ±‚çŠ¶æ€ä¸º 200
- [ ] æ—  failed è¯·æ±‚ï¼ˆçº¢è‰²ï¼‰

**æ£€æŸ¥é¡µé¢æ˜¾ç¤º**:
- [ ] 4 ä¸ªç»Ÿè®¡å¡ç‰‡æ­£å¸¸æ˜¾ç¤º
- [ ] æ¯ä¸ªå¡ç‰‡æœ‰æ•°å­—æ•°æ®
- [ ] å›¾è¡¨æ­£å¸¸æ¸²æŸ“

---

### æµ‹è¯• 5: å…³é”® API ç«¯ç‚¹æµ‹è¯• (2 åˆ†é’Ÿ)

#### é¾™è™æ¦œ API
```bash
TOKEN=$(mt-token)
http GET "http://localhost:8000/api/market/v3/dragon-tiger?limit=5" \
  Authorization:"Bearer $TOKEN" | jq '.data | length'
```

**é¢„æœŸç»“æœ**: `5`

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¿”å› HTTP 200
- [ ] è¿”å› 5 æ¡æ•°æ®

#### èµ„é‡‘æµå‘ API
```bash
http GET "http://localhost:8000/api/market/v3/fund-flow?limit=5" \
  Authorization:"Bearer $TOKEN" | jq '.data | length'
```

**é¢„æœŸç»“æœ**: `5`

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¿”å› HTTP 200
- [ ] è¿”å›æ•°æ®
- [ ] å“åº”æ—¶é—´ < 2 ç§’

#### ETF æ•°æ® API
```bash
http GET "http://localhost:8000/api/market/v3/etf-data?limit=5" \
  Authorization:"Bearer $TOKEN" | jq '.data | length'
```

**é¢„æœŸç»“æœ**: `5`

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¿”å› HTTP 200
- [ ] è¿”å›æ•°æ®

---

### æµ‹è¯• 6: å‰ç«¯èµ„æºåŠ è½½ (1 åˆ†é’Ÿ)

#### æµè§ˆå™¨æ£€æŸ¥
1. æ‰“å¼€æµè§ˆå™¨: `http://localhost:5173`
2. æ‰“å¼€ DevTools (F12) â†’ Network æ ‡ç­¾
3. åˆ·æ–°é¡µé¢ (Ctrl+R æˆ– Cmd+R)
4. ç­‰å¾…æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ

**æ£€æŸ¥æ ‡å‡†**:
- [ ] æ‰€æœ‰ JS æ–‡ä»¶åŠ è½½æˆåŠŸï¼ˆç»¿è‰² 200ï¼‰
- [ ] æ‰€æœ‰ CSS æ–‡ä»¶åŠ è½½æˆåŠŸï¼ˆç»¿è‰² 200ï¼‰
- [ ] æ—  404 é”™è¯¯ï¼ˆçº¢è‰²ï¼‰
- [ ] ä¸»é¡µé¢æ¸²æŸ“æ­£å¸¸

---

### æµ‹è¯• 7: æ•°æ®è¡¨æ ¼æ¸²æŸ“æµ‹è¯• (1 åˆ†é’Ÿ)

#### é¾™è™æ¦œé¡µé¢æµ‹è¯•
1. æ‰“å¼€æµè§ˆå™¨: `http://localhost:5173/dragon-tiger`
2. ç­‰å¾…é¡µé¢åŠ è½½ï¼ˆ2-3 ç§’ï¼‰

**æ£€æŸ¥æ ‡å‡†**:
- [ ] è¡¨æ ¼ç»„ä»¶æ¸²æŸ“
- [ ] è¡¨æ ¼æœ‰æ•°æ®è¡Œï¼ˆè‡³å°‘ 5 è¡Œï¼‰
- [ ] è¡¨å¤´æ˜¾ç¤ºæ­£ç¡®
- [ ] æ•°æ®æ ¼å¼æ­£ç¡®ï¼ˆæ—¥æœŸã€æ•°å­—ç­‰ï¼‰
- [ ] æ—  "æš‚æ— æ•°æ®" æˆ– "åŠ è½½å¤±è´¥" æç¤º

**äº¤äº’æµ‹è¯•**:
- [ ] è¡¨æ ¼å¯ä»¥æ»šåŠ¨
- [ ] æ’åºåŠŸèƒ½æ­£å¸¸ï¼ˆç‚¹å‡»è¡¨å¤´ï¼‰
- [ ] åˆ†é¡µåŠŸèƒ½æ­£å¸¸ï¼ˆå¦‚æœ‰ï¼‰

---

## è‡ªåŠ¨åŒ–æ‰§è¡Œ

### ä½¿ç”¨ Bash è„šæœ¬

#### å¿«é€Ÿæ‰§è¡Œè„šæœ¬
```bash
#!/bin/bash
# smoke_test_quick.sh - å¿«é€ŸçƒŸé›¾æµ‹è¯•

set -e  # é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º

echo "=== MyStocks çƒŸé›¾æµ‹è¯• ==="
echo "å¼€å§‹æ—¶é—´: $(date '+%Y-%m-%d %H:%M:%S')"
echo ""

# åŠ è½½ç¯å¢ƒ
source scripts/bash_aliases.sh

# æµ‹è¯• 1: ç³»ç»Ÿå¥åº·
echo "[1/7] ç³»ç»Ÿå¥åº·æ£€æŸ¥..."
curl -sf http://localhost:8000/health > /dev/null || (echo "âŒ åç«¯æœåŠ¡å¼‚å¸¸" && exit 1)
echo "âœ… é€šè¿‡"

# æµ‹è¯• 2: æ•°æ®åº“
echo "[2/7] æ•°æ®åº“è¿æ¥æµ‹è¯•..."
COUNT=$(mt-db -c "SELECT COUNT(*) FROM cn_stock_top;" -t | tr -d ' ')
if [ "$COUNT" -gt 0 ]; then
    echo "âœ… é€šè¿‡ (æ•°æ®é‡: $COUNT)"
else
    echo "âŒ æ•°æ®åº“æ— æ•°æ®"
    exit 1
fi

# æµ‹è¯• 3: ç™»å½•
echo "[3/7] ç”¨æˆ·ç™»å½•æµ‹è¯•..."
TOKEN=$(mt-token)
if [ -n "$TOKEN" ]; then
    echo "âœ… é€šè¿‡"
else
    echo "âŒ ç™»å½•å¤±è´¥"
    exit 1
fi

# æµ‹è¯• 4: ä»ªè¡¨ç›˜
echo "[4/7] ä»ªè¡¨ç›˜ API æµ‹è¯•..."
http --check-status GET http://localhost:8000/api/data/dashboard/summary \
  Authorization:"Bearer $TOKEN" > /dev/null 2>&1 || (echo "âŒ ä»ªè¡¨ç›˜ API å¤±è´¥" && exit 1)
echo "âœ… é€šè¿‡"

# æµ‹è¯• 5: å…³é”® API
echo "[5/7] å…³é”® API æµ‹è¯•..."
http --check-status GET "http://localhost:8000/api/market/v3/dragon-tiger?limit=5" \
  Authorization:"Bearer $TOKEN" > /dev/null 2>&1 || (echo "âŒ é¾™è™æ¦œ API å¤±è´¥" && exit 1)
echo "âœ… é€šè¿‡"

# æµ‹è¯• 6: å‰ç«¯
echo "[6/7] å‰ç«¯æœåŠ¡æµ‹è¯•..."
curl -sf http://localhost:5173 > /dev/null || (echo "âŒ å‰ç«¯æœåŠ¡å¼‚å¸¸" && exit 1)
echo "âœ… é€šè¿‡"

# æµ‹è¯• 7: æ•°æ®è¡¨æ ¼ (éœ€è¦ Playwright)
echo "[7/7] æ•°æ®è¡¨æ ¼æµ‹è¯•..."
echo "âš ï¸  éœ€è¦æ‰‹åŠ¨éªŒè¯æˆ–ä½¿ç”¨ Playwright æµ‹è¯•"

echo ""
echo "=== çƒŸé›¾æµ‹è¯•å®Œæˆ ==="
echo "ç»“æŸæ—¶é—´: $(date '+%Y-%m-%d %H:%M:%S')"
echo "âœ… æ‰€æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•é€šè¿‡"
```

**ä¿å­˜ä¸º**: `scripts/smoke_test_quick.sh`

#### ä½¿ç”¨æ–¹æ³•
```bash
chmod +x scripts/smoke_test_quick.sh
./scripts/smoke_test_quick.sh
```

---

### ä½¿ç”¨ pytest è¿è¡Œ

#### è¿è¡Œå®Œæ•´çƒŸé›¾æµ‹è¯•å¥—ä»¶
```bash
# è¿è¡Œæ‰€æœ‰çƒŸé›¾æµ‹è¯•
pytest tests/smoke/test_smoke.py -v

# å¤±è´¥æ—¶ç«‹å³åœæ­¢
pytest tests/smoke/test_smoke.py -v -x

# åªæ˜¾ç¤ºæ‘˜è¦
pytest tests/smoke/test_smoke.py -q
```

#### é¢„æœŸè¾“å‡º
```
tests/smoke/test_smoke.py::test_system_health PASSED           [ 14%]
tests/smoke/test_smoke.py::test_database_connection PASSED     [ 28%]
tests/smoke/test_smoke.py::test_user_login PASSED              [ 42%]
tests/smoke/test_smoke.py::test_dashboard_loads PASSED         [ 57%]
tests/smoke/test_smoke.py::test_critical_apis PASSED           [ 71%]
tests/smoke/test_smoke.py::test_frontend_assets PASSED         [ 85%]
tests/smoke/test_smoke.py::test_data_table_rendering PASSED    [100%]

======= 7 passed in 8.23s =======
```

---

## ç»“æœåˆ¤æ–­

### é€šè¿‡æ ‡å‡†

âœ… **å…¨éƒ¨é€šè¿‡**: æ‰€æœ‰ 7 é¡¹æµ‹è¯•éƒ½è¿”å› PASS

**è¡ŒåŠ¨**: æ‰¹å‡†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

### å¤±è´¥å¤„ç†

âŒ **ä»»ä½•ä¸€é¡¹å¤±è´¥**: å³ä½¿åªæœ‰ 1 é¡¹æµ‹è¯•å¤±è´¥

**è¡ŒåŠ¨**:
1. **ç«‹å³åœæ­¢éƒ¨ç½²**
2. **è®°å½•å¤±è´¥ä¿¡æ¯**
3. **å¿«é€Ÿè¯Šæ–­é—®é¢˜**
4. **ä¿®å¤åé‡æ–°æµ‹è¯•**

### éƒ¨åˆ†é€šè¿‡åœºæ™¯

âš ï¸ **æµ‹è¯• 6 (å‰ç«¯èµ„æº) å¯ä»¥ä¾‹å¤–**:
- å¦‚æœä»…ä»…æ˜¯æŸä¸ªéå…³é”®èµ„æºï¼ˆå¦‚å›¾æ ‡ï¼‰åŠ è½½å¤±è´¥
- ä¸”ä¸å½±å“æ ¸å¿ƒåŠŸèƒ½
- å¯ä»¥åœ¨ç¡®è®¤åç»§ç»­éƒ¨ç½²

**å…¶ä»– 6 é¡¹æµ‹è¯•å¿…é¡»å…¨éƒ¨é€šè¿‡ï¼Œæ— ä¾‹å¤–ã€‚**

---

## æ•…éšœå¤„ç†

### åœºæ™¯ 1: åç«¯æœåŠ¡å¥åº·æ£€æŸ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
curl: (7) Failed to connect to localhost port 8000
```

**è¯Šæ–­æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ
ps aux | grep uvicorn

# 2. æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8000

# 3. æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f /tmp/uvicorn.log
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd web/backend
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

---

### åœºæ™¯ 2: æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
psql: error: connection to server failed
```

**è¯Šæ–­æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥ PostgreSQL æœåŠ¡
sudo systemctl status postgresql

# 2. æµ‹è¯•è¿æ¥
psql -h localhost -U mystocks_user -d mystocks -c "SELECT 1;"

# 3. æ£€æŸ¥é…ç½®
cat .env | grep POSTGRESQL
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¯åŠ¨ PostgreSQL
sudo systemctl start postgresql

# æˆ–æ£€æŸ¥è¿æ¥é…ç½®
nano .env
```

---

### åœºæ™¯ 3: ç™»å½•å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
HTTP/1.1 401 Unauthorized
{"detail": "Invalid credentials"}
```

**è¯Šæ–­æ­¥éª¤**:
```bash
# 1. éªŒè¯ç”¨æˆ·å­˜åœ¨
mt-db -c "SELECT * FROM users WHERE username='admin';"

# 2. æµ‹è¯•ä¸åŒå‡­æ®
http POST http://localhost:8000/api/auth/login \
  username=admin password=admin123
```

**è§£å†³æ–¹æ¡ˆ**:
- é‡ç½®ç®¡ç†å‘˜å¯†ç 
- æ£€æŸ¥ç”¨æˆ·è¡¨æ•°æ®

---

### åœºæ™¯ 4: API è¿”å›ç©ºæ•°æ®

**é”™è¯¯ä¿¡æ¯**:
```json
{
  "success": true,
  "data": []
}
```

**è¯Šæ–­æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥æ•°æ®åº“
mt-db -c "SELECT COUNT(*) FROM cn_stock_top;"

# 2. å¦‚æœä¸º 0ï¼Œè¿è¡Œæ•°æ®é‡‡é›†
python run_realtime_market_saver.py

# 3. é‡æ–°éªŒè¯
mt-db -c "SELECT COUNT(*) FROM cn_stock_top;"
```

---

### åœºæ™¯ 5: å‰ç«¯é¡µé¢ç©ºç™½

**é”™è¯¯ä¿¡æ¯**: æµè§ˆå™¨æ˜¾ç¤ºç©ºç™½é¡µé¢

**è¯Šæ–­æ­¥éª¤**:
1. æ‰“å¼€ DevTools (F12)
2. æ£€æŸ¥ Console æ ‡ç­¾ - æŸ¥çœ‹é”™è¯¯
3. æ£€æŸ¥ Network æ ‡ç­¾ - æŸ¥çœ‹ API è¯·æ±‚

**å¸¸è§åŸå› **:
- API è¯·æ±‚å¤±è´¥ï¼ˆ401/500ï¼‰
- JavaScript é”™è¯¯
- è·¯ç”±é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡æ–°æ„å»ºå‰ç«¯
cd web/frontend
npm run build

# é‡å¯å‰ç«¯æœåŠ¡
npm run dev
```

---

## æ‰§è¡Œé¢‘ç‡å»ºè®®

### å¿…é¡»æ‰§è¡Œçš„æ—¶æœº

1. **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰** (å¿…é¡»)
   - æ¯æ¬¡éƒ¨ç½²éƒ½è¦æ‰§è¡Œ
   - ä¸é€šè¿‡ä¸å¾—éƒ¨ç½²

2. **æ•°æ®åº“è¿ç§»å** (å¿…é¡»)
   - Schema å˜æ›´å
   - æ•°æ®å¯¼å…¥å

3. **ä¸»è¦é…ç½®å˜æ›´å** (æ¨è)
   - API ç«¯ç‚¹å˜æ›´
   - è®¤è¯é…ç½®å˜æ›´
   - æ•°æ®åº“è¿æ¥é…ç½®å˜æ›´

### å¯é€‰æ‰§è¡Œçš„æ—¶æœº

1. **æ¯æ—¥æ„å»ºå** (æ¨è)
   - ä½œä¸ºå¤œé—´æ„å»ºçš„ä¸€éƒ¨åˆ†
   - åŠæ—©å‘ç°é›†æˆé—®é¢˜

2. **åŠŸèƒ½åˆ†æ”¯åˆå¹¶å** (æ¨è)
   - é‡å¤§åŠŸèƒ½åˆå¹¶åˆ°ä¸»åˆ†æ”¯
   - ç¡®ä¿ä¸ç ´åç°æœ‰åŠŸèƒ½

---

## æ£€æŸ¥æ¸…å•æ€»ç»“

### æ‰§è¡Œå‰

- [ ] æ‰€æœ‰æœåŠ¡å·²å¯åŠ¨
- [ ] æµ‹è¯•è´¦å·å‡†å¤‡å°±ç»ª
- [ ] å¿«æ·å‘½ä»¤å·²åŠ è½½
- [ ] æµè§ˆå™¨ DevTools å‡†å¤‡å°±ç»ª

### æ‰§è¡Œä¸­

- [ ] æŒ‰é¡ºåºæ‰§è¡Œ 7 é¡¹æµ‹è¯•
- [ ] è®°å½•æ¯é¡¹æµ‹è¯•ç»“æœ
- [ ] å¤±è´¥æ—¶ç«‹å³åœæ­¢
- [ ] æˆªå›¾ä¿å­˜ï¼ˆå¦‚éœ€è¦ï¼‰

### æ‰§è¡Œå

- [ ] å¡«å†™æµ‹è¯•æŠ¥å‘Š
- [ ] åšå‡ºéƒ¨ç½²å†³å®š
- [ ] é€šçŸ¥ç›¸å…³äººå‘˜
- [ ] å½’æ¡£æµ‹è¯•è®°å½•

---

## ç›¸å…³æ–‡æ¡£

- [çƒŸé›¾æµ‹è¯•æ¸…å•](../../specs/006-web-90-1/contracts/smoke-test-checklist.md) - å®Œæ•´æµ‹è¯•è§„èŒƒ
- [æ•…éšœæ’æŸ¥æŒ‡å—](./troubleshooting.md) - å¸¸è§é—®é¢˜è§£å†³
- [API éªŒè¯æŒ‡å—](../../specs/006-web-90-1/contracts/api-verification-guide.md) - API æµ‹è¯•è¯¦è§£
- [å®šä¹‰å®Œæˆæ ‡å‡†](./definition-of-done.md) - 5 å±‚éªŒè¯æ¨¡å‹

---

**ç‰ˆæœ¬å†å²**:
- v1.0 (2025-10-29): åˆå§‹ç‰ˆæœ¬ï¼Œè¯¦ç»†æ‰§è¡ŒæŒ‡å—

---

**è®°ä½**: çƒŸé›¾æµ‹è¯•æ˜¯ä¿éšœç³»ç»Ÿè´¨é‡çš„æœ€åé˜²çº¿ï¼Œæ‰§è¡Œæ—¶è¦è®¤çœŸã€ä»”ç»†ã€ä¸èƒ½èµ°è¿‡åœºï¼
