# MyStocks 量化交易数据管理系统

## 项目概述

MyStocks 是一个专业的量化交易数据管理系统和 Web 管理平台，采用科学的数据分类体系和智能路由策略，实现多数据库协同工作。系统基于适配器模式和工厂模式构建统一的数据访问层，提供配置驱动的自动化管理，确保数据的高效存储、快速查询和实时监控。

## 核心特性

- **现代化Web管理平台**: 基于FastAPI + Vue 3的全栈架构
- **多智能体系统**: 集成多智能体系统，支持实时监控、技术分析、多数据源集成
- **双数据库存储策略**: TDengine(高频时序) + PostgreSQL(通用数据)
- **智能数据调用**: 统一接口规范，自动路由策略
- **先进数据流设计**: 适配器模式、工厂模式、策略模式、观察者模式
- **GPU加速支持**: RAPIDS (cuDF/cuML) 深度集成，支持WSL2环境
- **统一错误处理**: 提供一致的错误处理策略和日志记录功能

## 错误处理机制

项目采用统一的错误处理机制，包含以下特性：

1. **统一错误处理工具** (`src/utils/error_handler.py`):
   - 提供一致的错误处理策略
   - 包含重试机制、日志记录和错误转换
   - 统一的错误日志格式

2. **安全执行函数**:
   - `safe_execute()`: 安全执行函数，捕获异常并返回默认值

3. **重试装饰器**:
   - `retry_on_failure()`: 提供指数退避重试机制

4. **自定义异常类型**:
   - `DataError`: 数据相关错误
   - `ConnectionError`: 连接相关错误
   - `ValidationError`: 验证相关错误
   - `ProcessingError`: 处理相关错误

## 技术栈

- **后端语言**: Python 3.12+
- **数据库**: TDengine 3.3.x + PostgreSQL 17.x (TimescaleDB扩展)
- **Web框架**: FastAPI + Vue 3 + Element Plus
- **数据源**: akshare, baostock, tushare, efinance, 通达信等
- **GPU加速**: RAPIDS (cuDF/cuML) - 支持WSL2环境
- **监控**: Prometheus + Grafana (可选)

## 安全扫描

项目已集成安全扫描工具：

- Bandit: Python安全漏洞扫描
- Safety: Python依赖安全检查
- Semgrep: 代码安全和质量扫描

扫描报告存储在 `reports/` 目录中。

## 开发规范

1. 代码风格: 遵循PEP 8规范
2. 类型注解: 所有函数和方法应提供类型注解
3. 错误处理: 使用统一错误处理工具
4. 日志记录: 使用统一的日志格式和级别
5. 测试覆盖: 关键功能需提供单元测试