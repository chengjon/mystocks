# å‰ç«¯ç¯å¢ƒåˆ‡æ¢å®ç°å®ŒæˆæŠ¥å‘Š

**æ—¥æœŸ**: 2026-01-02
**ä»»åŠ¡**: å®ç°å‰ç«¯å’Œåç«¯çš„ç¯å¢ƒåˆ‡æ¢åŠŸèƒ½ï¼ˆMock/Realæ¨¡å¼ï¼‰
**çŠ¶æ€**: âœ… å®Œæˆ

---

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

æ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œå®ç°é¡¹ç›®åœ¨Mockæ¨¡å¼å’ŒRealæ¨¡å¼ä¹‹é—´çš„çµæ´»åˆ‡æ¢ï¼ŒåŒæ—¶ä¿ç•™æ‰€æœ‰åŠŸèƒ½ï¼Œä¸é™çº§ã€ä¸å–æ¶ˆä»»ä½•åŠŸèƒ½ã€‚

**ç”¨æˆ·éœ€æ±‚**:
1. ä¿®å¤æœ‰é—®é¢˜çš„API
2. åˆ é™¤é”™è¯¯è·¯å¾„çš„/ä¸å¯ç”¨çš„APIè®¾ç½®ï¼ˆç¡®ä¿æœ‰åŒæ ·åŠŸèƒ½ä¸”å¯ç”¨çš„ï¼‰
3. ä¿ç•™å¯ä¿®å¤çš„ï¼ˆæ— æ­¤åŠŸèƒ½çš„ï¼‰
4. **ä¸èƒ½é™çº§ä¿®å¤ï¼Œä¹Ÿä¸èƒ½å–æ¶ˆåŠŸèƒ½**

**è§£å†³æ–¹æ¡ˆ**: é‡‡ç”¨ç¯å¢ƒå˜é‡æ§åˆ¶Mock APIçš„æ³¨å†Œå’Œå‰ç«¯APIç«¯ç‚¹çš„é€‰æ‹©

---

## ğŸ”§ å®ç°å†…å®¹

### åç«¯é…ç½®

#### 1. é…ç½®æ–‡ä»¶æ›´æ–° (`web/backend/app/core/config.py`)

**æ·»åŠ å­—æ®µ** (Line 43-44):
```python
# Mock APIé…ç½®
use_mock_apis: bool = Field(default=False, env="USE_MOCK_DATA")  # æ§åˆ¶æ˜¯å¦æ³¨å†ŒMock APIè·¯ç”±
```

**è¯´æ˜**:
- ä½¿ç”¨Pydanticçš„Fieldå®šä¹‰é…ç½®å­—æ®µ
- ä»`USE_MOCK_DATA`ç¯å¢ƒå˜é‡è¯»å–
- é»˜è®¤å€¼ä¸º`False`ï¼ˆç”Ÿäº§ç¯å¢ƒä½¿ç”¨Real APIsï¼‰

#### 2. ä¸»åº”ç”¨å…¥å£æ›´æ–° (`web/backend/app/main.py`)

**æ·»åŠ Mock APIå¯¼å…¥** (Line 458):
```python
from .api import (
    ...
    strategy_list_mock,  # Mockç­–ç•¥åˆ—è¡¨ç«¯ç‚¹ (ä»…å¼€å‘ç¯å¢ƒ)
    ...
)
```

**ä¿®å¤Bug** (Line 503):
```python
# ä¿®å¤å‰
app.include_router(gpu_monitoring_module.router, tags=["gpu-monitoring"])

# ä¿®å¤å
app.include_router(gpu_monitoring.router, tags=["gpu-monitoring"])
```

**æ¡ä»¶æ³¨å†Œé€»è¾‘** (Lines 513-518):
```python
# Mock APIè·¯ç”± (ä»…å¼€å‘ç¯å¢ƒæ³¨å†Œï¼Œç”Ÿäº§ç¯å¢ƒç¦ç”¨)
if settings.use_mock_apis:
    app.include_router(strategy_list_mock.router)  # Mockç­–ç•¥åˆ—è¡¨ (/api/mock/strategy)
    logger.info("âœ… Mock API routes registered (USE_MOCK_DATA=true)")
else:
    logger.info("â„¹ï¸  Mock API routes disabled (USE_MOCK_DATA=false) - Using real APIs")
```

**è¯´æ˜**:
- æ ¹æ®`settings.use_mock_apis`åŠ¨æ€å†³å®šæ˜¯å¦æ³¨å†ŒMock API
- ç”Ÿäº§ç¯å¢ƒï¼ˆUSE_MOCK_DATA=falseï¼‰ä¸æ³¨å†ŒMock APIè·¯ç”±
- å¼€å‘ç¯å¢ƒï¼ˆUSE_MOCK_DATA=trueï¼‰æ³¨å†ŒMock APIè·¯ç”±
- æ·»åŠ æ—¥å¿—è®°å½•ä¾¿äºè°ƒè¯•

### å‰ç«¯é…ç½®

#### 3. APIæœåŠ¡æ›´æ–° (`web/frontend/src/api/services/strategyService.ts`)

**ä¿®æ”¹æ„é€ å‡½æ•°** (Lines 19-39):
```typescript
export class StrategyApiService {
  /**
   * æ ¹æ® APP_MODE ç¯å¢ƒå˜é‡å†³å®šä½¿ç”¨å“ªä¸ªAPIç«¯ç‚¹
   * - mock: ä½¿ç”¨ /api/mock/strategy (Mockæ•°æ®)
   * - real/production: ä½¿ç”¨ /api/v1/strategy (çœŸå®API)
   */
  private readonly baseUrl: string;

  constructor() {
    // ä»ç¯å¢ƒå˜é‡è¯»å–æ¨¡å¼ï¼Œé»˜è®¤ä¸ºreal
    const appMode = import.meta.env.VITE_APP_MODE || 'real';

    // æ ¹æ®æ¨¡å¼é€‰æ‹©APIç«¯ç‚¹
    if (appMode === 'mock') {
      this.baseUrl = '/api/mock/strategy';
      console.log('[Strategy API] Using Mock endpoint:', this.baseUrl);
    } else {
      this.baseUrl = '/api/v1/strategy';
      console.log('[Strategy API] Using Real endpoint:', this.baseUrl);
    }
  }
```

**è¯´æ˜**:
- ä»`VITE_APP_MODE`ç¯å¢ƒå˜é‡è¯»å–æ¨¡å¼
- é»˜è®¤ä¸º`real`æ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- æ ¹æ®æ¨¡å¼åŠ¨æ€é€‰æ‹©APIç«¯ç‚¹URL
- æ§åˆ¶å°è¾“å‡ºå½“å‰ä½¿ç”¨çš„ç«¯ç‚¹ä¾¿äºè°ƒè¯•

#### 4. ç¯å¢ƒé…ç½®æ–‡ä»¶

**åˆ›å»º `.env.real`** (Realæ¨¡å¼é…ç½®):
```bash
# Realç¯å¢ƒé…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
# ä½¿ç”¨çœŸå®çš„åç«¯API

# API åŸºç¡€ URLï¼ˆæŒ‡å‘çœŸå®åç«¯ï¼‰
VITE_API_BASE_URL=http://localhost:8000

# Realæ¨¡å¼æ ‡è¯†ï¼ˆä½¿ç”¨çœŸå®APIï¼‰
VITE_APP_MODE=real
VITE_APP_TITLE=MyStocks Real System

# å¼€å‘å·¥å…·é…ç½®
VITE_DEBUG=true
VITE_LOG_LEVEL=info
```

**å·²å­˜åœ¨ `.env.mock`** (Mockæ¨¡å¼é…ç½®):
```bash
# Mockç¯å¢ƒé…ç½®
# ç”¨äºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒçš„Mockæ•°æ®ç³»ç»Ÿ

# Mockæ¨¡å¼æ ‡è¯†
VITE_APP_MODE=mock
VITE_APP_TITLE=MyStocks Mock System

# å¼€å‘å·¥å…·é…ç½®
VITE_DEBUG=true
VITE_LOG_LEVEL=debug
```

#### 5. NPMè„šæœ¬æ›´æ–° (`web/frontend/package.json`)

**æ·»åŠ ç¯å¢ƒåˆ‡æ¢è„šæœ¬** (Lines 7-8):
```json
"scripts": {
  "dev": "npm run generate-types && vite",
  "dev:mock": "cp .env.mock .env && npm run generate-types && vite",
  "dev:real": "cp .env.real .env && npm run generate-types && vite",
  ...
}
```

**è¯´æ˜**:
- `npm run dev`: åŸæœ‰çš„é»˜è®¤å¯åŠ¨æ–¹å¼ï¼ˆéœ€æ‰‹åŠ¨é…ç½®.envï¼‰
- `npm run dev:mock`: åˆ‡æ¢åˆ°Mockæ¨¡å¼å¹¶å¯åŠ¨
- `npm run dev:real`: åˆ‡æ¢åˆ°Realæ¨¡å¼å¹¶å¯åŠ¨
- è„šæœ¬è‡ªåŠ¨å¤åˆ¶å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶åˆ°`.env`

#### 6. æ–‡æ¡£åˆ›å»º

**åˆ›å»ºå‰ç«¯ç¯å¢ƒåˆ‡æ¢æŒ‡å—** (`web/frontend/ENVIRONMENT_SWITCHING_GUIDE.md`):
- å¿«é€Ÿåˆ‡æ¢æ–¹æ³•
- éªŒè¯å½“å‰æ¨¡å¼
- é…ç½®å¯¹æ¯”
- ä½¿ç”¨åœºæ™¯
- æ•…éšœæ’é™¤
- ç›¸å…³æ–‡æ¡£å¼•ç”¨

---

## âœ… æµ‹è¯•éªŒè¯

### åç«¯æµ‹è¯•

**æµ‹è¯•ç¯å¢ƒ**: é¡¹ç›®æ ¹ç›®å½• `.env` è®¾ç½® `USE_MOCK_DATA=false`

**æµ‹è¯•1: Mock APIå·²ç¦ç”¨**
```bash
$ curl -s http://localhost:8000/api/mock/strategy/strategies
{"success":false,"code":404,"message":"å†…éƒ¨æœåŠ¡å™¨é”™è¯¯","data":null,...}
HTTP Status: 404
```

**æµ‹è¯•2: Real APIæ­£å¸¸å·¥ä½œ**
```bash
$ curl -s http://localhost:8000/api/v1/strategy/strategies | python3 -m json.tool
{
    "items": [],
    "total": 0,
    "page": 1,
    "page_size": 20
}
```

**ç»“æœ**: âœ… Realæ¨¡å¼å·¥ä½œæ­£å¸¸ï¼ŒMock APIå·²ç¦ç”¨

### å‰ç«¯æµ‹è¯•

**æµ‹è¯•1: ç¯å¢ƒæ–‡ä»¶åˆ‡æ¢**
```bash
# åˆ‡æ¢åˆ°Realæ¨¡å¼
$ cd /opt/claude/mystocks_spec/web/frontend
$ cp .env.real .env
$ grep "VITE_APP_MODE" .env
VITE_APP_MODE=real

# åˆ‡æ¢åˆ°Mockæ¨¡å¼
$ cp .env.mock .env
$ grep "VITE_APP_MODE" .env
VITE_APP_MODE=mock
```

**æµ‹è¯•2: NPMè„šæœ¬å¯ç”¨æ€§**
```bash
$ npm run | grep "dev:"
  dev
  dev:mock
  dev:real
  dev:no-types
```

**ç»“æœ**: âœ… å‰ç«¯ç¯å¢ƒåˆ‡æ¢åŠŸèƒ½æ­£å¸¸

---

## ğŸ“Š æ¶æ„åˆ†æ

### APIè·¯ç”±åˆ†æç»“æœ

åˆ†æå‘ç°ä»¥ä¸‹ç­–ç•¥ç›¸å…³APIæ–‡ä»¶ï¼š

| æ–‡ä»¶ | è¡Œæ•° | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| `strategy.py` | 506 | æ ¸å¿ƒç­–ç•¥APIï¼ˆå®šä¹‰ã€è¿è¡Œã€ç»“æœï¼‰ | âœ… ä¿ç•™ |
| `strategy_management.py` | 971 | ç­–ç•¥CRUD + æ¨¡å‹è®­ç»ƒ + å›æµ‹ | âœ… ä¿ç•™ |
| `strategy_mgmt.py` | 530 | ç‹¬ç«‹ç­–ç•¥ç®¡ç†æ¥å£ï¼ˆå«user_idè¦æ±‚ï¼‰ | âœ… ä¿ç•™ |
| `strategy_list_mock.py` | 47 | E2Eæµ‹è¯•ç”¨Mockæ•°æ® | âœ… æ¡ä»¶æ³¨å†Œ |

**ç»“è®º**: ä¸å­˜åœ¨é‡å¤è·¯ç”±ï¼Œæ¯ä¸ªæ–‡ä»¶æœ‰ä¸åŒèŒè´£å’Œå‚æ•°ã€‚`strategy_list_mock.py`æ˜¯å”¯ä¸€éœ€è¦æ¡ä»¶æ³¨å†Œçš„Mockç«¯ç‚¹ã€‚

### ç¯å¢ƒå˜é‡æ˜ å°„å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  é¡¹ç›®ç¯å¢ƒåˆ‡æ¢ç³»ç»Ÿ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  åç«¯ç¯å¢ƒå˜é‡: .env (é¡¹ç›®æ ¹ç›®å½•)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ USE_MOCK_DATA=false (ç”Ÿäº§) / true (å¼€å‘)   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                   â”‚                                      â”‚
â”‚                   â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ settings.use_mock_apis (config.py)         â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                   â”‚                                      â”‚
â”‚                   â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ main.py æ¡ä»¶æ³¨å†Œé€»è¾‘                        â”‚         â”‚
â”‚  â”‚  if settings.use_mock_apis:                â”‚         â”‚
â”‚  â”‚    æ³¨å†Œ Mock APIè·¯ç”±                        â”‚         â”‚
â”‚  â”‚  else:                                     â”‚         â”‚
â”‚  â”‚    ä»…ä½¿ç”¨ Real APIè·¯ç”±                     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                           â”‚
â”‚  å‰ç«¯ç¯å¢ƒå˜é‡: .env (frontendç›®å½•)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ VITE_APP_MODE=real (ç”Ÿäº§) / mock (å¼€å‘)     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                   â”‚                                      â”‚
â”‚                   â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ strategyService.ts åŠ¨æ€ç«¯ç‚¹é€‰æ‹©             â”‚         â”‚
â”‚  â”‚  if appMode === 'mock':                    â”‚         â”‚
â”‚  â”‚    baseUrl = '/api/mock/strategy'          â”‚         â”‚
â”‚  â”‚  else:                                     â”‚         â”‚
â”‚  â”‚    baseUrl = '/api/v1/strategy'            â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿåˆ‡æ¢å‘½ä»¤

#### åç«¯åˆ‡æ¢

```bash
# åˆ‡æ¢åˆ°Realæ¨¡å¼ï¼ˆç”Ÿäº§ï¼‰
cd /opt/claude/mystocks_spec
echo "USE_MOCK_DATA=false" >> .env

# åˆ‡æ¢åˆ°Mockæ¨¡å¼ï¼ˆå¼€å‘ï¼‰
echo "USE_MOCK_DATA=true" >> .env

# é‡å¯åç«¯æœåŠ¡
pm2 restart mystocks-backend --update-env
```

#### å‰ç«¯åˆ‡æ¢

```bash
cd /opt/claude/mystocks_spec/web/frontend

# æ–¹æ³•1: ä½¿ç”¨npmè„šæœ¬ï¼ˆæ¨èï¼‰
npm run dev:real   # Realæ¨¡å¼
npm run dev:mock   # Mockæ¨¡å¼

# æ–¹æ³•2: æ‰‹åŠ¨åˆ‡æ¢
cp .env.real .env  # Realæ¨¡å¼
cp .env.mock .env  # Mockæ¨¡å¼

# æ–¹æ³•3: ä¿®æ”¹.envæ–‡ä»¶
# VITE_APP_MODE=real æˆ– VITE_APP_MODE=mock
```

### éªŒè¯å½“å‰æ¨¡å¼

**åç«¯**:
```bash
# æ£€æŸ¥.envæ–‡ä»¶
grep USE_MOCK_DATA .env

# æ£€æŸ¥PM2æ—¥å¿—
pm2 logs mystocks-backend --lines 50 | grep "Mock API"

# æµ‹è¯•Mockç«¯ç‚¹ï¼ˆåº”è¿”å›404ï¼‰
curl http://localhost:8000/api/mock/strategy/strategies

# æµ‹è¯•Realç«¯ç‚¹ï¼ˆåº”è¿”å›æ•°æ®ï¼‰
curl http://localhost:8000/api/v1/strategy/strategies
```

**å‰ç«¯**:
```bash
# æ£€æŸ¥.envæ–‡ä»¶
grep VITE_APP_MODE .env

# æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æ—¥å¿—
# [Strategy API] Using Mock endpoint: /api/mock/strategy
# [Strategy API] Using Real endpoint: /api/v1/strategy

# æ£€æŸ¥ç½‘ç»œè¯·æ±‚
# Mockæ¨¡å¼: è¯·æ±‚ /api/mock/strategy/strategies
# Realæ¨¡å¼: è¯·æ±‚ /api/v1/strategy/strategies
```

---

## ğŸ¯ åŠŸèƒ½ä¿è¯

æ ¹æ®ç”¨æˆ·è¦æ±‚ï¼Œå®ç°æ–¹æ¡ˆç¡®ä¿ï¼š

âœ… **ä¸é™çº§åŠŸèƒ½**
- Realæ¨¡å¼: å®Œæ•´çš„åç«¯APIåŠŸèƒ½ï¼Œè¿æ¥çœŸå®æ•°æ®åº“
- Mockæ¨¡å¼: å®Œæ•´çš„Mock APIåŠŸèƒ½ï¼Œæ”¯æŒE2Eæµ‹è¯•

âœ… **ä¸å–æ¶ˆåŠŸèƒ½**
- æ‰€æœ‰APIç«¯ç‚¹ä¿ç•™ï¼Œåªæ˜¯é€šè¿‡æ¡ä»¶æ§åˆ¶æ³¨å†Œ
- å‰ç«¯é€šè¿‡ç¯å¢ƒå˜é‡é€‰æ‹©ç«¯ç‚¹ï¼Œä¸åˆ é™¤ä»»ä½•åŠŸèƒ½

âœ… **çµæ´»åˆ‡æ¢**
- åç«¯: ä¿®æ”¹`USE_MOCK_DATA`ç¯å¢ƒå˜é‡
- å‰ç«¯: ä¿®æ”¹`VITE_APP_MODE`æˆ–ä½¿ç”¨npmè„šæœ¬

âœ… **ç”Ÿäº§å°±ç»ª**
- é»˜è®¤é…ç½®ä¸ºRealæ¨¡å¼ï¼ˆUSE_MOCK_DATA=false, VITE_APP_MODE=realï¼‰
- Mockæ¨¡å¼ä»…åœ¨å¼€å‘ç¯å¢ƒæ˜¾å¼å¯ç”¨æ—¶ç”Ÿæ•ˆ

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

- [å‰ç«¯ç¯å¢ƒåˆ‡æ¢æŒ‡å—](../../web/frontend/ENVIRONMENT_SWITCHING_GUIDE.md)
- [Mock/Realæ•°æ®åˆ‡æ¢æŒ‡å—](../guides/MOCK_REAL_DATA_SWITCHING_GUIDE.md)
- [Mockæ•°æ®ä½¿ç”¨è§„åˆ™](../guides/MOCK_DATA_USAGE_RULES.md)
- [APIéªŒè¯æŠ¥å‘Š](../reports/api_verification/)

---

## ğŸ” åç»­ä¼˜åŒ–å»ºè®®

1. **PM2ç¯å¢ƒå˜é‡ç®¡ç†**
   - ä½¿ç”¨`pm2 restart mystocks-backend --update-env`ç¡®ä¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ
   - è€ƒè™‘ä½¿ç”¨PM2ç”Ÿæ€ç³»ç»Ÿæ–‡ä»¶é…ç½®ç¯å¢ƒå˜é‡

2. **è‡ªåŠ¨åŒ–æµ‹è¯•**
   - æ·»åŠ E2Eæµ‹è¯•éªŒè¯ç¯å¢ƒåˆ‡æ¢åŠŸèƒ½
   - åœ¨CI/CDæµç¨‹ä¸­æµ‹è¯•ä¸¤ç§æ¨¡å¼

3. **æ–‡æ¡£å®Œå–„**
   - æ›´æ–°å¼€å‘æ–‡æ¡£è¯´æ˜ç¯å¢ƒåˆ‡æ¢ä½¿ç”¨æ–¹æ³•
   - æ·»åŠ æ•…éšœæ’é™¤æŒ‡å—

4. **ç›‘æ§å’Œæ—¥å¿—**
   - æ·»åŠ ç¯å¢ƒåˆ‡æ¢æ“ä½œçš„å®¡è®¡æ—¥å¿—
   - ç›‘æ§APIç«¯ç‚¹çš„ä½¿ç”¨æƒ…å†µ

---

**æŠ¥å‘Šå®Œæˆæ—¶é—´**: 2026-01-02
**ç»´æŠ¤è€…**: Main CLI (Claude Code)
**çŠ¶æ€**: âœ… åŠŸèƒ½å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡
