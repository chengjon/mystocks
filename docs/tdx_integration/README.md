# 股票数据分析项目文档

本项目是一个基于Python的股票数据分析和量化交易辅助系统，通过读取本地通达信软件导出的数据文件，实现数据处理、选股策略执行和回测分析等功能。

## 文档目录

1. [数据抓取功能说明](data_capture.md) - 介绍如何从通达信软件获取原始数据并进行处理
2. [数据分析功能说明](data_analysis.md) - 介绍选股策略执行和回测分析功能
3. [数据呈现功能说明](data_visualization.md) - 介绍策略信号和回测结果的可视化功能
4. [完整项目使用示例](complete_example.md) - 提供从数据准备到策略回测的完整流程示例

## 项目特点

- **本地化数据处理**：所有数据来源于本地通达信软件，避免网络爬虫的不稳定性
- **完整的量化流程**：涵盖数据处理、策略开发、选股执行、回测分析等完整流程
- **高效的性能优化**：采用多进程并行处理和pickle数据格式提高处理效率
- **直观的可视化展示**：通过K线图和收益曲线图直观展示策略效果
- **灵活的策略开发**：提供策略模板，支持自定义选股策略

## 核心功能模块

### 数据处理模块
- 读取通达信日线数据、财务数据和股本变迁数据
- 对股票数据进行前复权处理
- 将处理后的数据保存为CSV和pickle格式

### 策略执行模块
- 支持自定义选股策略
- 提供盘中选股和盘后选股功能
- 多进程并行处理提高执行效率

### 回测分析模块
- 基于RQAlpha框架进行策略回测
- 生成详细的回测报告和收益曲线

### 可视化模块
- 绘制股票K线图并标记策略买卖点
- 显示策略持仓区域和趋势线
- 生成回测收益曲线图

## 使用流程

1. **数据准备**：在通达信软件中下载日线数据和专业财务数据
2. **数据处理**：运行readTDX_lday.py和readTDX_cw.py处理数据
3. **策略开发**：根据模板编写选股策略并保存为celue.py
4. **选股执行**：运行xuangu.py执行选股
5. **信号保存**：运行celue_save.py保存历史策略信号
6. **策略可视化**：运行plot.py查看策略信号
7. **回测分析**：运行huice.py进行策略回测
8. **结果评估**：分析回测报告，优化策略

## 技术栈

- Python 3.x
- pandas - 数据处理
- PyECharts - 数据可视化
- RQAlpha - 策略回测
- pytdx - 获取实时行情
- tqdm - 进度显示
- rich - 终端美化

## 项目结构

```
stock-analysis/
├── readTDX_lday.py      # 日线数据读取和处理
├── readTDX_cw.py        # 财务数据读取和处理
├── xuangu.py            # 选股执行
├── celue_save.py        # 策略信号保存
├── plot.py              # 策略信号可视化
├── huice.py             # 策略回测
├── CeLue模板.py         # 策略模板
├── func.py              # 通用函数库
├── func_TDX.py          # 通达信函数库
├── user_config.py       # 用户配置文件
├── outside/             # 详细文档目录
│   ├── data_capture.md      # 数据抓取功能说明
│   ├── data_analysis.md     # 数据分析功能说明
│   ├── data_visualization.md# 数据呈现功能说明
│   └── complete_example.md  # 完整项目使用示例
```