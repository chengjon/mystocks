# Main CLI å·¥ä½œè§„èŒƒä¸æœ€ä½³å®è·µ

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-12-29
**é€‚ç”¨èŒƒå›´**: æ‰€æœ‰ä½¿ç”¨Git Worktreeè¿›è¡Œå¤šCLIå¹¶è¡Œå¼€å‘çš„é¡¹ç›®
**ç»´æŠ¤è€…**: Main CLI (ä¸»CLI)

---

## ğŸ“‹ æ–‡æ¡£ç›®çš„

æœ¬æ–‡æ¡£æ€»ç»“äº†åœ¨MyStocksé¡¹ç›®Phase 3-6å¤šCLIå¹¶è¡Œå¼€å‘å®æ–½è¿‡ç¨‹ä¸­ç§¯ç´¯çš„ç»éªŒæ•™è®­ï¼Œåˆ¶å®šäº†æ ‡å‡†åŒ–çš„å·¥ä½œæµç¨‹å’Œæœ€ä½³å®è·µè§„èŒƒï¼Œä¾›ä¸»CLIåœ¨æœªæ¥é¡¹ç›®ä¸­å‚è€ƒå’Œéµå¾ªã€‚

**æ ¸å¿ƒä»·å€¼**:
- âœ… é¿å…é‡å¤è¸©å‘ï¼Œæé«˜å¯åŠ¨æ•ˆç‡
- âœ… æ ‡å‡†åŒ–å·¥ä½œæµç¨‹ï¼Œé™ä½ç®¡ç†æˆæœ¬
- âœ… ç¡®ä¿æ‰€æœ‰CLIå…·å¤‡å®Œæ•´çš„å¼€å‘å’Œæäº¤èƒ½åŠ›
- âœ… å»ºç«‹å¯é‡å¤ã€å¯éªŒè¯çš„å¹¶è¡Œå¼€å‘æ¡†æ¶

---

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### 1. **å®Œæ•´ä¼˜å…ˆ** (Completeness First)

åœ¨å¯åŠ¨ä»»ä½•Worker CLIä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿å…¶å…·å¤‡å®Œæ•´çš„å·¥ä½œèƒ½åŠ›ï¼š

- âœ… Git worktreeå·²åˆ›å»ºå¹¶åˆå§‹åŒ–
- âœ… README.mdåŒ…å«å®Œæ•´ä»»åŠ¡æ¸…å•å’Œå·¥ä½œæµç¨‹è§„èŒƒ
- âœ… æ‰€æœ‰hookè„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™
- âœ… ç›‘æ§ç³»ç»Ÿå·²é…ç½®å¹¶å¯æ­£å¸¸è¿½è¸ªè¿›åº¦
- âœ… æäº¤æµç¨‹å’ŒéªŒæ”¶æ ‡å‡†å·²æ˜ç¡®

**é”™è¯¯ç¤ºä¾‹**: åªåˆ›å»ºworktreeå’Œå¤åˆ¶ä»»åŠ¡æ–‡æ¡£ï¼Œå¿½ç•¥å·¥ä½œæµç¨‹å’Œhooks

### 2. **æ–‡æ¡£é©±åŠ¨** (Documentation Driven)

æ‰€æœ‰è§„èŒƒã€æµç¨‹ã€æ ‡å‡†å¿…é¡»æ–‡æ¡£åŒ–ï¼Œå¹¶æ”¾åœ¨æ˜¾çœ¼ä½ç½®ï¼š

- âœ… å·¥ä½œæµç¨‹æŒ‡å—å¿…é¡»é“¾æ¥åœ¨READMEä¸­
- âœ… Gitæäº¤è§„èŒƒå¿…é¡»åŒ…å«å…·ä½“ç¤ºä¾‹
- âœ… è¿›åº¦æ›´æ–°æ ¼å¼å¿…é¡»æä¾›æ¨¡æ¿
- âœ… å®Œæˆæ ‡å‡†å¿…é¡»æ˜ç¡®å¯è¡¡é‡

### 3. **éä¾µå…¥å¼ç›‘æ§** (Non-Invasive Monitoring)

ä¸»CLIé€šè¿‡è¢«åŠ¨æ–¹å¼ç›‘æ§è¿›åº¦ï¼Œä¸ä¸»åŠ¨å¹²é¢„Worker CLIå·¥ä½œï¼š

- âœ… é€šè¿‡READMEæ›´æ–°æ—¶é—´åˆ¤æ–­æ´»è·ƒçŠ¶æ€
- âœ… é€šè¿‡Gitæäº¤å†å²äº†è§£è¿›å±•
- âœ… é€šè¿‡è‡ªåŠ¨åŒ–è„šæœ¬å®šæœŸæ£€æŸ¥
- âŒ ä¸ç›´æ¥ä¿®æ”¹Worker CLIçš„ä»£ç æˆ–æ–‡ä»¶

### 4. **æ ‡å‡†åŒ–å¤ç”¨** (Standardized Reuse)

æ‰€æœ‰CLIå…±äº«ç›¸åŒçš„å·¥ä½œæµç¨‹ã€æ–‡æ¡£æ ¼å¼ã€æäº¤è§„èŒƒï¼š

- âœ… ç»Ÿä¸€çš„CLIå·¥ä½œæµç¨‹æŒ‡å—
- âœ… ç»Ÿä¸€çš„READMEç« èŠ‚ç»“æ„
- âœ… ç»Ÿä¸€çš„Gitæäº¤æ¶ˆæ¯æ ¼å¼
- âœ… ç»Ÿä¸€çš„è¿›åº¦æ›´æ–°æ¨¡æ¿

---

## ğŸš¨ Step -1: Pre-flightæ£€æŸ¥æ¸…å• â­ **å¼ºåˆ¶æ‰§è¡Œï¼ˆ2025-12-30æ–°å¢ï¼‰**

**é‡è¦æ€§**: ğŸ”´ **æé«˜** - ä¸»CLIåœ¨å¼€å§‹ä»»ä½•æ–°å·¥ä½œå‰ï¼Œå¿…é¡»å¼ºåˆ¶æ‰§è¡Œæ­¤æ£€æŸ¥æ¸…å•

**ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦**:
- âŒ **ä¸æ‰§è¡Œ** â†’ ä¸»CLIä½¿ç”¨è¿‡æ—¶ä»£ç /å·¥å…·ï¼Œæµªè´¹æ—¶é—´ï¼Œå¯èƒ½å¼•å…¥ä¸¥é‡bug
- âœ… **æ‰§è¡Œ** â†’ ä¸»CLIå§‹ç»ˆä½¿ç”¨æœ€æ–°ä»£ç ï¼Œé¿å…é‡å¤åŠ³åŠ¨ï¼Œç¡®ä¿åä½œä¸€è‡´æ€§

**å®æˆ˜æ•™è®­**: 2025-12-30ä¸»CLIå°è¯•ä½¿ç”¨APIå¥‘çº¦ç®¡ç†å·¥å…·æ—¶ï¼Œå¿˜è®°å…ˆpull CLI-2çš„å·²å®Œæˆä»£ç ï¼Œå¯¼è‡´å·¥å…·ç›®å½•ä¸å­˜åœ¨ï¼Œæµªè´¹30åˆ†é’Ÿæ’æŸ¥é—®é¢˜ã€‚

### å¿«é€Ÿæ£€æŸ¥å‘½ä»¤

åœ¨ä¸»CLIç›®å½•å¼€å§‹ä»»ä½•å·¥ä½œå‰ï¼Œå¿…é¡»æ‰§è¡Œï¼š

```bash
# 1. ç¡®è®¤åœ¨ä¸»CLIç›®å½•
pwd  # åº”è¯¥æ˜¾ç¤º /opt/claude/mystocks_spec

# 2. æ£€æŸ¥æ‰€æœ‰worktree
git worktree list

# 3. æ£€æŸ¥è¿œç¨‹æ–°æäº¤
git fetch --all
git log HEAD..origin/main --oneline

# 4. å¦‚æœæœ‰worktreeæˆ–æ–°æäº¤ï¼Œå¤„ç†å®ƒä»¬
#    ï¼ˆè§ä¸‹æ–¹çš„"åˆå¹¶å·²å®Œæˆåˆ†æ”¯æµç¨‹"ï¼‰
```

### åˆå¹¶å·²å®Œæˆåˆ†æ”¯æµç¨‹

**å½“æ£€æŸ¥å‘ç°å·²å®Œæˆworktreeæ—¶æ‰§è¡Œ**ï¼š

```bash
#!/bin/bash
# å¯¹æ¯ä¸ªworktreeæ‰§è¡Œï¼š
for worktree in $(git worktree list | grep -v '\[main\]' | awk '{print $1}'); do
    branch=$(cd $worktree && git branch --show-current)

    # 1. ç¡®è®¤worker CLIå·²æäº¤å¹¶æ¨é€
    (cd $worktree && git status --short)
    # å¦‚æœæœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œåœæ­¢å¹¶è¦æ±‚å…ˆæäº¤

    # 2. æ‹‰å–è¿œç¨‹æœ€æ–°ä»£ç 
    git fetch origin $branch

    # 3. åˆå¹¶åˆ†æ”¯åˆ°main
    git merge origin/$branch --no-edit

    # 4. å¦‚æœ‰å†²çªï¼Œè§£å†³å†²çª
    #    git statusæŸ¥çœ‹å†²çªæ–‡ä»¶
    #    æ‰‹åŠ¨è§£å†³å: git add . && git commit

    # 5. æ¨é€åˆ°è¿œç¨‹
    git push origin main

    # 6. åˆ é™¤worktree
    git worktree remove $worktree

    # 7. åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
    # git push origin --delete $branch
done
```

### ä»»åŠ¡æ–‡æ¡£ä½¿ç”¨è§„åˆ™ â­ **é‡è¦ï¼ˆ2025-12-30æ–°å¢ï¼‰**

**åŸåˆ™**:
- âœ… ä½¿ç”¨ç‹¬ç«‹çš„TASK.mdä»»åŠ¡æ–‡æ¡£ï¼ˆä½äºworktreeæ ¹ç›®å½•ï¼‰
- âœ… å¤šé˜¶æ®µä»»åŠ¡ç”¨TASK-1.md, TASK-2.mdç­‰é€’å¢å‘½å
- âŒ **ç¦æ­¢**ä½¿ç”¨README.mdè®°å½•CLIç‰¹å®šä»»åŠ¡

**ä¸ºä»€ä¹ˆ**:
- README.mdæ˜¯ä¸»ä»“åº“çš„å…±äº«æ–‡æ¡£ï¼Œå¤šä¸ªCLIåŒæ—¶ä¿®æ”¹å¿…ç„¶å¯¼è‡´åˆå¹¶å†²çª
- TASK.mdåœ¨worktreeæ ¹ç›®å½•ï¼Œä¸åˆå¹¶åˆ°ä¸»ä»“åº“ï¼Œé¿å…å†²çª

**æ¨¡æ¿ä½ç½®**: `docs/guides/multi-cli-tasks/TASK_TEMPLATE.md`

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
# 1. åˆ›å»ºworktreeæ—¶ç”ŸæˆTASK.md
git worktree add -b cli-x-feature /opt/claude/mystocks_cli_x
cp docs/guides/multi-cli-tasks/TASK_TEMPLATE.md /opt/claude/mystocks_cli_x/TASK.md

# 2. ç¬¬ä¸€é˜¶æ®µå®Œæˆï¼Œä¸»CLIä¸‹å‘ç¬¬äºŒé˜¶æ®µä»»åŠ¡
cd /opt/claude/mystocks_cli_x
mv TASK.md TASK-1.md  # é‡å‘½åå·²å®Œæˆä»»åŠ¡
cp docs/guides/multi-cli-tasks/TASK_TEMPLATE.md TASK-2.md

# 3. ç»§ç»­åç»­é˜¶æ®µ...
mv TASK-2.md TASK-2-completed.md
cp docs/guides/multi-cli-tasks/TASK_TEMPLATE.md TASK-3.md
```

---

## ğŸ“ Phase 0: å‡†å¤‡é˜¶æ®µå·¥ä½œæ¸…å•

åœ¨å¯åŠ¨ä»»ä½•Worker CLIä¹‹å‰ï¼Œä¸»CLIå¿…é¡»å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š

### 0.1 åˆ›å»ºä»»åŠ¡åˆ†é…æ–‡æ¡£

**è¾“å‡ºæ–‡ä»¶**: `docs/guides/multi-cli-tasks/CLI-N_PHASE_NAME_TASKS.md`

**å¿…é¡»åŒ…å«çš„ç« èŠ‚**:
1. **åŸºæœ¬ä¿¡æ¯**: å·¥ä½œç›®å½•ã€Gitåˆ†æ”¯ã€æŠ€æœ¯æ ˆã€ä»»åŠ¡æ•°é‡ã€é¢„è®¡å·¥æœŸ
2. **æ ¸å¿ƒèŒè´£**: æ˜ç¡®çš„ä»»åŠ¡ç›®æ ‡å’ŒèŒƒå›´
3. **ä¾èµ–å…³ç³»**: è¾“å…¥ä¾èµ–å’Œè¾“å‡ºä¾èµ–
4. **ä»»åŠ¡æ¸…å•**: è¯¦ç»†çš„åˆ†é˜¶æ®µä»»åŠ¡åˆ—è¡¨ï¼ˆè‡³å°‘åŒ…å«ä»»åŠ¡ç¼–å·ã€æè¿°ã€éªŒæ”¶æ ‡å‡†ï¼‰
5. **è¿›åº¦è·Ÿè¸ª**: è¿›åº¦æ›´æ–°ç« èŠ‚æ¨¡æ¿
6. **å·¥ä½œæµç¨‹ä¸Gitæäº¤è§„èŒƒ**: åŒ…å«æ¯æ—¥å·¥ä½œæµç¨‹ã€æäº¤æ¶ˆæ¯æ ¼å¼ã€å®Œæˆæ ‡å‡†æ£€æŸ¥æ¸…å•

**è´¨é‡æ ‡å‡†**:
- âœ… ä»»åŠ¡æè¿°æ¸…æ™°ï¼Œæ— æ­§ä¹‰
- âœ… éªŒæ”¶æ ‡å‡†å¯è¡¡é‡ã€å¯éªŒè¯
- âœ… ä¾èµ–å…³ç³»æ˜ç¡®ï¼Œæ— å¾ªç¯ä¾èµ–
- âœ… å·¥æœŸä¼°ç®—åˆç†ï¼ˆå‚è€ƒç±»ä¼¼ä»»åŠ¡ï¼‰

### 0.2 åˆ›å»ºå·¥ä½œæµç¨‹æŒ‡å—

**è¾“å‡ºæ–‡ä»¶**: `docs/guides/multi-cli-tasks/CLI_WORKFLOW_GUIDE.md`

**å¿…é¡»åŒ…å«çš„ç« èŠ‚**:
1. **ä»»åŠ¡å¯åŠ¨é˜¶æ®µ**: å¦‚ä½•ç¡®è®¤ä»»åŠ¡ç†è§£ã€è®¾ç½®è¿›åº¦è·Ÿè¸ª
2. **å¼€å‘å®ç°é˜¶æ®µ**: å¼€å‘åŸåˆ™ã€TDDå·¥ä½œæµ
3. **è‡ªæµ‹éªŒè¯é˜¶æ®µ**: å¦‚ä½•éªŒè¯éªŒæ”¶æ ‡å‡†
4. **Gitæäº¤é˜¶æ®µ**: æäº¤å‰æ£€æŸ¥æ¸…å•ã€æäº¤é¢‘ç‡å»ºè®®
5. **READMEæ›´æ–°é˜¶æ®µ**: è¿›åº¦æŠ¥å‘Šæ ¼å¼
6. **å®Œæˆç¡®è®¤é˜¶æ®µ**: ä»»åŠ¡å®Œæˆæ ‡å‡†ã€åˆå¹¶æµç¨‹

**è´¨é‡æ ‡å‡†**:
- âœ… æµç¨‹æ¸…æ™°ï¼Œæ­¥éª¤æ˜ç¡®
- âœ… åŒ…å«å…·ä½“ä»£ç ç¤ºä¾‹
- âœ… æä¾›å¸¸è§é—®é¢˜å¤„ç†æŒ‡å—
- âœ… æ€»é•¿åº¦1000+è¡Œï¼Œè¦†ç›–å®Œæ•´å¼€å‘å‘¨æœŸ

### 0.3 åˆ›å»ºç›‘æ§æœºåˆ¶æ–‡æ¡£

**è¾“å‡ºæ–‡ä»¶**: `docs/guides/multi-cli-tasks/PROGRESS_MONITORING_AND_MILESTONES.md`

**å¿…é¡»åŒ…å«çš„ç« èŠ‚**:
1. **ç›‘æ§åŸç†**: éä¾µå…¥å¼ç›‘æ§çš„æ•°æ®æ¥æº
2. **é¢„è­¦æœºåˆ¶**: é»„è‰²é¢„è­¦ï¼ˆ24hï¼‰ã€çº¢è‰²é¢„è­¦ï¼ˆ48hï¼‰
3. **è‡ªåŠ¨åŒ–ç›‘æ§è„šæœ¬**: å®Œæ•´çš„Bashè„šæœ¬å®ç°
4. **é‡Œç¨‹ç¢‘ç®¡ç†**: 8ä¸ªä¸»è¦é‡Œç¨‹ç¢‘çš„å®šä¹‰å’ŒéªŒæ”¶æ ‡å‡†
5. **é£é™©å¤„ç†**: å¦‚ä½•å¤„ç†é˜»å¡é—®é¢˜

**è´¨é‡æ ‡å‡†**:
- âœ… ç›‘æ§è„šæœ¬å¯ç›´æ¥ä½¿ç”¨ï¼ˆæ— å ä½ç¬¦ï¼‰
- âœ… é¢„è­¦é˜ˆå€¼åˆç†ï¼ˆé¿å…é¢‘ç¹è¯¯æŠ¥ï¼‰
- âœ… é‡Œç¨‹ç¢‘å¯è¡¡é‡ã€å¯éªŒè¯
- âœ… é£é™©å¤„ç†æµç¨‹æ˜ç¡®

### 0.4 åˆ›å»ºå®æ–½æ–¹æ¡ˆæ€»è§ˆ

**è¾“å‡ºæ–‡ä»¶**: `openspec/changes/[change-name]/implementation-plan.md`

**å¿…é¡»åŒ…å«çš„ç« èŠ‚**:
1. **Executive Summary**: é¡¹ç›®èƒŒæ™¯ã€ä»·å€¼ä¸»å¼ ã€æ—¶é—´èŠ‚çœ
2. **æ¶æ„å›¾**: CLIä¾èµ–å…³ç³»å’Œæ•°æ®æµå›¾
3. **èµ„æºåˆ†é…**: è¯¦ç»†çš„ä»»åŠ¡åˆ†é…è¡¨æ ¼ï¼ˆCLIåç§°ã€ä»»åŠ¡æ•°ã€äººå¤©ã€ä¼˜å…ˆçº§ï¼‰
4. **Two-Roundæ‰§è¡Œæ¨¡å‹**: Round 1å’ŒRound 2çš„CLIåˆ’åˆ†
5. **äº¤ä»˜æ¸…å•**: æ¯ä¸ªCLIçš„è¯¦ç»†äº¤ä»˜ç‰©å’ŒéªŒæ”¶æ ‡å‡†
6. **é£é™©è¯„ä¼°**: 5å¤§é£é™©å’Œç¼“è§£æªæ–½
7. **æˆåŠŸæŒ‡æ ‡**: æŠ€æœ¯æŒ‡æ ‡å’Œä¸šåŠ¡æŒ‡æ ‡

**è´¨é‡æ ‡å‡†**:
- âœ… é€»è¾‘æ¸…æ™°ï¼Œè¯´æœåŠ›å¼º
- âœ… æ•°æ®å‡†ç¡®ï¼ˆä»»åŠ¡æ•°ã€äººå¤©ã€æ—¶é—´çº¿ï¼‰
- âœ… é£é™©è¯†åˆ«å…¨é¢ï¼Œç¼“è§£æªæ–½å¯è¡Œ
- âœ… æˆåŠŸæŒ‡æ ‡å¯è¡¡é‡

### 0.5 æ–‡ä»¶æ‰€æœ‰æƒå’ŒèŒè´£èŒƒå›´ç¡®è®¤ âš ï¸ **æ–°å¢å…³é”®æ­¥éª¤**

**ç›®çš„**: é˜²æ­¢å¤šä¸ªCLIä¿®æ”¹åŒä¸€æ–‡ä»¶å¯¼è‡´åä½œå†²çª

**è¾“å‡ºæ–‡ä»¶**: `.FILE_OWNERSHIP` (ä¸»ä»“åº“æ ¹ç›®å½•)

**å¿…é¡»å®Œæˆçš„æ­¥éª¤**:

#### **0.5.1 åˆ›å»ºæ–‡ä»¶æ‰€æœ‰æƒæ˜ å°„**
```bash
cd /opt/claude/mystocks_spec

cat > .FILE_OWNERSHIP << 'EOF'
# Git Worktreeæ–‡ä»¶æ‰€æœ‰æƒæ˜ å°„
# æ ¼å¼ï¼šç›®å½•/æ–‡ä»¶æ¨¡å¼: æ‹¥æœ‰è€…CLI | è¯´æ˜

# ========== ä¸»ä»“åº“ï¼ˆä¸»CLIï¼‰==========
src/                               main      | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
config/                            main      | é…ç½®æ–‡ä»¶
scripts/dev/                       main      | å¼€å‘å·¥å…·
pyproject.toml                     main      | é¡¹ç›®é…ç½®
.pre-commit-config.yaml            main      | Pre-commité…ç½®ï¼ˆæ‰€æœ‰CLIç»§æ‰¿ï¼‰
requirements.txt                   main      | Pythonä¾èµ–

# ========== CLI-1: Phase 3å‰ç«¯Kçº¿å›¾ ==========
web/frontend/src/components/Charts/  cli-1     | Kçº¿å›¾ç»„ä»¶
web/frontend/src/api/klineApi.ts     cli-1     | Kçº¿å›¾API
web/frontend/src/api/indicatorApi.ts cli-1     | æŠ€æœ¯æŒ‡æ ‡API

# ========== CLI-2: APIå¥‘çº¦æ ‡å‡†åŒ– ==========
docs/api/contracts/                  cli-2     | APIå¥‘çº¦æ–‡æ¡£
web/backend/app/schemas/            cli-2     | æ•°æ®æ¨¡å¼å®šä¹‰
web/backend/openapi/                 cli-2     | OpenAPIè§„èŒƒ

# ========== CLI-5: GPUç›‘æ§ä»ªè¡¨æ¿ ==========
src/gpu/                            cli-5     | GPUç›¸å…³ä»£ç 
src/gpu_monitoring/                  cli-5     | GPUç›‘æ§æœåŠ¡
scripts/start_gpu_monitoring.sh      cli-5     | GPUç›‘æ§è„šæœ¬

# ========== CLI-6: è´¨é‡ä¿è¯ ==========
tests/                              cli-6     | æµ‹è¯•æ–‡ä»¶
scripts/maintenance/                cli-6     | è´¨é‡ä¿è¯è„šæœ¬
docs/guides/CODE_QUALITY*            cli-6     | è´¨é‡æ ‡å‡†æ–‡æ¡£
docs/guides/TESTING*                 cli-6     | æµ‹è¯•æŒ‡å—æ–‡æ¡£

# ========== å…±äº«æ–‡ä»¶ï¼ˆåè°ƒä¿®æ”¹ï¼‰==========
README.md                           main+clis | ä¸»CLIç»´æŠ¤ï¼ŒCLIå¯å»ºè®®
CLAUDE.md                           main      | ä¸»CLIç»´æŠ¤
CHANGELOG.md                        main      | ä¸»CLIç»´æŠ¤

# ========== è§„åˆ™è¯´æ˜ ==========
# 1. æ‹¥æœ‰è€…CLIå¯ä»¥ä¿®æ”¹å…¶æ‹¥æœ‰çš„æ–‡ä»¶
# 2. å…¶ä»–CLIåªè¯»è¿™äº›æ–‡ä»¶ï¼Œä¿®æ”¹éœ€è¦åè°ƒ
# 3. å…±äº«æ–‡ä»¶éœ€è¦ä¸»CLIåè°ƒä¿®æ”¹
# 4. æœªçŸ¥æ‰€æœ‰æƒçš„æ–‡ä»¶é»˜è®¤å±äºä¸»CLI
EOF

git add .FILE_OWNERSHIP
git commit -m "chore: add file ownership mapping for all CLIs"
```

#### **0.5.2 æ˜ç¡®æ¯ä¸ªCLIçš„èŒè´£èŒƒå›´**
- âœ… ä¸ºæ¯ä¸ªCLIå®šä¹‰æ¸…æ™°çš„èŒè´£èŒƒå›´ï¼ˆå‚è€ƒä¸Šé¢çš„æ‰€æœ‰æƒæ˜ å°„ï¼‰
- âœ… ç¡®ä¿èŒè´£ä¸é‡å ï¼ˆé€šè¿‡ç›®å½•ç»“æ„ç‰©ç†éš”ç¦»ï¼‰
- âœ… è®°å½•åœ¨ä»»åŠ¡åˆ†é…æ–‡æ¡£ä¸­
- âœ… åœ¨CLI READMEä¸­è¯´æ˜èŒè´£è¾¹ç•Œ

#### **0.5.3 è¿è¡Œå†²çªæ£€æµ‹è„šæœ¬**
```bash
# é¦–æ¬¡è¿è¡Œï¼ˆæ£€æµ‹æ½œåœ¨å†²çªï¼‰
bash scripts/maintenance/check_file_conflicts.sh

# è¾“å‡ºç¤ºä¾‹ï¼š
# âœ… æœªå‘ç°æ–‡ä»¶å†²çª
# æˆ–
# âš ï¸  å‘ç°Nä¸ªæ½œåœ¨æ–‡ä»¶å†²çª
#    å»ºè®®ä¸æ–‡ä»¶æ‹¥æœ‰è€…CLIåè°ƒ
```

#### **0.5.4 å»ºç«‹åè°ƒæœºåˆ¶**
- âœ… å®šä¹‰è·¨CLIä¿®æ”¹ç”³è¯·æµç¨‹
- âœ… å»ºç«‹å®šæœŸåŒæ­¥ä¼šè®®æœºåˆ¶ï¼ˆæ¯å¤©ä¸€æ¬¡ï¼‰
- âœ… åˆ›å»ºå†²çªæŠ¥å‘Šæµç¨‹
- âœ… è®°å½•åœ¨ä¸»CLIå·¥ä½œè§„èŒƒä¸­

**è·¨CLIä¿®æ”¹ç”³è¯·æµç¨‹**:
```
Worker CLIéœ€è¦ä¿®æ”¹å…¶ä»–CLIæ‹¥æœ‰çš„æ–‡ä»¶æ—¶ï¼š
1. å‘ä¸»CLIæäº¤ç”³è¯·ï¼ˆåŒ…å«ä¿®æ”¹åŸå› å’Œå†…å®¹ï¼‰
2. ä¸»CLIè¯„ä¼°å½±å“èŒƒå›´
3. ä¸»CLIåè°ƒç›¸å…³CLI
4. ä¸»CLIæ‰§è¡Œä¿®æ”¹æˆ–æˆæƒWorker CLIä¿®æ”¹
5. ä¸»CLIé€šçŸ¥æ‰€æœ‰ç›¸å…³CLI
```

**è´¨é‡æ ‡å‡†**:
- âœ… `.FILE_OWNERSHIP`æ–‡ä»¶å·²åˆ›å»ºå¹¶æäº¤
- âœ… æ¯ä¸ªCLIæœ‰æ¸…æ™°çš„ç›®å½•èŒè´£èŒƒå›´
- âœ… å†²çªæ£€æµ‹è„šæœ¬å·²è¿è¡Œå¹¶è®°å½•ç»“æœ
- âœ… åè°ƒæœºåˆ¶å·²å»ºç«‹å¹¶æ–‡æ¡£åŒ–

**é¢„é˜²æªæ–½**:
1. âœ… **åœ¨åˆ†é…ä»»åŠ¡å‰**: æ›´æ–°`.FILE_OWNERSHIP`æ–‡ä»¶
2. âœ… **åœ¨Worktreeåˆ›å»ºæ—¶**: éªŒè¯CLIä¸“å±å·¥ä½œç›®å½•ä¸ä¾µçŠ¯å…¶ä»–CLI
3. âœ… **åœ¨å¼€å‘è¿‡ç¨‹ä¸­**: å®šæœŸè¿è¡Œå†²çªæ£€æµ‹è„šæœ¬ï¼ˆæ¯å¤©ä¸€æ¬¡ï¼‰

**è¯¦ç»†æ–‡æ¡£**: å‚è§ [Git Worktreeåä½œå†²çªé¢„é˜²è§„èŒƒ](./GIT_WORKTREE_COLLABORATION_CONFLICT_PREVENTION.md)

---

## ğŸš€ Phase 1: Git Worktreeåˆ›å»ºæ ‡å‡†æµç¨‹

### 1.1 åˆ›å»ºWorktree

**æ ‡å‡†å‘½ä»¤**:
```bash
git worktree add /opt/claude/mystocks_<phase>_<name> -b <branch-name>

# ç¤ºä¾‹ï¼š
git worktree add /opt/claude/mystocks_phase3_frontend -b phase3-frontend-optimization
```

**éªŒè¯æ­¥éª¤**:
```bash
git worktree list  # ç¡®è®¤worktreeå·²åˆ›å»º
ls -la /opt/claude/mystocks_phase3_frontend  # ç¡®è®¤ç›®å½•å­˜åœ¨
```

### 1.2 åˆå§‹åŒ–README

**æ­¥éª¤1**: å¤åˆ¶ä»»åŠ¡åˆ†é…æ–‡æ¡£åˆ°README
```bash
cp /opt/claude/mystocks_spec/docs/guides/multi-cli-tasks/CLI-1_PHASE3_TASKS.md \
   /opt/claude/mystocks_phase3_frontend/README.md
```

**æ­¥éª¤2**: é¦–æ¬¡æäº¤åˆ°Git
```bash
cd /opt/claude/mystocks_phase3_frontend
git add README.md
DISABLE_DIR_STRUCTURE_CHECK=1 git commit -m "feat: initialize CLI-1 Phase 3 frontend optimization tasks

- 20 tasks across 4 stages (12-14 working days)
- Enhanced K-line charts with klinecharts 9.6.0
- 161 technical indicators powered by TA-Lib backend
- GPU-accelerated indicator calculation (68.58x speedup)

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
```

**å…³é”®æ³¨æ„**:
- âœ… å¿…é¡»ä½¿ç”¨ `DISABLE_DIR_STRUCTURE_CHECK=1` ç»•è¿‡ç›®å½•ç»“æ„æ£€æŸ¥ï¼ˆworktreeç¯å¢ƒä¸åŒï¼‰
- âœ… æäº¤æ¶ˆæ¯å¿…é¡»æ¸…æ™°æè¿°ä»»åŠ¡èŒƒå›´å’ŒæŠ€æœ¯æ ˆ
- âœ… Co-Authored-By æ ‡è®°æ‰€æœ‰AIè¾…åŠ©ç”Ÿæˆçš„ä»£ç 

### 1.3 ä¿®å¤Hookè„šæœ¬æƒé™ï¼ˆå…³é”®æ­¥éª¤ï¼ï¼‰âš ï¸

**é—®é¢˜**: Git worktreeåˆ›å»ºåï¼Œ`.claude/hooks/` ç›®å½•ä¸‹çš„è„šæœ¬é»˜è®¤æ²¡æœ‰æ‰§è¡Œæƒé™ï¼ˆ644ï¼‰

**ç—‡çŠ¶**:
```
Stop hook error: Failed with non-blocking status code: /bin/sh: 1:
  /opt/claude/mystocks_phase6_api_contract/.claude/hooks/stop-python-quality-gate.sh: Permission denied
```

**ä¿®å¤å‘½ä»¤**:
```bash
# ä¸ºå•ä¸ªCLIä¿®å¤
chmod +x /opt/claude/mystocks_phase3_frontend/.claude/hooks/*.sh

# æ‰¹é‡ä¿®å¤æ‰€æœ‰CLI
for cli in /opt/claude/mystocks_phase3_frontend \
          /opt/claude/mystocks_phase6_api_contract \
          /opt/claude/mystocks_phase6_monitoring \
          /opt/claude/mystocks_phase6_quality; do
  chmod +x "$cli/.claude/hooks/"*.sh
  echo "âœ… $(basename $cli) hooksæƒé™å·²ä¿®å¤"
done
```

**éªŒè¯ä¿®å¤**:
```bash
# æ£€æŸ¥æƒé™
ls -la /opt/claude/mystocks_phase3_frontend/.claude/hooks/ | grep "\.sh"

# é¢„æœŸè¾“å‡ºï¼ˆåº”è¯¥æ˜¯755æƒé™ï¼‰:
# -rwxr-xr-x 1 root root  7702 Dec 29 14:45 post-tool-use-database-schema-validator.sh
# -rwxr-xr-x 1 root root 14581 Dec 29 14:45 post-tool-use-document-organizer.sh
# ...

# éªŒè¯è¯­æ³•
for hook in /opt/claude/mystocks_phase3_frontend/.claude/hooks/*.sh; do
  bash -n "$hook" && echo "âœ… $(basename $hook)"
done
```

**æ ¹å› åˆ†æ**:
- Hookè„šæœ¬åœ¨worktreeåˆå§‹åŒ–æ—¶ä»ä¸»ä»“åº“å¤åˆ¶
- Gitä¸è·Ÿè¸ªæ–‡ä»¶æƒé™ä½ï¼ˆé™¤éæ˜¾å¼ä½¿ç”¨ `git update-index --chmod=+x`ï¼‰
- `.claude` ç›®å½•é€šå¸¸åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤

**é¢„é˜²æªæ–½**:
- âœ… åœ¨Worktreeåˆ›å»ºåç«‹å³æ‰§è¡Œ `chmod +x` ä¿®å¤
- âœ… åœ¨ä¸»CLIå·¥ä½œæµç¨‹ä¸­åˆ—å‡ºæ­¤æ­¥éª¤ä¸ºå¿…éœ€é¡¹
- âœ… åœ¨Worker CLIå¯åŠ¨æ—¶éªŒè¯hookså¯æ‰§è¡Œæ€§

### 1.4 éªŒè¯Gitè¿œç¨‹ä»“åº“åç§° âš ï¸ **å…³é”®æ­¥éª¤**

**é—®é¢˜**: ä¸»ä»“åº“çš„è¿œç¨‹ä»“åº“åç§°å¯èƒ½ä¸æ˜¯Gitæ ‡å‡†çš„ `origin`ï¼Œå¯¼è‡´æ‰€æœ‰æ–‡æ¡£ä¸­çš„ `git push origin` å‘½ä»¤å¤±è´¥

**ç—‡çŠ¶**:
```bash
$ git push origin phase3-frontend-optimization
fatal: 'origin' does not appear to be a git remote
```

**æ£€æŸ¥å‘½ä»¤**:
```bash
# æ£€æŸ¥ä¸»ä»“åº“çš„è¿œç¨‹åç§°
git remote -v

# âŒ å¦‚æœè¾“å‡º:
# mystocks    https://github.com/user/repo.git (fetch)
# mystocks    https://github.com/user/repo.git (push)

# âœ… åº”è¯¥è¾“å‡º:
# origin    https://github.com/user/repo.git (fetch)
# origin    https://github.com/user/repo.git (push)
```

**ä¿®å¤å‘½ä»¤**:
```bash
# ä¿®å¤ä¸»ä»“åº“ï¼ˆæ‰€æœ‰worktreeä¼šè‡ªåŠ¨ç»§æ‰¿ï¼‰
git remote rename mystocks origin

# éªŒè¯ä¿®å¤
git remote -v
# é¢„æœŸè¾“å‡º: origin (è€Œé mystocks)
```

**éªŒè¯ä¿®å¤**:
```bash
# éªŒè¯æ‰€æœ‰worktreeå·²è‡ªåŠ¨ç»§æ‰¿
for cli in /opt/claude/mystocks_phase3_frontend \
          /opt/claude/mystocks_phase6_api_contract \
          /opt/claude/mystocks_phase6_monitoring \
          /opt/claude/mystocks_phase6_quality; do
  echo "## $(basename $cli)"
  cd "$cli" && git remote -v | grep origin && echo "âœ… OK" || echo "âŒ Failed"
  echo ""
done
```

**å®é™…ä¿®å¤æ¡ˆä¾‹**: Commit `0a65718` (2025-12-29 18:29)
- ä¸»ä»“åº“ä» `mystocks` æ”¹ä¸º `origin`
- æ‰€æœ‰4ä¸ªworktreeè‡ªåŠ¨ç»§æ‰¿

**é¢„é˜²æªæ–½**:
- âœ… **åœ¨Phase 1.1åˆ›å»ºworktreeå‰**: ç¡®è®¤ä¸»ä»“åº“ä½¿ç”¨ `origin`
  ```bash
  git remote -v | grep origin || git remote rename <å½“å‰åç§°> origin
  ```

- âœ… **åœ¨Phase 1.4éªŒè¯ä¸­**: æ£€æŸ¥æ‰€æœ‰worktreeçš„è¿œç¨‹é…ç½®
  ```bash
  cd /opt/claude/mystocks_phase3_frontend
  git remote -v | grep origin
  ```

- âœ… **åœ¨æ–‡æ¡£ä¸­**: å§‹ç»ˆä½¿ç”¨æ ‡å‡†çš„ `origin` å‘½ä»¤ç¤ºä¾‹

**è¯¦ç»†æ–‡æ¡£**: å‚è§ [Gitè¿œç¨‹åç§°æ ‡å‡†åŒ–è§„èŒƒ](./GIT_REMOTE_NAME_STANDARD.md)

### 1.5 éªŒè¯Worktreeå®Œæ•´æ€§

**æ£€æŸ¥æ¸…å•**:
```bash
# 1. Worktreeå·²åˆ›å»º
git worktree list | grep phase3-frontend-optimization

# 2. READMEå·²åˆå§‹åŒ–
cat /opt/claude/mystocks_phase3_frontend/README.md | head -20

# 3. Hooksæœ‰æ‰§è¡Œæƒé™
ls -la /opt/claude/mystocks_phase3_frontend/.claude/hooks/ | grep "\.sh" | grep "rwx"

# 4. Gitè¿œç¨‹ä»“åº“åç§°ä¸ºorigin âš ï¸
cd /opt/claude/mystocks_phase3_frontend && git remote -v | grep origin

# 5. æ–‡ä»¶æ‰€æœ‰æƒå·²ç¡®è®¤ âš ï¸ **æ–°å¢**
cat /opt/claude/mystocks_spec/.FILE_OWNERSHIP | grep cli-1

# 6. Pre-commité…ç½®å·²è¯´æ˜ âš ï¸ **æ–°å¢**
grep "Pre-commité…ç½®" /opt/claude/mystocks_phase3_frontend/README.md

# 7. Gitåˆ†æ”¯æ­£ç¡®
cd /opt/claude/mystocks_phase3_frontend && git branch

# 8. é¦–æ¬¡æäº¤å·²å®Œæˆ
cd /opt/claude/mystocks_phase3_frontend && git log --oneline -1
```

**é¢„æœŸç»“æœ**: æ‰€æœ‰8é¡¹æ£€æŸ¥éƒ½âœ…é€šè¿‡

---

## ğŸ“Š Phase 2: ç›‘æ§ç³»ç»Ÿè®¾ç½®

### 2.1 åˆ›å»ºç›‘æ§è„šæœ¬

**æ–‡ä»¶ä½ç½®**: `scripts/monitoring/check_worker_progress.sh`

**å…³é”®ç‰¹æ€§**:
- âœ… éä¾µå…¥å¼ï¼ˆåªè¯»READMEå’ŒGitå†å²ï¼‰
- âœ… è‡ªåŠ¨åŒ–ï¼ˆå¯é…ç½®cronå®šæ—¶æ‰§è¡Œï¼‰
- âœ… é¢„è­¦æœºåˆ¶ï¼ˆé»„/çº¢è‰²é¢„è­¦ï¼‰
- âœ… æŠ¥å‘Šç”Ÿæˆï¼ˆä¿å­˜åˆ° `/tmp/mystocks_progress_*.txt`ï¼‰

**å®Œæ•´å®ç°**: å‚è€ƒå·²åˆ›å»ºçš„ç›‘æ§è„šæœ¬ï¼ˆåŒ…å«400+è¡Œå®Œæ•´å®ç°ï¼‰

### 2.2 è®¾ç½®è‡ªåŠ¨åŒ–ç›‘æ§

**æ‰‹åŠ¨è¿è¡Œ**:
```bash
bash /opt/claude/mystocks_spec/scripts/monitoring/check_worker_progress.sh
```

**è‡ªåŠ¨åŒ–ï¼ˆæ¯2å°æ—¶ï¼‰**:
```bash
(crontab -l 2>/dev/null; echo "0 */2 * * * /opt/claude/mystocks_spec/scripts/monitoring/check_worker_progress.sh >> /tmp/mystocks_progress.log 2>&1") | crontab -
```

**éªŒè¯crontab**:
```bash
crontab -l | grep check_worker
```

### 2.3 ç›‘æ§æŠ¥å‘Šè§£è¯»

**æŠ¥å‘Šæ–‡ä»¶**: `/tmp/mystocks_progress_YYYYMMDD_HHMMSS.txt`

**å…³é”®æŒ‡æ ‡**:
- Active CLIs (< 24h): READMEæ›´æ–°æ—¶é—´åœ¨24å°æ—¶å†…
- Warning CLIs (24-48h): READMEè¶…è¿‡24å°æ—¶æœªæ›´æ–°
- Alert CLIs (> 48h): READMEè¶…è¿‡48å°æ—¶æœªæ›´æ–°

**å“åº”ç­–ç•¥**:
- ğŸŸ¢ æ­£å¸¸: æ— éœ€å¹²é¢„
- ğŸŸ¡ é¢„è­¦: åœ¨READMEä¸­è®°å½•ï¼Œä¸»CLIå…³æ³¨
- ğŸ”´ å‘Šè­¦: ä¸»CLIä¸»åŠ¨è”ç³»Worker CLIäº†è§£é˜»å¡åŸå› 

---

## ğŸ“š Phase 3: æ–‡æ¡£ç»„ç»‡è§„èŒƒ

### 3.1 æ–‡ä»¶ç»„ç»‡æ ‡å‡†

**ä¸»ä»“åº“æ–‡æ¡£ç»“æ„**:
```
mystocks_spec/
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ guides/
â”‚       â””â”€â”€ multi-cli-tasks/        # æ‰€æœ‰CLIç›¸å…³æ–‡æ¡£é›†ä¸­å­˜æ”¾
â”‚           â”œâ”€â”€ CLI-1_PHASE3_TASKS.md
â”‚           â”œâ”€â”€ CLI-2_API_CONTRACT_TASKS.md
â”‚           â”œâ”€â”€ CLI-3_PHASE4_COMPLETE_TASKS.md
â”‚           â”œâ”€â”€ CLI-4_PHASE5_AI_SCREENING_TASKS.md
â”‚           â”œâ”€â”€ CLI-5_PHASE6_GPU_MONITORING_TASKS.md
â”‚           â”œâ”€â”€ CLI-6_QUALITY_ASSURANCE_TASKS.md
â”‚           â”œâ”€â”€ PROGRESS_MONITORING_AND_MILESTONES.md
â”‚           â”œâ”€â”€ CLI_WORKFLOW_GUIDE.md
â”‚           â””â”€â”€ MAIN_CLI_WORKFLOW_STANDARDS.md  # æœ¬æ–‡æ¡£
â”œâ”€â”€ openspec/
â”‚   â””â”€â”€ changes/
â”‚       â””â”€â”€ frontend-optimization-six-phase/
â”‚           â””â”€â”€ implementation-plan.md
â””â”€â”€ scripts/
    â””â”€â”€ monitoring/
        â””â”€â”€ check_worker_progress.sh
```

**å‘½åè§„èŒƒ**:
- ä»»åŠ¡åˆ†é…æ–‡æ¡£: `CLI-N_PHASE_NAME_TASKS.md`
- æµç¨‹æŒ‡å—æ–‡æ¡£: `*_WORKFLOW_GUIDE.md`
- ç›‘æ§ç›¸å…³æ–‡æ¡£: `PROGRESS_MONITORING_AND_MILESTONES.md`
- å·¥ä½œè§„èŒƒæ–‡æ¡£: `MAIN_CLI_WORKFLOW_STANDARDS.md`

### 3.2 READMEç« èŠ‚æ ‡å‡†

**æ‰€æœ‰CLIçš„READMEå¿…é¡»åŒ…å«ä»¥ä¸‹ç« èŠ‚**:

1. **åŸºæœ¬ä¿¡æ¯**: å·¥ä½œç›®å½•ã€Gitåˆ†æ”¯ã€æŠ€æœ¯æ ˆã€ä»»åŠ¡æ•°é‡ã€é¢„è®¡å·¥æœŸ
2. **æ ¸å¿ƒèŒè´£**: æ˜ç¡®çš„ä»»åŠ¡ç›®æ ‡å’ŒèŒƒå›´
3. **ä¾èµ–å…³ç³»**: è¾“å…¥ä¾èµ–å’Œè¾“å‡ºä¾èµ–
4. **ä»»åŠ¡æ¸…å•**: è¯¦ç»†çš„åˆ†é˜¶æ®µä»»åŠ¡åˆ—è¡¨
5. **æ€»ä½“éªŒæ”¶æ ‡å‡†**: åŠŸèƒ½å®Œæ•´æ€§ã€æ€§èƒ½æŒ‡æ ‡ã€æµ‹è¯•è¦†ç›–ã€æ–‡æ¡£å®Œæ•´æ€§
6. **è¿›åº¦è·Ÿè¸ª**: ä»»åŠ¡è¿›åº¦ç»Ÿè®¡å’Œæ›´æ–°æ—¥å¿—
7. **å·¥ä½œæµç¨‹ä¸Gitæäº¤è§„èŒƒ**:
   - ğŸ“š å®Œæ•´å·¥ä½œæµç¨‹æŒ‡å—é“¾æ¥
   - âš¡ å¿«é€Ÿå‚è€ƒï¼ˆæ¯æ—¥å·¥ä½œæµç¨‹ã€æäº¤æ¶ˆæ¯æ ¼å¼ã€å®Œæˆæ ‡å‡†ã€è¿›åº¦æ›´æ–°æ ¼å¼ï¼‰
   - ğŸ¯ å…³é”®æ³¨æ„äº‹é¡¹
   - ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿï¼ˆæ–‡æ¡£é“¾æ¥ï¼‰

**ç¦æ­¢**:
- âŒ READMEä¸­æ²¡æœ‰"å·¥ä½œæµç¨‹ä¸Gitæäº¤è§„èŒƒ"ç« èŠ‚
- âŒ æ²¡æœ‰è¿›åº¦æ›´æ–°æ ¼å¼æ¨¡æ¿
- âŒ æ²¡æœ‰Gitæäº¤æ¶ˆæ¯è§„èŒƒå’Œç¤ºä¾‹

---

## âœ… Phase 4: éªŒæ”¶ä¸äº¤ä»˜æ ‡å‡†

### 4.1 Worktreeå°±ç»ªæ£€æŸ¥æ¸…å•

ä¸»CLIåœ¨å¯åŠ¨Worker CLIå‰å¿…é¡»ç¡®è®¤:

- [ ] ä»»åŠ¡åˆ†é…æ–‡æ¡£å·²åˆ›å»ºå¹¶å®¡æŸ¥é€šè¿‡
- [ ] **æ–‡ä»¶æ‰€æœ‰æƒæ˜ å°„å·²åˆ›å»ºï¼ˆ.FILE_OWNERSHIPï¼‰** âš ï¸ **æ–°å¢**
- [ ] Git worktreeå·²åˆ›å»ºå¹¶éªŒè¯
- [ ] **Gitè¿œç¨‹ä»“åº“åç§°ä¸º `origin`**
- [ ] README.mdå·²åˆå§‹åŒ–å¹¶åŒ…å«æ‰€æœ‰å¿…éœ€ç« èŠ‚
- [ ] å·¥ä½œæµç¨‹æŒ‡å—å·²åˆ›å»ºå¹¶é“¾æ¥åœ¨READMEä¸­
- [ ] Hookè„šæœ¬æƒé™å·²ä¿®å¤ï¼ˆ755ï¼‰
- [ ] Hookè„šæœ¬è¯­æ³•å·²éªŒè¯ï¼ˆbash -nï¼‰
- [ ] **Pre-commité…ç½®å·²è¯´æ˜ï¼ˆç»§æ‰¿ä¸»ä»“åº“ï¼Œä¸ä¿®æ”¹ï¼‰** âš ï¸ **æ–°å¢**
- [ ] ç›‘æ§è„šæœ¬å·²åˆ›å»ºå¹¶å¯è¿è¡Œ
- [ ] **å†²çªæ£€æµ‹è„šæœ¬å·²åˆ›å»ºå¹¶æµ‹è¯•è¿è¡Œ** âš ï¸ **æ–°å¢**
- [ ] å®æ–½æ–¹æ¡ˆæ–‡æ¡£å·²åˆ›å»ºå¹¶è·å¾—æ‰¹å‡†

### 4.2 Roundå¯åŠ¨æ£€æŸ¥æ¸…å•

**Round 1å¯åŠ¨å‰** (CLI-1, CLI-2, CLI-5, CLI-6):
- [ ] ä¸»CLIå·²å®ŒæˆPhase 0-4æ‰€æœ‰å‡†å¤‡æ­¥éª¤
- [ ] **æ–‡ä»¶æ‰€æœ‰æƒæ˜ å°„å·²åˆ›å»ºå¹¶éªŒè¯** âš ï¸ **æ–°å¢**
- [ ] 4ä¸ªworktreeå·²åˆ›å»ºå¹¶éªŒè¯
- [ ] 4ä¸ªworktreeçš„è¿œç¨‹ä»“åº“åç§°ä¸º `origin`
- [ ] 4ä¸ªREADMEå·²åˆå§‹åŒ–å¹¶åŒ…å«å·¥ä½œæµç¨‹è§„èŒƒ
- [ ] 4ä¸ªhooksæƒé™å·²ä¿®å¤å¹¶éªŒè¯
- [ ] **4ä¸ªPre-commité…ç½®å·²è¯´æ˜** âš ï¸ **æ–°å¢**
- [ ] **å†²çªæ£€æµ‹è„šæœ¬å·²è¿è¡Œå¹¶è®°å½•ç»“æœ** âš ï¸ **æ–°å¢**
- [ ] ç›‘æ§è„šæœ¬å·²æµ‹è¯•è¿è¡ŒæˆåŠŸ
- [ ] å®æ–½æ–¹æ¡ˆæ–‡æ¡£å·²è·å¾—é¡¹ç›®ç»„æ‰¹å‡†

**Round 2å¯åŠ¨å‰** (CLI-3, CLI-4):
- [ ] Round 1æ‰€æœ‰CLIå·²å®Œæˆâ‰¥80%ä»»åŠ¡
- [ ] CLI-2ï¼ˆAPIå¥‘çº¦ï¼‰å·²100%å®Œæˆ
- [ ] **æ–‡ä»¶æ‰€æœ‰æƒæ˜ å°„å·²æ›´æ–°ï¼ˆåŒ…å«CLI-3, CLI-4ï¼‰** âš ï¸ **æ–°å¢**
- [ ] 2ä¸ªworktreeå·²åˆ›å»ºå¹¶éªŒè¯
- [ ] 2ä¸ªworktreeçš„è¿œç¨‹ä»“åº“åç§°ä¸º `origin`
- [ ] 2ä¸ªREADMEå·²åˆå§‹åŒ–å¹¶åŒ…å«å·¥ä½œæµç¨‹è§„èŒƒ
- [ ] 2ä¸ªhooksæƒé™å·²ä¿®å¤å¹¶éªŒè¯
- [ ] **2ä¸ªPre-commité…ç½®å·²è¯´æ˜** âš ï¸ **æ–°å¢**
- [ ] ä¾èµ–éªŒè¯é€šè¿‡ï¼ˆCLI-3å¯è°ƒç”¨CLI-2çš„APIï¼‰

### 4.3 CLIå®ŒæˆéªŒæ”¶æ ‡å‡†

**å•ä¸ªCLIå®Œæˆæ ‡å‡†**:
- [ ] æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆï¼ˆ100%ï¼‰
- [ ] æ‰€æœ‰éªŒæ”¶æ ‡å‡†å·²é€šè¿‡ï¼ˆ100%ï¼‰
- [ ] ä»£ç å·²æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ï¼ˆåç«¯>80%, å‰ç«¯>70%ï¼‰
- [ ] ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡ï¼ˆPylint>8.0, æ— é«˜å±æ¼æ´ï¼‰
- [ ] READMEä¸­è®°å½•äº†å®Œæ•´çš„è¿›åº¦æ›´æ–°å†å²
- [ ] å®ŒæˆæŠ¥å‘Šå·²ç”Ÿæˆï¼ˆå¦‚éœ€è¦ï¼‰

**Roundå®Œæˆæ ‡å‡†**:
- [ ] Roundå†…æ‰€æœ‰CLIå·²å®Œæˆï¼ˆ100%ï¼‰
- [ ] é›†æˆæµ‹è¯•å·²é€šè¿‡
- [ ] ä¸»CLIå·²éªŒæ”¶æ‰€æœ‰äº¤ä»˜ç‰©
- [ ] æ‰€æœ‰åˆ†æ”¯å·²åˆå¹¶åˆ°mainï¼ˆæˆ–å‡†å¤‡åˆå¹¶ï¼‰

---

## ğŸ”§ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: Hookè„šæœ¬æƒé™é”™è¯¯

**ç—‡çŠ¶**: `Permission denied` é”™è¯¯åœ¨ `stop-python-quality-gate.sh` æˆ– `user-prompt-submit-skill-activation.sh`

**æ ¹å› **: Hookè„šæœ¬åœ¨worktreeåˆ›å»ºæ—¶æ²¡æœ‰æ‰§è¡Œæƒé™ï¼ˆ644è€Œé755ï¼‰

**è§£å†³æ–¹æ¡ˆ**:
```bash
chmod +x /opt/claude/mystocks_<phase>_<name>/.claude/hooks/*.sh

# éªŒè¯
ls -la /opt/claude/mystocks_<phase>_<name>/.claude/hooks/ | grep "\.sh"
```

**é¢„é˜²**: åœ¨æ‰€æœ‰Worktreeåˆ›å»ºæµç¨‹ä¸­åŠ å…¥æ­¤æ­¥éª¤ä¸ºå¿…éœ€é¡¹

### é—®é¢˜2: READMEä¸­æ²¡æœ‰å·¥ä½œæµç¨‹è§„èŒƒ

**ç—‡çŠ¶**: Worker CLIä¸çŸ¥é“å¦‚ä½•æäº¤ä»£ç ã€æ›´æ–°è¿›åº¦

**æ ¹å› **: READMEåªåŒ…å«ä»»åŠ¡æ¸…å•ï¼Œç¼ºå°‘å·¥ä½œæµç¨‹ç« èŠ‚

**è§£å†³æ–¹æ¡ˆ**:
1. åœ¨ä¸»ä»“åº“åˆ›å»ºé€šç”¨å·¥ä½œæµç¨‹æŒ‡å—ï¼ˆ`CLI_WORKFLOW_GUIDE.md`ï¼‰
2. åœ¨æ¯ä¸ªCLIçš„READMEä¸­æ·»åŠ "å·¥ä½œæµç¨‹ä¸Gitæäº¤è§„èŒƒ"ç« èŠ‚
3. åŒ…å«å¿«é€Ÿå‚è€ƒå’Œå®Œæ•´æŒ‡å—é“¾æ¥

**é¢„é˜²**: åœ¨Worktreeåˆå§‹åŒ–æ£€æŸ¥æ¸…å•ä¸­åŠ å…¥READMEç« èŠ‚éªŒè¯

### é—®é¢˜3: ç›‘æ§è„šæœ¬æ£€æµ‹ä¸åˆ°è¿›åº¦

**ç—‡çŠ¶**: æ‰€æœ‰CLIæ˜¾ç¤º"å°šæœªå¼€å§‹è®°å½•è¿›åº¦"

**æ ¹å› **: Worker CLIæ²¡æœ‰åœ¨READMEä¸­æ·»åŠ "è¿›åº¦æ›´æ–°"ç« èŠ‚

**è§£å†³æ–¹æ¡ˆ**:
1. åœ¨READMEä¸­æä¾›è¿›åº¦æ›´æ–°æ¨¡æ¿
2. åœ¨å·¥ä½œæµç¨‹æŒ‡å—ä¸­æ˜ç¡®è¦æ±‚æ·»åŠ "è¿›åº¦æ›´æ–°"ç« èŠ‚
3. ç›‘æ§è„šæœ¬ä¼˜å…ˆæ£€æµ‹"è¿›åº¦æ›´æ–°"ç« èŠ‚çš„å­˜åœ¨

**é¢„é˜²**: åœ¨Worker CLIå¯åŠ¨æŒ‡å—ä¸­å¼ºè°ƒæ·»åŠ è¿›åº¦æ›´æ–°ç« èŠ‚

### é—®é¢˜4: Gitæäº¤è¢«pre-commit hooké˜»æ­¢

**ç—‡çŠ¶**: æäº¤æ—¶æŠ¥å‘Š"é¡¹ç›®æ ¹ç›®å½•ä¸å­˜åœ¨: --quiet"

**æ ¹å› **: Worktreeç¯å¢ƒä¸ä¸»ä»“åº“ä¸åŒï¼Œ`scripts/maintenance/check-structure.sh` ä¸å­˜åœ¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
DISABLE_DIR_STRUCTURE_CHECK=1 git commit -m "message"
```

**é¢„é˜²**: åœ¨æ‰€æœ‰æäº¤ç¤ºä¾‹ä¸­ä½¿ç”¨æ­¤ç¯å¢ƒå˜é‡

### é—®é¢˜5: Worker CLIè¿›åº¦åœæ»

**ç—‡çŠ¶**: ç›‘æ§æ˜¾ç¤ºé»„è‰²æˆ–çº¢è‰²é¢„è­¦

**æ ¹å› **: Worker CLIé‡åˆ°é˜»å¡é—®é¢˜æœªæŠ¥å‘Šï¼Œæˆ–å¿˜è®°æ›´æ–°README

**è§£å†³æ–¹æ¡ˆ**:
1. ä¸»CLIä¸»åŠ¨è”ç³»Worker CLIäº†è§£æƒ…å†µ
2. åœ¨READMEä¸­è®°å½•é˜»å¡é—®é¢˜
3. è°ƒæ•´ä»»åŠ¡ä¼˜å…ˆçº§æˆ–æä¾›å¸®åŠ©

**é¢„é˜²**: ç›‘æ§è„šæœ¬æ¯2å°æ—¶è‡ªåŠ¨è¿è¡Œï¼Œä¸»CLIæ¯å¤©æ£€æŸ¥æŠ¥å‘Š

### é—®é¢˜6: Gitè¿œç¨‹åç§°éæ ‡å‡† âš ï¸ **é«˜é¢‘é—®é¢˜**

**ç—‡çŠ¶**: Worker CLIæ‰§è¡Œ `git push origin` å¤±è´¥
```bash
$ git push origin phase3-frontend-optimization
fatal: 'origin' does not appear to be a git remote
```

**æ ¹å› **: ä¸»ä»“åº“çš„è¿œç¨‹ä»“åº“åç§°ä¸º `mystocks` è€Œä¸æ˜¯Gitæ ‡å‡†çš„ `origin`
```bash
$ git remote -v
mystocks    https://github.com/user/repo.git (fetch)
mystocks    https://github.com/user/repo.git (push)
```

**å½±å“**:
- âŒ æ‰€æœ‰æ–‡æ¡£ä¸­çš„ `git push origin` å‘½ä»¤å¤±è´¥
- âŒ æ‰€æœ‰æ–‡æ¡£ä¸­çš„ `git pull origin` å‘½ä»¤å¤±è´¥
- âŒ Worker CLIæ— æ³•æŒ‰æ–‡æ¡£æ¨é€ä»£ç 
- âŒ è¿åGitæ ‡å‡†å‘½åçº¦å®š

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ä¿®å¤ä¸»ä»“åº“ï¼ˆæ‰€æœ‰worktreeä¼šè‡ªåŠ¨ç»§æ‰¿ï¼‰
cd /opt/claude/mystocks_spec
git remote rename mystocks origin

# 2. éªŒè¯ä¿®å¤
git remote -v
# é¢„æœŸè¾“å‡º:
# origin    https://github.com/user/repo.git (fetch)
# origin    https://github.com/user/repo.git (push)

# 3. éªŒè¯æ‰€æœ‰worktreeå·²è‡ªåŠ¨æ›´æ–°
cd /opt/claude/mystocks_phase3_frontend
git remote -v
# é¢„æœŸè¾“å‡º: origin (å·²è‡ªåŠ¨ç»§æ‰¿)
```

**å®é™…ä¿®å¤æ¡ˆä¾‹**: Commit `0a65718` (2025-12-29 18:29)
- âœ… ä¸»ä»“åº“: `mystocks` â†’ `origin`
- âœ… CLI-1: `mystocks` â†’ `origin` (è‡ªåŠ¨ç»§æ‰¿)
- âœ… CLI-2: `mystocks` â†’ `origin` (è‡ªåŠ¨ç»§æ‰¿)
- âœ… CLI-5: `mystocks` â†’ `origin` (è‡ªåŠ¨ç»§æ‰¿)
- âœ… CLI-6: `mystocks` â†’ `origin` (è‡ªåŠ¨ç»§æ‰¿)

**é¢„é˜²æªæ–½**:
1. âœ… **åœ¨Phase 1åˆå§‹åŒ–æ—¶**: ç¡®è®¤ä¸»ä»“åº“ä½¿ç”¨ `origin`
   ```bash
   # åˆ›å»ºworktreeå‰æ£€æŸ¥
   git remote -v | grep origin
   ```

2. âœ… **åœ¨worktreeåˆ›å»ºå**: éªŒè¯è¿œç¨‹é…ç½®å·²è‡ªåŠ¨ç»§æ‰¿
   ```bash
   # éªŒè¯worktreeè¿œç¨‹é…ç½®
   cd /opt/claude/mystocks_<phase>_<name>
   git remote -v | grep origin
   ```

3. âœ… **åœ¨æ–‡æ¡£ä¸­**: å§‹ç»ˆä½¿ç”¨æ ‡å‡†çš„ `origin` å‘½ä»¤
   ```bash
   # âœ… æ­£ç¡®: æ–‡æ¡£ç¤ºä¾‹
   git push origin <branch-name>
   git pull origin <branch-name>

   # âŒ é”™è¯¯: é¿å…è‡ªå®šä¹‰åç§°
   git push mystocks <branch-name>
   ```

**è¯¦ç»†æ–‡æ¡£**: å‚è§ [Gitè¿œç¨‹åç§°æ ‡å‡†åŒ–è§„èŒƒ](./GIT_REMOTE_NAME_STANDARD.md)

### é—®é¢˜7: å¤šCLIä¿®æ”¹åŒä¸€æ–‡ä»¶äº§ç”Ÿå†²çª âš ï¸ **æ–°å¢**

**ç—‡çŠ¶**: Gitåˆå¹¶æ—¶äº§ç”Ÿ"Both modified"å†²çª

**åœºæ™¯ç¤ºä¾‹**:
```
æ—¶é—´çº¿ï¼š
Day 1 10:00 - CLI-1ä¿®æ”¹äº†web/frontend/src/components/Chart.vue
Day 1 14:00 - CLI-6ä¹Ÿåœ¨ä»£ç è´¨é‡æ£€æŸ¥ä¸­ä¿®æ”¹äº†åŒä¸€æ–‡ä»¶
Day 2 10:00 - åˆå¹¶æ—¶äº§ç”Ÿå†²çªï¼šBoth modified
```

**æ ¹å› **:
- æ–‡ä»¶æ‰€æœ‰æƒä¸æ˜ç¡®
- èŒè´£èŒƒå›´é‡å 
- ç¼ºå°‘åè°ƒæœºåˆ¶

**é¢„é˜²** âš ï¸ **å…³é”®**:
1. âœ… åˆ›å»ºæ–‡ä»¶æ‰€æœ‰æƒæ˜ å°„(`.FILE_OWNERSHIP`)
2. âœ… æ˜ç¡®æ¯ä¸ªCLIçš„èŒè´£èŒƒå›´ï¼ˆç›®å½•ç‰©ç†éš”ç¦»ï¼‰
3. âœ… ä½¿ç”¨ç›®å½•ç»“æ„ç‰©ç†éš”ç¦»ï¼ˆå‚è€ƒ0.5ç« èŠ‚ï¼‰
4. âœ… è¿è¡Œå†²çªæ£€æµ‹è„šæœ¬ï¼š`bash scripts/maintenance/check_file_conflicts.sh`

**è§£å†³**:
```bash
# 1. æŸ¥çœ‹æ–‡ä»¶æ‰€æœ‰æƒ
cat /opt/claude/mystocks_spec/.FILE_OWNERSHIP | grep <æ–‡ä»¶è·¯å¾„>

# ç¤ºä¾‹ï¼š
# web/frontend/src/components/Chart.vue: cli-1

# 2. ä¸æ–‡ä»¶æ‹¥æœ‰è€…CLIåè°ƒ
# æ–¹å¼1: å‘ä¸»CLIç”³è¯·ä¿®æ”¹æƒé™
# æ–¹å¼2: ç”±æ‹¥æœ‰è€…CLIæ‰§è¡Œä¿®æ”¹

# 3. è§£å†³å†²çªåé‡æ–°æäº¤
git add <æ–‡ä»¶è·¯å¾„>
git commit -m "chore: resolve merge conflict"
```

**å®Œæ•´è§£å†³æ–¹æ¡ˆ**:
å‚è§ [Git Worktreeåä½œå†²çªé¢„é˜²è§„èŒƒ](./GIT_WORKTREE_COLLABORATION_CONFLICT_PREVENTION.md)

**å®é™…æ¡ˆä¾‹**:
- é¦–æ¬¡è¿è¡Œå†²çªæ£€æµ‹è„šæœ¬ï¼ˆ2025-12-29ï¼‰ï¼š
  - âœ… CLI-6: æ— å†²çª
  - âš ï¸ CLI-2: 1ä¸ªæ½œåœ¨å†²çªï¼ˆ`web/backend/app/main.py`ï¼Œå±äºmainï¼‰
  - âš ï¸ CLI-5: 3ä¸ªæ½œåœ¨å†²çªï¼ˆ`monitoring/prometheus.yml`ç­‰ï¼Œå±äºmainï¼‰
- è¿™äº›å†²çªæ˜¯å†å²é—ç•™é—®é¢˜ï¼ˆæ¡†æ¶åˆ›å»ºå‰ï¼‰ï¼Œæœªæ¥å¯é¿å…

**é¢„é˜²æªæ–½**:
1. âœ… **åœ¨Phase 0.5**: åˆ›å»ºæ–‡ä»¶æ‰€æœ‰æƒæ˜ å°„
2. âœ… **åœ¨Phase 1.3**: ç¡®è®¤æ–‡ä»¶æ‰€æœ‰æƒå·²æ˜ç¡®
3. âœ… **åœ¨å¼€å‘è¿‡ç¨‹ä¸­**: å®šæœŸè¿è¡Œå†²çªæ£€æµ‹è„šæœ¬
4. âœ… **åœ¨è·¨CLIä¿®æ”¹æ—¶**: éµå¾ªåè°ƒæœºåˆ¶æµç¨‹

---

## ğŸ“– æœ€ä½³å®è·µæ€»ç»“

### Do'sï¼ˆåº”è¯¥åšçš„ï¼‰

1. âœ… **å®Œæ•´å‡†å¤‡**: åœ¨å¯åŠ¨ä»»ä½•Worker CLIå‰ï¼Œå®Œæˆæ‰€æœ‰å‡†å¤‡é˜¶æ®µå·¥ä½œï¼ˆPhase 0-4ï¼‰
2. âœ… **æ–‡æ¡£é©±åŠ¨**: æ‰€æœ‰æµç¨‹ã€è§„èŒƒã€æ ‡å‡†éƒ½æœ‰æ–‡æ¡£è®°å½•ï¼Œå¹¶åœ¨READMEä¸­é“¾æ¥
3. âœ… **æ ‡å‡†åŒ–**: æ‰€æœ‰CLIä½¿ç”¨ç›¸åŒçš„æ–‡æ¡£æ ¼å¼ã€å·¥ä½œæµç¨‹ã€æäº¤è§„èŒƒ
4. âœ… **éä¾µå…¥å¼**: ç›‘æ§é€šè¿‡READMEæ›´æ–°å’ŒGitå†å²ï¼Œä¸ä¸»åŠ¨å¹²é¢„Worker CLI
5. âœ… **åŠæ—¶å“åº”**: é‡åˆ°é¢„è­¦ï¼ˆé»„/çº¢ï¼‰ç«‹å³è”ç³»Worker CLIäº†è§£æƒ…å†µ
6. âœ… **éªŒè¯ä¼˜å…ˆ**: Worktreeåˆ›å»ºåç«‹å³éªŒè¯hooksæƒé™ã€READMEå®Œæ•´æ€§
7. âœ… **å·¥å…·è‡ªåŠ¨åŒ–**: ä½¿ç”¨ç›‘æ§è„šæœ¬è‡ªåŠ¨åŒ–è¿›åº¦æ£€æŸ¥ï¼Œå‡å°‘äººå·¥å¹²é¢„

### Don'tsï¼ˆä¸åº”è¯¥åšçš„ï¼‰

1. âŒ **ä¸å®Œæ•´å¯åŠ¨**: åªåˆ›å»ºworktreeå’Œå¤åˆ¶ä»»åŠ¡æ–‡æ¡£ï¼Œå¿½ç•¥å·¥ä½œæµç¨‹å’Œhooks
2. âŒ **ä¾µå…¥å¼ç®¡ç†**: ç›´æ¥ä¿®æ”¹Worker CLIçš„ä»£ç æˆ–æ–‡ä»¶ï¼Œé™¤éè¢«è¯·æ±‚
3. âŒ **å¿½è§†æƒé™**: å¿˜è®°ä¿®å¤hookè„šæœ¬æƒé™ï¼Œå¯¼è‡´Worker CLIæ— æ³•æ­£å¸¸å·¥ä½œ
4. âŒ **æ–‡æ¡£ç¼ºå¤±**: READMEä¸­æ²¡æœ‰å·¥ä½œæµç¨‹ã€Gitæäº¤è§„èŒƒã€è¿›åº¦æ›´æ–°æ ¼å¼
5. âŒ **ç¼ºå°‘ç›‘æ§**: æ²¡æœ‰è®¾ç½®è‡ªåŠ¨åŒ–ç›‘æ§ï¼Œæ— æ³•åŠæ—¶å‘ç°åœæ»æˆ–é˜»å¡
6. âŒ **ä¸éªŒæ”¶äº¤ä»˜**: Worker CLIå£°ç§°å®Œæˆä½†ä¸»CLIæœªéªŒæ”¶å°±åˆå¹¶åˆ°main
7. âŒ **é‡å¤é€ è½®**: æ¯æ¬¡é¡¹ç›®éƒ½é‡æ–°è®¾è®¡æµç¨‹ï¼Œè€Œä¸æ˜¯å¤ç”¨å·²éªŒè¯çš„æ¨¡æ¿

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒæ£€æŸ¥æ¸…å•

### ä¸»CLIå‡†å¤‡é˜¶æ®µï¼ˆå¯åŠ¨Worker CLIå‰ï¼‰

```
Phase 0: æ–‡æ¡£å‡†å¤‡
  [ ] ä»»åŠ¡åˆ†é…æ–‡æ¡£ (CLI-N_PHASE_NAME_TASKS.md)
  [ ] å·¥ä½œæµç¨‹æŒ‡å— (CLI_WORKFLOW_GUIDE.md)
  [ ] ç›‘æ§æœºåˆ¶æ–‡æ¡£ (PROGRESS_MONITORING_AND_MILESTONES.md)
  [ ] å®æ–½æ–¹æ¡ˆæ–‡æ¡£ (implementation-plan.md)

Phase 1: Worktreeåˆ›å»º
  [ ] Git worktreeå·²åˆ›å»º
  [ ] README.mdå·²åˆå§‹åŒ–
  [ ] Hooksæƒé™å·²ä¿®å¤ (chmod +x)
  [ ] Hooksè¯­æ³•å·²éªŒè¯ (bash -n)
  [ ] é¦–æ¬¡æäº¤å·²å®Œæˆ

Phase 2: ç›‘æ§è®¾ç½®
  [ ] ç›‘æ§è„šæœ¬å·²åˆ›å»º
  [ ] ç›‘æ§è„šæœ¬å·²æµ‹è¯•è¿è¡Œ
  [ ] è‡ªåŠ¨åŒ–ç›‘æ§å·²è®¾ç½® (crontab)

Phase 3: éªŒè¯
  [ ] æ‰€æœ‰æ£€æŸ¥é¡¹é€šè¿‡
  [ ] å‡†å¤‡å¯åŠ¨Worker CLI
```

### Worker CLIå¯åŠ¨æ£€æŸ¥ï¼ˆ30ç§’å¿«é€ŸéªŒè¯ï¼‰

```bash
# 1. Worktreeå­˜åœ¨
git worktree list | grep <branch-name>

# 2. READMEå®Œæ•´
grep "å·¥ä½œæµç¨‹ä¸Gitæäº¤è§„èŒƒ" /opt/claude/mystocks_*/README.md

# 3. Hookså¯æ‰§è¡Œ
ls -la /opt/claude/mystocks_*/.claude/hooks/*.sh | grep "rwx"

# 4. ç›‘æ§å¯è¿è¡Œ
bash /opt/claude/mystocks_spec/scripts/monitoring/check_worker_progress.sh
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£ç´¢å¼•

**æµç¨‹æ–‡æ¡£**:
- [Worker CLIå·¥ä½œæµç¨‹æŒ‡å—](./CLI_WORKFLOW_GUIDE.md) - Worker CLIå¿…è¯»
- [è¿›åº¦ç›‘æ§ä¸é‡Œç¨‹ç¢‘](./PROGRESS_MONITORING_AND_MILESTONES.md) - ç›‘æ§æœºåˆ¶
- [Git Worktreeæ‰‹å†Œ](../GIT_WORKTREE_MAIN_CLI_MANUAL.md) - Git worktreeå‘½ä»¤

**ä»»åŠ¡åˆ†é…æ–‡æ¡£**:
- [CLI-1: Phase 3å‰ç«¯Kçº¿å›¾ä¼˜åŒ–](./CLI-1_PHASE3_TASKS.md)
- [CLI-2: APIå¥‘çº¦æ ‡å‡†åŒ–](./CLI-2_API_CONTRACT_TASKS.md)
- [CLI-3: Phase 4å®Œæ•´å®ç°](./CLI-3_PHASE4_COMPLETE_TASKS.md)
- [CLI-4: AIæ™ºèƒ½ç­›é€‰](./CLI-4_PHASE5_AI_SCREENING_TASKS.md)
- [CLI-5: GPUç›‘æ§ä»ªè¡¨æ¿](./CLI-5_PHASE6_GPU_MONITORING_TASKS.md)
- [CLI-6: è´¨é‡ä¿è¯](./CLI-6_QUALITY_ASSURANCE_TASKS.md)

**å®æ–½æ–¹æ¡ˆ**:
- [Frontend Six-Phaseå®æ–½æ–¹æ¡ˆ](../../openspec/changes/frontend-optimization-six-phase/implementation-plan.md)

---

## ğŸ”„ æ–‡æ¡£ç»´æŠ¤

**ç‰ˆæœ¬å†å²**:
- v1.0 (2025-12-29): åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºäºPhase 3-6å¤šCLIå¹¶è¡Œå¼€å‘ç»éªŒ

**ç»´æŠ¤è€…**: Main CLI
**æ›´æ–°é¢‘ç‡**: æ¯ä¸ªé¡¹ç›®ç»“æŸåæ€»ç»“ç»éªŒæ•™è®­ï¼Œæ›´æ–°æœ¬æ–‡æ¡£

**åé¦ˆæ¸ é“**: å¦‚æœåœ¨éµå¾ªæœ¬è§„èŒƒè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·åœ¨é¡¹ç›®å¤ç›˜ä¼šè®®ä¸Šæå‡ºã€‚

---

**æœ¬æ–‡æ¡£æ˜¯ä¸»CLIçš„å·¥ä½œåœ£ç»** - ä¸¥æ ¼éµå¾ªå¯é¿å…é‡å¤è¸©å‘ï¼Œæé«˜å¹¶è¡Œå¼€å‘æ•ˆç‡ï¼Œç¡®ä¿é¡¹ç›®æˆåŠŸäº¤ä»˜ï¼
