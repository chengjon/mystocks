# è¶…é•¿æ–‡ä»¶æ‹†åˆ†ä¼˜åŒ–æŒ‡å—

> **æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
> **æ›´æ–°æ—¥æœŸ**: 2026-01-14  
> **åŸºäºå®è·µ**: ArtDecoTradingManagement.vue (1282è¡Œ) + risk_management.py (2070è¡Œ) æ‹†åˆ†ç»éªŒ

---

## ğŸ“‹ ç›®å½•

1. [æ‹†åˆ†åŸåˆ™ä¸å‡†å¤‡](#1-æ‹†åˆ†åŸåˆ™ä¸å‡†å¤‡)
2. [Vue ç»„ä»¶æ‹†åˆ†](#2-vue-ç»„ä»¶æ‹†åˆ†)
3. [Python åç«¯æ‹†åˆ†](#3-python-åç«¯æ‹†åˆ†)
4. [è®¾è®¡è§„èŒƒåˆè§„æ€§æ£€æŸ¥](#4-è®¾è®¡è§„èŒƒåˆè§„æ€§æ£€æŸ¥)
5. [è¾…åŠ©æ–‡ä»¶ç»„ç»‡](#5-è¾…åŠ©æ–‡ä»¶ç»„ç»‡)
6. [ç±»å‹åŒæ­¥æœºåˆ¶](#6-ç±»å‹åŒæ­¥æœºåˆ¶)
7. [æ‹†åˆ†åéªŒè¯æµç¨‹](#7-æ‹†åˆ†åéªŒè¯æµç¨‹)
8. [åæ¨¡å¼è­¦ç¤º](#8-åæ¨¡å¼è­¦ç¤º)
9. [ç»´æŠ¤ä¸å®¡æŸ¥](#9-ç»´æŠ¤ä¸å®¡æŸ¥)

---

## 1. æ‹†åˆ†åŸåˆ™ä¸å‡†å¤‡

### 1.1 æ ¸å¿ƒåŸåˆ™

è¶…é•¿æ–‡ä»¶ï¼ˆ1000+ è¡Œï¼‰è¿åäº†ã€Œå•ä¸€èŒè´£åŸåˆ™ã€ï¼Œæ˜¯ç»´æŠ¤å™©æ¢¦ã€‚ä¼˜åŒ–çš„æ ¸å¿ƒæ˜¯ **ã€ŒæŒ‰åŠŸèƒ½æ¨¡å—æ‹†åˆ†ï¼Œæ‹†åˆ†ä¸ºã€Œçˆ¶ç»„ä»¶ + å¤šä¸ªå­ç»„ä»¶ + è¾…åŠ©æ–‡ä»¶ã€ã€**ã€‚

| åŸåˆ™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **åŠŸèƒ½å†…èš** | åŒä¸€åŠŸèƒ½æ¨¡å—çš„æ¨¡æ¿ã€è„šæœ¬ã€æ ·å¼æ‹†ä¸ºä¸€ä¸ªå­ç»„ä»¶ | äº¤æ˜“ç»Ÿè®¡å¡ç‰‡ã€è®¢å•åˆ—è¡¨ |
| **ä½è€¦åˆ** | å­ç»„ä»¶ä»…é€šè¿‡ props æ¥æ”¶æ•°æ®ï¼Œé€šè¿‡ emit ä¼ é€’äº‹ä»¶ | `props` + `defineEmits` |
| **ç²’åº¦é€‚ä¸­** | ä¸æ‹†åˆ†è¿‡ç»†ï¼ˆå¦‚å•ä¸ªæŒ‰é’®ï¼‰ï¼Œä¹Ÿä¸ä¿ç•™è¿‡å¤§å­ç»„ä»¶ | æ§åˆ¶åœ¨ 500 è¡Œä»¥å†… |

### 1.2 æ‹†åˆ†å‰å‡†å¤‡

1. **ç»Ÿè®¡æ–‡ä»¶è¡Œæ•°**ï¼šç¡®è®¤æ˜¯å¦éœ€è¦æ‹†åˆ†ï¼ˆå»ºè®® >800 è¡Œè€ƒè™‘æ‹†åˆ†ï¼‰
2. **è¯†åˆ«åŠŸèƒ½æ¨¡å—**ï¼šç”¨æ³¨é‡Šæ ‡è®°å¯æ‹†åˆ†çš„é€»è¾‘åŒºåŸŸ
3. **è§„åˆ’ç›®å½•ç»“æ„**ï¼šç¡®å®šå­ç»„ä»¶ã€APIã€composables çš„å­˜æ”¾ä½ç½®
4. **å¤‡ä»½åŸæ–‡ä»¶**ï¼šç¡®ä¿å¯å›æ»š

```bash
# ç»Ÿè®¡ Vue æ–‡ä»¶è¡Œæ•°
wc -l src/views/artdeco-pages/*.vue

# ç»Ÿè®¡ Python æ–‡ä»¶è¡Œæ•°
wc -l web/backend/app/*.py
```

---

## 2. Vue ç»„ä»¶æ‹†åˆ†

### 2.1 æ¨¡æ¿å±‚é¢â€”â€”æ‹†åˆ†åŠŸèƒ½å­ç»„ä»¶

è¿™æ˜¯è¶…é•¿ Vue æ–‡ä»¶çš„æ ¸å¿ƒé—®é¢˜æ ¹æºï¼ˆæ¨¡æ¿è¯­æ³•é”™è¯¯éš¾å®šä½ï¼‰ï¼Œä¼˜å…ˆæ‹†åˆ†æ¨¡æ¿ä¸­çš„åŠŸèƒ½æ¨¡å—ã€‚

#### 2.1.1 è¯†åˆ«åŠŸèƒ½æ¨¡å—

ä»¥ `ArtDecoTradingManagement.vue`ï¼ˆäº¤æ˜“ç®¡ç†é¡µé¢ï¼‰ä¸ºä¾‹ï¼š

| åŠŸèƒ½æ¨¡å— | æè¿° | æ‹†åˆ†åå­ç»„ä»¶ |
|----------|------|--------------|
| äº¤æ˜“ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ | åŒ…å«å¤šä¸ª `<ArtDecoStatCard>` | `ArtDecoTradingStats.vue` |
| è®¢å•åˆ—è¡¨å±•ç¤ºåŒºåŸŸ | åŒ…å«è®¢å•æŸ¥è¯¢ã€åˆ—è¡¨æ¸²æŸ“ã€åˆ†é¡µ | `ArtDecoTradingOrderList.vue` |
| ä¿¡å·ç›‘æ§åŒºåŸŸ | å®æ—¶ä¿¡å·ã€ä¿¡å·å†å² | `ArtDecoSignalMonitoringOverview.vue` |
| å½’å› åˆ†æåŒºåŸŸ | æ”¶ç›Šå½’å› ã€å…³é”®äº¤æ˜“åˆ†æ | `ArtDecoAttributionAnalysis.vue` |

#### 2.1.2 åˆ›å»ºç›®å½•ç»“æ„

```
src/views/artdeco-pages/
â”œâ”€â”€ ArtDecoTradingManagement.vue  # çˆ¶ç»„ä»¶ï¼ˆä»…è´Ÿè´£æ•´åˆå­ç»„ä»¶ï¼‰
â””â”€â”€ components/                    # å­ç»„ä»¶ç›®å½•
    â”œâ”€â”€ ArtDecoTradingStats.vue
    â”œâ”€â”€ ArtDecoTradingSignals.vue
    â”œâ”€â”€ ArtDecoTradingHistory.vue
    â”œâ”€â”€ ArtDecoTradingPositions.vue
    â”œâ”€â”€ ArtDecoSignalMonitoringOverview.vue
    â”œâ”€â”€ ArtDecoSignalMonitoringMetrics.vue
    â”œâ”€â”€ ArtDecoSignalHistory.vue
    â”œâ”€â”€ ArtDecoAttributionControls.vue
    â”œâ”€â”€ ArtDecoAttributionAnalysis.vue
    â””â”€â”€ ArtDecoPerformanceOverview.vue
```

#### 2.1.3 å­ç»„ä»¶æ¨¡æ¿ç¤ºä¾‹

```vue
<!-- ArtDecoTradingStats.vue -->
<template>
  <div class="trading-stats-grid">
    <ArtDecoStatCard
      v-for="stat in stats"
      :key="stat.label"
      :label="stat.label"
      :value="stat.value"
      :change="stat.change"
      :variant="stat.variant"
    />
  </div>
</template>

<script setup lang="ts">
interface TradingStat {
  label: string
  value: string
  change?: string
  variant?: 'rise' | 'fall' | 'gold' | 'neutral'
}

defineProps<{
  stats: TradingStat[]
}>()
</script>

<style scoped lang="scss">
@import '@/styles/artdeco-tokens.scss';
@import '@/styles/artdeco-patterns.scss';

.trading-stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--artdeco-spacing-4);
  position: relative;
  @include artdeco-geometric-corners(var(--artdeco-gold-primary), 16px, 2px);
}
</style>
```

#### 2.1.4 çˆ¶ç»„ä»¶æ•´åˆç¤ºä¾‹

```vue
<!-- ArtDecoTradingManagement.vue -->
<template>
  <div class="trading-management">
    <ArtDecoTradingStats :stats="tradingStats" />
    <ArtDecoTradingSignals :signals="signals" />
    <ArtDecoTradingHistory :history="history" />
  </div>
</template>

<script setup lang="ts">
import ArtDecoTradingStats from './components/ArtDecoTradingStats.vue'
import ArtDecoTradingSignals from './components/ArtDecoTradingSignals.vue'
import ArtDecoTradingHistory from './components/ArtDecoTradingHistory.vue'

// çˆ¶ç»„ä»¶ç»´æŠ¤æ ¸å¿ƒæ•°æ®ï¼Œä¼ é€’ç»™å­ç»„ä»¶
const tradingStats = ref([
  { label: 'ç´¯è®¡æ”¶ç›Šç‡', value: '+15.8%', change: '+4.2', variant: 'rise' },
  { label: 'å¹´åŒ–æ”¶ç›Šç‡', value: '22.5%', change: '+3.8', variant: 'rise' },
  { label: 'æœ€å¤§å›æ’¤', value: '-8.3%', change: '-0.5', variant: 'fall' },
  { label: 'å¤æ™®æ¯”ç‡', value: '1.85', change: '+0.15', variant: 'gold' }
])
</script>
```

### 2.2 è„šæœ¬å±‚é¢â€”â€”æ‹†åˆ†å¤æ‚é€»è¾‘

#### 2.2.1 æ‹†åˆ† API è¯·æ±‚

å°†æ¥å£è¯·æ±‚æŠ½ç¦»åˆ°ç‹¬ç«‹æ–‡ä»¶ï¼š

```typescript
// src/api/artdeco/trading.ts
import axios from '@/utils/axios'

export const getTradingStats = async (params: { date?: string }) => {
  return axios.get('/api/artdeco/trading/stats', { params })
}

export const getTradingSignals = async (params?: SignalFilter) => {
  return axios.get('/api/artdeco/trading/signals', { params })
}

export const getTradingHistory = async (params: PaginationParams) => {
  return axios.get('/api/artdeco/trading/history', { params })
}
```

#### 2.2.2 æ‹†åˆ†å·¥å…·æ–¹æ³•

```typescript
// src/utils/artdeco/format.ts
export const formatProfit = (amount: number): string => {
  return `Â¥${amount.toFixed(2)}`
}

export const formatPercent = (value: number): string => {
  return `${value >= 0 ? '+' : ''}${value.toFixed(2)}%`
}
```

#### 2.2.3 æ‹†åˆ† Composables

æŒ‰é¡µé¢åŸŸç»„ç»‡ composablesï¼š

```
src/composables/artdeco/
â”œâ”€â”€ useTradingData.ts       # äº¤æ˜“ç®¡ç†é¡µé¢æ•°æ®
â”œâ”€â”€ useSignalMonitoring.ts  # ä¿¡å·ç›‘æ§æ•°æ®
â””â”€â”€ useRiskAssessment.ts    # é£é™©è¯„ä¼°æ•°æ®
```

```typescript
// src/composables/artdeco/useTradingData.ts
import { ref, onMounted } from 'vue'
import { getTradingStats, getTradingSignals } from '@/api/artdeco/trading'
import { formatPercent } from '@/utils/artdeco/format'

export const useTradingData = () => {
  const tradingStats = ref([])
  const signals = ref([])
  const loading = ref(false)

  const loadTradingStats = async () => {
    loading.value = true
    try {
      const res = await getTradingStats()
      tradingStats.value = res.data
    } catch (error) {
      console.error('åŠ è½½äº¤æ˜“ç»Ÿè®¡æ•°æ®å¤±è´¥ï¼š', error)
    } finally {
      loading.value = false
    }
  }

  onMounted(() => {
    loadTradingStats()
  })

  return {
    tradingStats,
    signals,
    loading,
    loadTradingStats
  }
}
```

### 2.3 æ ·å¼å±‚é¢â€”â€”è§£è€¦ä¸éš”ç¦»

#### 2.3.1 ä½¿ç”¨ SCSS Tokens

æ¯ä¸ªç»„ä»¶å¿…é¡»å¯¼å…¥è®¾è®¡ä»¤ç‰Œï¼š

```scss
<style scoped lang="scss">
@import '@/styles/artdeco-tokens.scss';
@import '@/styles/artdeco-patterns.scss';

.trading-card {
  background: var(--artdeco-bg-card);
  border: 1px solid var(--artdeco-border-default);
  @include artdeco-stepped-corners(8px);
  @include artdeco-hover-lift-glow;
}
</style>
```

#### 2.3.2 ä½¿ç”¨ Scoped æ ·å¼

æ¯ä¸ªå­ç»„ä»¶çš„æ ·å¼å¿…é¡»æ·»åŠ  `scoped` å±æ€§ï¼š

```vue
<style scoped>
.card-title {
  font-family: var(--artdeco-font-heading);
  color: var(--artdeco-fg-primary);
}
</style>
```

---

## 3. Python åç«¯æ‹†åˆ†

> **é€‚ç”¨åœºæ™¯**: è¶…é•¿ Python æ–‡ä»¶ï¼ˆ1000+ è¡Œï¼‰ï¼Œå¦‚ `risk_management.py`ã€`mystocks_complete.py`

### 3.1 æ‹†åˆ†åŸåˆ™ï¼šé¢†åŸŸé©±åŠ¨æ‹†åˆ†

æŒ‰ä¸šåŠ¡é¢†åŸŸåˆ’åˆ†ï¼Œè€ŒéæŒ‰ä»£ç è¡Œæ•°æœºæ¢°æ‹†åˆ†ï¼š

```
web/backend/app/api/v1/risk/
â”œâ”€â”€ __init__.py           # é¢†åŸŸèšåˆå™¨ï¼Œç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ core.py               # æ ¸å¿ƒé£é™©æŒ‡æ ‡ï¼ˆVaRã€CVaRã€Betaï¼‰
â”œâ”€â”€ stop_loss.py          # æ­¢æŸç®¡ç†
â”œâ”€â”€ alerts.py             # å‘Šè­¦ç®¡ç†
â”œâ”€â”€ rules.py              # è§„åˆ™å¼•æ“
â””â”€â”€ position.py           # æŒä»“é£é™©è¯„ä¼°
```

### 3.2 å¯¼å…¥å¤„ç†

ç”±äºéœ€è¦åŠ¨æ€æ·»åŠ  `sys.path`ï¼Œå¯¼å…¥éœ€æ·»åŠ  `# noqa` æ³¨é‡Šï¼š

```python
import sys
import os

project_root = os.path.abspath(os.path.join(os.path.dirname(__file__), "../../../../"))
if project_root not in sys.path:
    sys.path.insert(0, project_root)

from unified_manager import MyStocksUnifiedManager as UM  # noqa: E402,F401
from src.core import DataClassification  # noqa: E402
from src.monitoring.monitoring_database import MonitoringDatabase  # noqa: E402
```

### 3.3 å­æ¨¡å—ç»“æ„ç¤ºä¾‹

```python
"""
æŒä»“é£é™©è¯„ä¼° API - V3.1

æä¾›æŒä»“é£é™©è¯„ä¼°åŠŸèƒ½:
- ä»“ä½é£é™©è¯„ä¼°
- é›†ä¸­åº¦åˆ†æ
- é£é™©ç­‰çº§åˆ¤å®š
- é£é™©å‘Šè­¦ç”Ÿæˆ

Author: Claude Code
Version: 3.1.0
Date: 2026-01-10
"""

from fastapi import APIRouter, HTTPException
from typing import Dict, Any
import structlog

logger = structlog.get_logger(__name__)

router = APIRouter(prefix="/api/v1/risk/position", tags=["æŒä»“é£é™©è¯„ä¼°"])


@router.post("/assess")
async def assess_position_risk(request: PositionRiskRequest) -> PositionRiskResponse:
    """è¯„ä¼°å•ä¸ªæŒä»“çš„é£é™©ç­‰çº§"""
    try:
        # å®ç°é€»è¾‘
        return risk_response
    except Exception as e:
        logger.error(f"æŒä»“é£é™©è¯„ä¼°å¤±è´¥: {e}")
        raise HTTPException(status_code=500, detail=str(e))
```

### 3.4 èšåˆå¯¼å‡º

```python
# __init__.py
from .core import router as core_router
from .stop_loss import router as stop_loss_router
from .alerts import router as alerts_router
from .rules import router as rules_router
from .position import router as position_router

__all__ = [
    "core_router",
    "stop_loss_router",
    "alerts_router",
    "rules_router",
    "position_router",
]
```

---

## 4. è®¾è®¡è§„èŒƒåˆè§„æ€§æ£€æŸ¥

> **é‡è¦æ€§**: æ‹†åˆ†åç»„ä»¶å¿…é¡»ç¬¦åˆ ArtDeco è®¾è®¡ç³»ç»Ÿè§„èŒƒï¼Œé¿å…æ ·å¼ç¢ç‰‡åŒ–

### 4.1 å¿…åšæ¸…å•

#### 4.1.1 å¯¼å…¥è®¾è®¡ä»¤ç‰Œ

```scss
@import '@/styles/artdeco-tokens.scss';
@import '@/styles/artdeco-patterns.scss';
```

#### 4.1.2 ä½¿ç”¨ CSS å˜é‡æ›¿ä»£ç¡¬ç¼–ç é¢œè‰²

```scss
/* âŒ é”™è¯¯ */
color: #FF5252;
background: #141414;

/* âœ… æ­£ç¡® */
color: var(--artdeco-up);           /* æ¶¨ - çº¢è‰²ï¼ˆä¸­å›½Aè‚¡ï¼‰ */
color: var(--artdeco-down);         /* è·Œ - ç»¿è‰²ï¼ˆä¸­å›½Aè‚¡ï¼‰ */
color: var(--artdeco-gold-primary); /* é‡‘è‰²å¼ºè°ƒ */
color: var(--artdeco-bg-card);      /* å¡ç‰‡èƒŒæ™¯ */
color: var(--artdeco-fg-primary);   /* ä¸»è¦æ–‡æœ¬ */
color: var(--artdeco-fg-muted);     /* æ¬¡è¦æ–‡æœ¬ */
```

#### 4.1.3 åº”ç”¨ ArtDeco è£…é¥°æ··åˆ

```scss
/* è§’è½è£…é¥°ï¼ˆL-shaped bracketsï¼‰ */
@include artdeco-geometric-corners(var(--artdeco-gold-primary), 16px, 2px);

/* é˜¶æ¢¯è§’ï¼ˆziggurat effectï¼‰ */
@include artdeco-stepped-corners(8px);

/* æ‚¬åœæ•ˆæœ */
@include artdeco-hover-lift-glow;
```

#### 4.1.4 éµå¾ªå­—ä½“è§„èŒƒ

```scss
/* æ ‡é¢˜ - Marcellus ç½—é©¬å­—ä½“ */
.component-title {
  font-family: var(--artdeco-font-heading);
  font-weight: var(--artdeco-font-bold);
}

/* æ•°å­— - ç­‰å®½å­—ä½“ */
.stat-value {
  font-family: var(--artdeco-font-mono);
  font-variant-numeric: tabular-nums;
}

/* æ ‡ç­¾ - å¤§å†™ + å®½é—´è· */
.stat-label {
  text-transform: uppercase;
  letter-spacing: var(--artdeco-tracking-wide);
  font-size: var(--artdeco-text-xs);
}
```

### 4.2 æ£€æŸ¥æ¸…å•

| æ£€æŸ¥é¡¹ | æ£€æŸ¥æ–¹æ³• | çŠ¶æ€ |
|--------|----------|------|
| ä½¿ç”¨ `--artdeco-*` CSS å˜é‡ | æœç´¢ç¡¬ç¼–ç é¢œè‰²å€¼ | â˜ |
| æ•°å­—ä½¿ç”¨ç­‰å®½å­—ä½“ | æ£€æŸ¥ `font-family` | â˜ |
| æ ‡ç­¾ä½¿ç”¨å¤§å†™ + å®½é—´è· | æ£€æŸ¥ `text-transform` | â˜ |
| å®¹å™¨åº”ç”¨è§’è½è£…é¥° | æ£€æŸ¥ `@include artdeco-geometric-corners` | â˜ |
| æ‚¬åœæ•ˆæœä¸€è‡´ | æ£€æŸ¥ `@include artdeco-hover-lift-glow` | â˜ |
| å¯¼å…¥ SCSS tokens | æ£€æŸ¥ `@import` è¯­å¥ | â˜ |

---

## 5. è¾…åŠ©æ–‡ä»¶ç»„ç»‡

### 5.1 API æ–‡ä»¶ç»„ç»‡

```
src/api/artdeco/
â”œâ”€â”€ trading.ts       # äº¤æ˜“ç›¸å…³ API
â”œâ”€â”€ types.ts         # ç±»å‹å®šä¹‰ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ monitoring.ts    # ç›‘æ§ç›¸å…³ API
â””â”€â”€ risk.ts          # é£é™©ç®¡ç† API
```

### 5.2 Composables ç»„ç»‡

```
src/composables/artdeco/
â”œâ”€â”€ useTradingData.ts       # äº¤æ˜“ç®¡ç†é¡µé¢æ•°æ®
â”œâ”€â”€ useSignalMonitoring.ts  # ä¿¡å·ç›‘æ§æ•°æ®
â”œâ”€â”€ useRiskAssessment.ts    # é£é™©è¯„ä¼°æ•°æ®
â””â”€â”€ usePerformance.ts       # ç»©æ•ˆæ•°æ®
```

### 5.3 å·¥å…·å‡½æ•°ç»„ç»‡

```
src/utils/artdeco/
â”œâ”€â”€ format.ts        # æ ¼å¼åŒ–å·¥å…·
â”œâ”€â”€ calculation.ts   # è®¡ç®—å·¥å…·
â””â”€â”€ validation.ts    # éªŒè¯å·¥å…·
```

---

## 6. ç±»å‹åŒæ­¥æœºåˆ¶

> **é€‚ç”¨åœºæ™¯**: ä¿®æ”¹ Python API åéœ€è¦åŒæ­¥æ›´æ–°å‰ç«¯ TypeScript ç±»å‹

### 6.1 ç”Ÿæˆå‘½ä»¤

```bash
# åŸºç¡€ç”Ÿæˆï¼ˆç”Ÿæˆæ‰€æœ‰ç±»å‹ï¼‰
python scripts/generate_frontend_types.py

# æŒ‰åŸŸç”Ÿæˆï¼ˆæ¨èï¼Œä»…ç”ŸæˆæŒ‡å®šæ¨¡å—ï¼‰
python scripts/generate_frontend_types.py --domain risk

# å•æ–‡ä»¶ç”Ÿæˆ
python scripts/generate_frontend_types.py --single --output web/frontend/src/api/artdeco/types.ts

# ç”Ÿæˆ index.ts å¯¼å‡º
python scripts/generate_frontend_types.py --domain risk --generate-index
```

### 6.2 ç”Ÿæˆåæ£€æŸ¥

1. æ£€æŸ¥ç±»å‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. éªŒè¯ `index.ts` å¯¼å‡ºæ˜¯å¦æ­£ç¡®
3. è¿è¡Œ TypeScript ç¼–è¯‘æ£€æŸ¥

```bash
npm run type-check
```

### 6.3 ç±»å‹åŒæ­¥æ—¶æœº

| æ“ä½œ | æ˜¯å¦éœ€è¦é‡æ–°ç”Ÿæˆ |
|------|------------------|
| ä¿®æ”¹ Python API å“åº”ç»“æ„ | âœ… æ˜¯ |
| æ–°å¢ API ç«¯ç‚¹ | âœ… æ˜¯ |
| ä¿®æ”¹å­—æ®µç±»å‹ | âœ… æ˜¯ |
| ä»…ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ | âŒ å¦ |
| ä¿®æ”¹å‰ç«¯ç»„ä»¶æ ·å¼ | âŒ å¦ |

---

## 7. æ‹†åˆ†åéªŒè¯æµç¨‹

> **é‡è¦æ€§**: æ¯æ¬¡æ‹†åˆ†å®Œæˆåå¿…é¡»æ‰§è¡ŒéªŒè¯ï¼Œç¡®ä¿ä»£ç è´¨é‡

### 7.1 è¯­æ³•æ£€æŸ¥

```bash
# Python
python -m py_compile <æ‹†åˆ†åçš„æ–‡ä»¶>

# Vue/TypeScript
npm run type-check
# æˆ–
vue-tsc --noEmit
```

### 7.2 ä»£ç è§„èŒƒæ£€æŸ¥

```bash
# Python
ruff check <æ‹†åˆ†åçš„æ–‡ä»¶>
mypy <æ‹†åˆ†åçš„æ–‡ä»¶>

# Frontend
npm run lint
```

### 7.3 å¸¸è§é—®é¢˜æ’æŸ¥

| é—®é¢˜ä»£ç  | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|----------|------|----------|
| `F821 Undefined name 'X'` | å¯¼å…¥è·¯å¾„é”™è¯¯æˆ–å»¶è¿Ÿå¯¼å…¥ | æ£€æŸ¥ `sys.path` é…ç½®ï¼›æ·»åŠ  `# noqa: E402` |
| `E402 Module level import` | å¯¼å…¥åœ¨ `sys.path` ä¿®æ”¹å‰ | æ·»åŠ  `# noqa: E402` |
| `F401 imported but unused` | ä¿ç•™å¯¼å…¥ä½†æœªä½¿ç”¨ | æ·»åŠ  `# noqa: F401` æˆ–åˆ é™¤ |
| `F841 Local variable assigned but never used` | å˜é‡æœªä½¿ç”¨ | åˆ é™¤æˆ–æ·»åŠ  `_` å‰ç¼€ |
| ç»„ä»¶æ ·å¼å¼‚å¸¸ | ç¼ºå°‘ SCSS token å¯¼å…¥ | æ·»åŠ  `@import` è¯­å¥ |
| TypeScript ç±»å‹é”™è¯¯ | API ç±»å‹æœªåŒæ­¥ç”Ÿæˆ | è¿è¡Œ `npm run generate-types` |

### 7.4 è¿è¡Œæµ‹è¯•

```bash
# Python æµ‹è¯•
pytest <ç›¸å…³æµ‹è¯•æ–‡ä»¶>

# å‰ç«¯æµ‹è¯•
npm run test
```

### 7.5 éªŒè¯æ¸…å•

| éªŒè¯é¡¹ | å‘½ä»¤ | çŠ¶æ€ |
|--------|------|------|
| Python è¯­æ³•æ­£ç¡® | `python -m py_compile *.py` | â˜ |
| Python linting é€šè¿‡ | `ruff check .` | â˜ |
| TypeScript ç¼–è¯‘é€šè¿‡ | `npm run type-check` | â˜ |
| å‰ç«¯ linting é€šè¿‡ | `npm run lint` | â˜ |
| å•å…ƒæµ‹è¯•é€šè¿‡ | `pytest` / `npm run test` | â˜ |

---

## 8. åæ¨¡å¼è­¦ç¤º

### 8.1 âŒ ç¦æ­¢ï¼šæ‹†åˆ†æ—¶ä¿ç•™æ³¨é‡Šä»£ç 

```python
# âŒ é”™è¯¯ - ä¿ç•™æ—§ä»£ç 
def old_function():
    ...

# æ—§ä»£ç å·²è¿ç§»è‡³ core.pyï¼Œä½†ä»ä¿ç•™åœ¨æ­¤
# def another_old_function(): ...

# âœ… æ­£ç¡® - å½»åº•åˆ é™¤
```

### 8.2 âŒ ç¦æ­¢ï¼šç¡¬ç¼–ç é¢œè‰²å€¼

```scss
/* âŒ é”™è¯¯ */
color: #FF5252;
background: #141414;
border-color: rgba(212, 175, 55, 0.5);

/* âœ… æ­£ç¡® */
color: var(--artdeco-up);
background: var(--artdeco-bg-card);
border-color: var(--artdeco-border-default);
```

### 8.3 âŒ ç¦æ­¢ï¼šå¿½ç•¥ linter è­¦å‘Š

```bash
# âŒ é”™è¯¯ - å¿½ç•¥ linting ç»“æœ
ruff check .  # å‘ç°é—®é¢˜ä½†ä¸ä¿®å¤

# âœ… æ­£ç¡® - ä¿®å¤æ‰€æœ‰é—®é¢˜
ruff check . --fix
```

### 8.4 âŒ ç¦æ­¢ï¼šç»„ä»¶æ ·å¼ä¸å®Œæ•´

```vue
<!-- âŒ é”™è¯¯ - ç¼ºå°‘ scoped -->
<style>
.container { ... }
</style>

<!-- âœ… æ­£ç¡® - æ·»åŠ  scoped -->
<style scoped>
.container { ... }
</style>
```

### 8.5 âŒ ç¦æ­¢ï¼šå¿˜è®°å¯¼å…¥è®¾è®¡ä»¤ç‰Œ

```scss
/* âŒ é”™è¯¯ - æ— æ³•ä½¿ç”¨ CSS å˜é‡ */
<style scoped>
.card {
  color: var(--artdeco-fg-primary); /* æœªå®šä¹‰ */
}
</style>

/* âœ… æ­£ç¡® - å¯¼å…¥ tokens */
<style scoped lang="scss">
@import '@/styles/artdeco-tokens.scss';

.card {
  color: var(--artdeco-fg-primary);
}
</style>
```

### 8.6 âœ… æ¨èï¼šæ‹†åˆ†åç«‹å³è¿è¡Œå®Œæ•´æµ‹è¯•

```bash
# ç¡®ä¿æ‹†åˆ†ä¸ç ´ååŠŸèƒ½
pytest tests/
npm run test
```

---

## 9. ç»´æŠ¤ä¸å®¡æŸ¥

### 9.1 å‘½åè§„èŒƒ

| ç±»å‹ | å‘½åè§„åˆ™ | ç¤ºä¾‹ |
|------|----------|------|
| Vue ç»„ä»¶ | PascalCase + ArtDeco å‰ç¼€ | `ArtDecoTradingStats.vue` |
| API æ–‡ä»¶ | åŠŸèƒ½æè¿° + `.ts` | `trading.ts` |
| Composables | `use` + åŠŸèƒ½æè¿° | `useTradingData.ts` |
| å·¥å…·å‡½æ•° | å°å†™ä¸‹åˆ’çº¿ | `format_profit.ts` |

### 9.2 ç»„ä»¶æ–‡æ¡£æ³¨é‡Š

æ¯ä¸ªå­ç»„ä»¶å¼€å¤´æ·»åŠ æ³¨é‡Šï¼š

```vue
<!--
  ArtDecoTradingStats.vue
  
  åŠŸèƒ½ï¼šäº¤æ˜“ç»Ÿè®¡å¡ç‰‡ç»„ä»¶ï¼Œå±•ç¤ºæ ¸å¿ƒäº¤æ˜“æŒ‡æ ‡
  
  Props:
    - stats: ç»Ÿè®¡æ•°æ®åˆ—è¡¨
  
  Events:
    - refresh: åˆ·æ–°ç»Ÿè®¡æ•°æ®
  
  ä¾èµ–:
    - ArtDecoStatCard ç»„ä»¶
-->
```

### 9.3 å®šæœŸå®¡æŸ¥

ç»“åˆ CI/CD æœˆåº¦å®¡æŸ¥æµç¨‹ï¼š

1. **è¡Œæ•°æ£€æŸ¥**: å•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 1000 è¡Œ
2. **å¤æ‚åº¦æ£€æŸ¥**: ç»„ä»¶é€»è¾‘å¤æ‚åº¦
3. **å¤ç”¨ç‡æ£€æŸ¥**: è¯„ä¼°ç»„ä»¶å¤ç”¨ä»·å€¼
4. **è§„èŒƒæ£€æŸ¥**: è®¾è®¡è§„èŒƒä¸€è‡´æ€§

### 9.4 æ‹†åˆ†å¥½å¤„æ€»ç»“

| å¥½å¤„ | è¯´æ˜ |
|------|------|
| **æ˜“å®šä½é”™è¯¯** | å­ç»„ä»¶ä½“ç§¯å°ï¼Œè¯­æ³•é”™è¯¯ã€é€»è¾‘é—®é¢˜å¯å¿«é€Ÿå®šä½ |
| **æ˜“ç»´æŠ¤æ‰©å±•** | æ–°å¢åŠŸèƒ½åªéœ€åˆ›å»ºæ–°çš„å­ç»„ä»¶ |
| **å¯å¤ç”¨æ€§é«˜** | æ‹†åˆ†åçš„ç»„ä»¶å¯åœ¨å…¶ä»–é¡µé¢å¤ç”¨ |
| **ä¾¿äºæµ‹è¯•** | å­ç»„ä»¶å¯å•ç‹¬ç¼–å†™å•å…ƒæµ‹è¯• |
| **æ ·å¼ä¸€è‡´** | ç»Ÿä¸€ä½¿ç”¨è®¾è®¡ä»¤ç‰Œï¼Œé£æ ¼ä¸€è‡´ |

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ArtDeco ç»„ä»¶å¼€å‘æŒ‡å—](./ARTDECO_COMPONENT_GUIDE.md)
- [API å¼€å‘ä¸å®‰å…¨è§„èŒƒ](./APIå¼€å‘ä¸å®‰å…¨è§„èŒƒ.md)
- [æ¥å£æ¸…å•æ–‡æ¡£](./æ¥å£æ¸…å•æ–‡æ¡£/)

---

*æœ€åæ›´æ–°: 2026-01-14*  
*åŸºäºå®è·µ: ArtDecoTradingManagement.vue (1282è¡Œ) + risk_management.py (2070è¡Œ) æ‹†åˆ†*
