# Market Data Adapter æ‹†åˆ†æ–¹æ¡ˆ

**ç”Ÿæˆæ—¶é—´**: 2026-01-30T05:30:00
**æ–‡ä»¶**: src/adapters/akshare/market_data.py (2,256è¡Œï¼‰
**çŠ¶æ€**: åˆæ­¥æ‹†åˆ†å®Œæˆï¼ˆ4ä¸ªæ¨¡å—ï¼Œ635è¡Œï¼‰
**ç›®æ ‡**: æ‹†åˆ†ä¸º6ä¸ªæ¨¡å—ï¼Œæ¯ä¸ª < 500è¡Œ

---

## ğŸ“Š å½“å‰çŠ¶æ€

### å·²å®Œæˆçš„åˆæ­¥æ‹†åˆ†ï¼ˆ4ä¸ªæ¨¡å—ï¼‰

| æ¨¡å— | è¡Œæ•° | çŠ¶æ€ |
|------|------|------|
| base.py | 35è¡Œ | âœ… å·²åˆ›å»º |
| market_overview.py | 200è¡Œ | âœ… å·²åˆ›å»º |
| stock_info.py | 200è¡Œ | âœ… å·²åˆ›å»º |
| fund_flow.py | 200è¡Œ | âœ… å·²åˆ›å»º |

**æ€»è®¡**: 635è¡Œ (28%)
**å‰©ä½™**: ~1,621è¡Œ (72%)

---

## ğŸ¯ å®Œæ•´æ‹†åˆ†æ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šç²—ç²’åº¦æ‹†åˆ†ï¼ˆæ¨èï¼‰

```
src/adapters/akshare/
â”œâ”€â”€ __init__.py                      # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ base/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ retry_decorator.py           # é‡è¯•è£…é¥°å™¨ (~50è¡Œ)
â”‚   â””â”€â”€ column_mapper.py            # åˆ—åæ˜ å°„ (~150è¡Œ)
â”œâ”€â”€ market_overview/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ sse_market_overview.py       # ä¸Šæµ·å¸‚åœºæ€»è²Œ (~150è¡Œ)
â”‚   â”œâ”€â”€ szse_market_overview.py      # æ·±åœ³å¸‚åœºæ€»è²Œ (~150è¡Œ)
â”‚   â”œâ”€â”€ sse_area_trading_summary.py # åœ°åŒºäº¤æ˜“æ’åº (~150è¡Œ)
â”‚   â”œâ”€â”€ sse_sector_trading_summary.py# è¡Œä¸šæˆäº¤ (~150è¡Œ)
â”‚   â””â”€â”€ sse_daily_deal_summary.py    # æ¯æ—¥æ¦‚å†µ (~150è¡Œ)
â”œâ”€â”€ stock_info/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ industry_concept.py          # è¡Œä¸šæ¦‚å¿µ (~100è¡Œ)
â”‚   â”œâ”€â”€ stock_basic_info.py          # åŸºæœ¬ä¿¡æ¯ (~200è¡Œ)
â”‚   â”œâ”€â”€ stock_financial_info.py       # è´¢åŠ¡ä¿¡æ¯ (~200è¡Œ)
â”‚   â””â”€â”€ stock_rating_info.py         # è¯„çº§ä¿¡æ¯ (~200è¡Œ)
â”œâ”€â”€ fund_flow/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ hsgt_fund_flow_summary.py # æ¸¯é€šèµ„é‡‘æ±‡æ€» (~150è¡Œ)
â”‚   â”œâ”€â”€ hsgt_fund_flow_detail.py  # æ¸¯é€šèµ„é‡‘æ˜ç»† (~150è¡Œ)
â”‚   â””â”€â”€ north_south_net_flow.py   # å—åŒ—èµ„é‡‘æµå‘ (~150è¡Œ)
â””â”€â”€ standardization/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ data_normalizer.py         # æ•°æ®æ ‡å‡†åŒ– (~150è¡Œ)
```

**æ–‡ä»¶æ•°**: 25ä¸ªæ–‡ä»¶
**å¹³å‡è¡Œæ•°**: ~90è¡Œ/æ–‡ä»¶
**ç¬¦åˆæ ‡å‡†**: âœ… å…¨éƒ¨ < 500è¡Œ

---

### æ–¹æ¡ˆ Bï¼šä¸­ç­‰ç²’åº¦æ‹†åˆ†

```
src/adapters/akshare/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ base.py                          # åŸºç¡€å·¥å…· (~200è¡Œ)
â”œâ”€â”€ sse_market_data.py             # SSEå¸‚åœºæ•°æ® (~400è¡Œ)
â”œâ”€â”€ szse_market_data.py            # SZSEå¸‚åœºæ•°æ® (~400è¡Œ)
â”œâ”€â”€ stock_individual_info.py        # ä¸ªè‚¡ä¿¡æ¯ (~400è¡Œ)
â”œâ”€â”€ stock_financial_data.py         # è´¢åŠ¡æ•°æ® (~400è¡Œ)
â””â”€â”€ fund_flow_data.py             # èµ„é‡‘æµå‘ (~400è¡Œ)
```

**æ–‡ä»¶æ•°**: 7ä¸ªæ–‡ä»¶
**å¹³å‡è¡Œæ•°**: ~320è¡Œ/æ–‡ä»¶
**ç¬¦åˆæ ‡å‡†**: âœ… å…¨éƒ¨ < 500è¡Œ

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ Aï¼ˆç²—ç²’åº¦æ‹†åˆ†ï¼‰

### ç†ç”±

1. **å¯ç»´æŠ¤æ€§**: æ¯ä¸ªæ–‡ä»¶èŒè´£å•ä¸€ï¼Œæ˜“äºå®šä½å’Œä¿®æ”¹
2. **å¯æµ‹è¯•æ€§**: æ¯ä¸ªæ–‡ä»¶å¯ä»¥ç‹¬ç«‹æµ‹è¯•ï¼Œè¦†ç›–ç‡æ›´é«˜
3. **å¯æ‰©å±•æ€§**: æ–°å¢åŠŸèƒ½æ—¶åªéœ€ä¿®æ”¹ç›¸å…³æ–‡ä»¶
4. **å›¢é˜Ÿåä½œ**: å‡å°‘å†²çªï¼Œå¤šäººå¯ä»¥åŒæ—¶ä¿®æ”¹ä¸åŒæ–‡ä»¶

### æ¨¡å—èŒè´£è¯´æ˜

#### base/ ç›®å½•
- `retry_decorator.py`: é‡è¯•æœºåˆ¶å°è£…ï¼Œæ‰€æœ‰APIè°ƒç”¨å…±äº«
- `column_mapper.py`: ç»Ÿä¸€çš„åˆ—åæ˜ å°„ï¼Œå‡å°‘é‡å¤ä»£ç 

#### market_overview/ ç›®å½•
æŒ‰å¸‚åœºå’ŒåŠŸèƒ½ç»´åº¦æ‹†åˆ†ï¼Œæ¯ä¸ªæ–‡ä»¶å¤„ç†ä¸€ä¸ªäº¤æ˜“æ‰€çš„ä¸€ä¸ªåŠŸèƒ½

#### stock_info/ ç›®å½•
æŒ‰æ•°æ®ç±»å‹æ‹†åˆ†ï¼Œä¾¿äºæŒ‰éœ€å¯¼å…¥

#### fund_flow/ ç›®å½•
æŒ‰æ•°æ®æºå’Œç»Ÿè®¡ç±»å‹æ‹†åˆ†ï¼Œä¾¿äºæ‰¹é‡å¤„ç†

---

## ğŸ“‹ å®æ–½æ­¥éª¤

### ç¬¬ä¸€é˜¶æ®µï¼šå®Œå–„åˆæ­¥æ‹†åˆ†ï¼ˆå½“å‰è¿›è¡Œä¸­ï¼‰

#### Task A.1: å®Œå–„ market_overview.py
- [ ] æ‹†åˆ†ä¸º sse_market_overview.py
- [ ] æ‹†åˆ†ä¸º szse_market_overview.py
- [ ] æ‹†åˆ†ä¸º sse_area_trading_summary.py
- [ ] æ‹†åˆ†ä¸º sse_sector_trading_summary.py
- [ ] æ‹†åˆ†ä¸º sse_daily_deal_summary.py
- [ ] æ›´æ–° market_overview/__init__.py
- [ ] æ›´æ–°ä¸» __init__.py

#### Task A.2: å®Œå–„ stock_info.py
- [ ] æå– industry_concept.py
- [ ] æå– stock_basic_info.py
- [ ] æå– stock_financial_info.py
- [ ] æå– stock_rating_info.py
- [ ] æ›´æ–° stock_info/__init__.py
- [ ] æ›´æ–°ä¸» __init__.py

#### Task A.3: å®Œå–„ fund_flow.py
- [ ] æå– hsgt_fund_flow_summary.py
- [ ] æå– hsgt_fund_flow_detail.py
- [ ] æå– north_south_net_flow.py
- [ ] æ›´æ–° fund_flow/__init__.py
- [ ] æ›´æ–°ä¸» __init__.py

#### Task A.4: å®Œå–„ base.py
- [ ] æ‹†åˆ†ä¸º retry_decorator.py
- [ ] æ‹†åˆ†ä¸º column_mapper.py
- [ ] åˆ›å»º base/__init__.py
- [ ] æ›´æ–°ä¸» __init__.py

#### Task A.5: åˆ›å»º standardization ç›®å½•
- [ ] åˆ›å»º data_normalizer.py
- [ ] åˆ›å»º standardization/__init__.py
- [ ] è¿ç§»æ ‡å‡†åŒ–é€»è¾‘

#### Task A.6: æ›´æ–°å¯¼å…¥è·¯å¾„
- [ ] å…¨å±€æœç´¢æ›¿æ¢æ—§å¯¼å…¥
- [ ] è¿è¡Œæµ‹è¯•éªŒè¯
- [ ] ä¿®å¤ç¼–è¯‘é”™è¯¯

#### Task A.7: åˆ é™¤åŸæ–‡ä»¶
- [ ] å¤‡ä»½åŸ market_data.py
- [ ] ç¡®è®¤æ‰€æœ‰å¼•ç”¨å·²æ›´æ–°
- [ ] åˆ é™¤åŸæ–‡ä»¶

#### Task A.8: éªŒè¯å’Œæµ‹è¯•
- [ ] è¿è¡Œå•å…ƒæµ‹è¯•
- [ ] è¿è¡Œé›†æˆæµ‹è¯•
- [ ] éªŒè¯æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
- [ ] å¯¹æ¯”æµ‹è¯•åŸºçº¿

---

## â± æ—¶é—´ä¼°ç®—

| é˜¶æ®µ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ |
|------|------|----------|
| ç¬¬ä¸€é˜¶æ®µ | å®Œå–„åˆæ­¥æ‹†åˆ† | 8-10å°æ—¶ |
| ç¬¬äºŒé˜¶æ®µ | æµ‹è¯•å’ŒéªŒè¯ | 4-6å°æ—¶ |
| ç¬¬ä¸‰é˜¶æ®µ | æ–‡æ¡£å’Œäº¤ä»˜ | 2-4å°æ—¶ |
| **æ€»è®¡** | **14-20å°æ—¶** | 2-3å¤© |

---

## âœ… éªŒæ”¶æ ‡å‡†

### æ¨¡å—æ‹†åˆ†éªŒæ”¶
- [ ] æ‰€æœ‰æ–‡ä»¶ < 500è¡Œ
- [ ] æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€
- [ ] æ¨¡å—é—´ä¾èµ–æ¸…æ™°
- [ ] __init__.py å¯¼å‡ºè§„èŒƒ
- [ ] æ— å¾ªç¯ä¾èµ–

### åŠŸèƒ½éªŒæ”¶
- [ ] æ‰€æœ‰åŸæœ‰åŠŸèƒ½ä¿æŒä¸å˜
- [ ] APIæ¥å£ä¿æŒå…¼å®¹
- [ ] æµ‹è¯•é€šè¿‡ç‡ â‰¥ 95%
- [ ] æ€§èƒ½æ— æ˜æ˜¾ä¸‹é™

### è´¨é‡éªŒæ”¶
- [ ] ä»£ç ç¬¦åˆå¼€å‘è§„èŒƒ
- [ ] ç±»å‹æ³¨è§£å®Œæ•´
- [ ] æ–‡æ¡£å­—ç¬¦ä¸²æ¸…æ™°
- [ ] æ— é‡å¤ä»£ç 

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³æ‰§è¡Œ**: å¼€å§‹ç¬¬ä¸€é˜¶æ®µä»»åŠ¡
2. **åˆ›å»ºåˆ†æ”¯**: `refactor/market-data-split` åˆ†æ”¯
3. **æäº¤è¿›åº¦**: æ¯å®Œæˆä¸€ä¸ªä»»åŠ¡æäº¤ä¸€æ¬¡
4. **æŒç»­é›†æˆ**: æ¯å¤©è¿è¡Œå®Œæ•´æµ‹è¯•

---

**æ–¹æ¡ˆç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2026-01-30T05:30:00Z
**çŠ¶æ€**: å¾…æ‰¹å‡†å’Œæ‰§è¡Œ
