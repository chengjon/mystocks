# TDXæ¨¡å—æ•°æ®èƒ½åŠ›æ€»ç»“

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-01-02
**æ¨¡å—è·¯å¾„**: `src/adapters/tdx/`
**æ•°æ®æº**: é€šè¾¾ä¿¡ (TongDaXin) + PyTDX

---

## ğŸ“Š æ•°æ®èƒ½åŠ›æ¦‚è§ˆ

TDXæ¨¡å—é‡ç»„åï¼Œæä¾›äº†ä¸‰å¤§ç±»æ•°æ®è·å–èƒ½åŠ›ï¼š

| æ•°æ®ç±»åˆ« | æ•°æ®æ¥æº | æ•°æ®ç±»å‹ | ä¸»è¦è„šæœ¬ |
|---------|---------|---------|---------|
| **è¿œç¨‹å®æ—¶æ•°æ®** | åœ¨çº¿æœåŠ¡å™¨ï¼ˆæœ¬åœ°ä¼˜å…ˆ+ç½‘ç»œå¤‡ç”¨ï¼‰ | å®æ—¶è¡Œæƒ…ã€åŸºæœ¬ä¿¡æ¯ã€åˆ†ç±»æ•°æ® | `realtime_service.py` |
| **è¿œç¨‹å†å²æ•°æ®** | åœ¨çº¿æœåŠ¡å™¨ï¼ˆæœ¬åœ°ä¼˜å…ˆ+ç½‘ç»œå¤‡ç”¨ï¼‰ | Kçº¿æ•°æ®ï¼ˆå¤šå‘¨æœŸï¼‰ | `kline_data_service.py` |
| **æœ¬åœ°æ–‡ä»¶æ•°æ®** | é€šè¾¾ä¿¡å®‰è£…ç›®å½• | æ¿å—åˆ†ç±»æ•°æ® | `tdx_block_reader.py` |

---

## ğŸŒ ä¸€ã€è¿œç¨‹å®æ—¶æ•°æ®

### æ•°æ®æ¥æº
- **ä¸»è¦æ¥æº**: æœ¬åœ°é€šè¾¾ä¿¡æœåŠ¡å™¨ (127.0.0.1:7709)
- **å¤‡ç”¨æœåŠ¡å™¨**: 5ä¸ªç½‘ç»œæœåŠ¡å™¨è‡ªåŠ¨æ•…éšœè½¬ç§»
- **è¿æ¥åè®®**: PyTDX (é€šè¾¾ä¿¡äºŒè¿›åˆ¶åè®®)

### æ ¸å¿ƒè„šæœ¬
- **ä¸»è„šæœ¬**: `src/adapters/tdx/realtime_service.py`
- **æœåŠ¡ç±»**: `RealtimeService`
- **é…ç½®**: `config/tdx_settings.conf`

### 1.1 å®æ—¶è¡Œæƒ…æ•°æ®

**æ–¹æ³•**: `get_real_time_data(symbol: str)`

**æ•°æ®å­—æ®µ**:
```python
{
    "symbol": "è‚¡ç¥¨ä»£ç ",
    "name": "è‚¡ç¥¨åç§°",
    "price": "å½“å‰ä»·æ ¼",
    "open": "å¼€ç›˜ä»·",
    "high": "æœ€é«˜ä»·",
    "low": "æœ€ä½ä»·",
    "pre_close": "æ˜¨æ”¶ä»·",
    "change": "æ¶¨è·Œé¢",
    "change_pct": "æ¶¨è·Œå¹…(%)",
    "volume": "æˆäº¤é‡(æ‰‹)",
    "amount": "æˆäº¤é¢(å…ƒ)",
    "turnover": "æ¢æ‰‹ç‡(%)",
    "pe": "å¸‚ç›ˆç‡",
    "pb": "å¸‚å‡€ç‡",
    "market": "å¸‚åœº(ä¸Šäº¤æ‰€/æ·±äº¤æ‰€)",
    "timestamp": "æ—¶é—´æˆ³",
    "source": "tdx"
}
```

**ä¿¡æ¯ç±»åˆ«**: åŸºç¡€è¡Œæƒ…ã€ä»·æ ¼ã€æˆäº¤é‡ã€ä¼°å€¼æŒ‡æ ‡

**æ›´æ–°é¢‘ç‡**: å®æ—¶ï¼ˆäº¤æ˜“æ—¶é—´å†…ï¼‰

---

### 1.2 è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯

**æ–¹æ³•**: `get_stock_basic(symbol: str)`

**æ•°æ®å­—æ®µ**:
```python
{
    "symbol": "è‚¡ç¥¨ä»£ç ",
    "name": "è‚¡ç¥¨åç§°",
    "market": "å¸‚åœº",
    "industry": "æ‰€å±è¡Œä¸š",
    "area": "åœ°åŒº",
    "pe": "å¸‚ç›ˆç‡",
    "pb": "å¸‚å‡€ç‡",
    "outstanding": "æµé€šè‚¡æœ¬",
    "total_shares": "æ€»è‚¡æœ¬",
    "float_shares": "æµé€šè‚¡",
    "asset_per_share": "æ¯è‚¡å‡€èµ„äº§",
    "bv_per_share": "æ¯è‚¡å…¬ç§¯é‡‘",
    "time_to_market": "ä¸Šå¸‚æ—¥æœŸ",
    "listing_date": "æŒ‚ç‰Œæ—¥æœŸ",
    "is_st": "æ˜¯å¦ST",
    "timestamp": "æ—¶é—´æˆ³",
    "source": "tdx"
}
```

**ä¿¡æ¯ç±»åˆ«**: è‚¡æœ¬ä¿¡æ¯ã€åŸºæœ¬é¢ã€ä¸Šå¸‚ä¿¡æ¯

**æ›´æ–°é¢‘ç‡**: æ¯æ—¥æ›´æ–°

---

### 1.3 æ‰¹é‡å®æ—¶è¡Œæƒ…

**æ–¹æ³•**: `get_batch_real_time_data(symbols: List[str])`

**åŠŸèƒ½**: ä¸€æ¬¡è·å–æœ€å¤š50åªè‚¡ç¥¨çš„å®æ—¶è¡Œæƒ…

**æ•°æ®å­—æ®µ**: åŒ1.1å®æ—¶è¡Œæƒ…æ•°æ®

**ä¿¡æ¯ç±»åˆ«**: æ‰¹é‡åŸºç¡€è¡Œæƒ…

**æ›´æ–°é¢‘ç‡**: å®æ—¶

---

### 1.4 è¡Œä¸šåˆ†ç±»æ•°æ®

**æ–¹æ³•**: `get_industry_classify()`

**è¿”å›**: `pd.DataFrame`

**æ•°æ®å†…å®¹**:
- è¡Œä¸šä»£ç 
- è¡Œä¸šåç§°
- è¡Œä¸šç±»å‹

**ä¿¡æ¯ç±»åˆ«**: è¡Œä¸šåˆ†ç±»

**æ›´æ–°é¢‘ç‡**: æ¯æ—¥æ›´æ–°

---

### 1.5 æ¦‚å¿µåˆ†ç±»æ•°æ®

**æ–¹æ³•**: `get_concept_classify()`

**è¿”å›**: `pd.DataFrame`

**æ•°æ®å†…å®¹**:
- æ¦‚å¿µä»£ç 
- æ¦‚å¿µåç§°
- æ¦‚å¿µç±»å‹

**ä¿¡æ¯ç±»åˆ«**: æ¦‚å¿µåˆ†ç±»ï¼ˆçƒ­é—¨é¢˜æï¼‰

**æ›´æ–°é¢‘ç‡**: æ¯æ—¥æ›´æ–°

---

### 1.6 è‚¡ç¥¨è¡Œä¸šæ¦‚å¿µä¿¡æ¯

**æ–¹æ³•**: `get_stock_industry_concept(symbol: str)`

**æ•°æ®å­—æ®µ**:
```python
{
    "symbol": "è‚¡ç¥¨ä»£ç ",
    "industry": {
        "name": "è¡Œä¸šåç§°",
        "code": "è¡Œä¸šä»£ç "
    },
    "concepts": {
        # æ¦‚å¿µåˆ—è¡¨
    },
    "timestamp": "æ—¶é—´æˆ³"
}
```

**ä¿¡æ¯ç±»åˆ«**: è‚¡ç¥¨å±æ€§ã€åˆ†ç±»æ ‡ç­¾

**æ›´æ–°é¢‘ç‡**: æ¯æ—¥æ›´æ–°

---

## ğŸ“ˆ äºŒã€è¿œç¨‹å†å²æ•°æ®ï¼ˆKçº¿æ•°æ®ï¼‰

### æ•°æ®æ¥æº
- **ä¸»è¦æ¥æº**: æœ¬åœ°é€šè¾¾ä¿¡æœåŠ¡å™¨ (127.0.0.1:7709)
- **å¤‡ç”¨æœåŠ¡å™¨**: 5ä¸ªç½‘ç»œæœåŠ¡å™¨è‡ªåŠ¨æ•…éšœè½¬ç§»
- **è¿æ¥åè®®**: PyTDX

### æ ¸å¿ƒè„šæœ¬
- **ä¸»è„šæœ¬**: `src/adapters/tdx/kline_data_service.py`
- **æœåŠ¡ç±»**: `KlineDataService`
- **æ”¯æŒå‘¨æœŸ**: 1åˆ†é’Ÿã€5åˆ†é’Ÿã€æ—¥çº¿ã€å‘¨çº¿ã€æœˆçº¿

### 2.1 è‚¡ç¥¨æ—¥çº¿æ•°æ®

**æ–¹æ³•**: `get_stock_daily(symbol, start_date, end_date, adjust)`

**å‚æ•°**:
- `symbol`: è‚¡ç¥¨ä»£ç 
- `start_date`: å¼€å§‹æ—¥æœŸ (YYYY-MM-DD)
- `end_date`: ç»“æŸæ—¥æœŸ (YYYY-MM-DD)
- `adjust`: å¤æƒç±»å‹ ('qfq'=å‰å¤æƒ, 'hfq'=åå¤æƒ, 'none'=ä¸å¤æƒ)

**æ•°æ®å­—æ®µ** (19ä¸ª):
```python
{
    "datetime": "äº¤æ˜“æ—¶é—´",
    "open": "å¼€ç›˜ä»·",
    "high": "æœ€é«˜ä»·",
    "low": "æœ€ä½ä»·",
    "close": "æ”¶ç›˜ä»·",
    "volume": "æˆäº¤é‡(æ‰‹)",
    "amount": "æˆäº¤é¢(å…ƒ)",
    "turnover": "æ¢æ‰‹ç‡(%)",
    "change": "æ¶¨è·Œé¢",
    "change_pct": "æ¶¨è·Œå¹…(%)",
    "ma5": "5æ—¥å‡çº¿",
    "ma10": "10æ—¥å‡çº¿",
    "ma20": "20æ—¥å‡çº¿",
    "ma60": "60æ—¥å‡çº¿",
    "v_ma5": "5æ—¥å‡é‡",
    "v_ma10": "10æ—¥å‡é‡",
    "v_ma20": "20æ—¥å‡é‡",
    "v_ma60": "60æ—¥å‡é‡",
    "symbol": "è‚¡ç¥¨ä»£ç ",
    "market": "å¸‚åœº",
    "adjust": "å¤æƒç±»å‹"
}
```

**ä¿¡æ¯ç±»åˆ«**: OHLCVä»·æ ¼æ•°æ®ã€æŠ€æœ¯æŒ‡æ ‡ï¼ˆå‡çº¿ï¼‰ã€å¸‚åœºæ•°æ®

**æ—¶é—´èŒƒå›´**: æ”¯æŒä»»æ„å†å²æ—¥æœŸèŒƒå›´

**æ•°æ®ç±»å‹**: å†å²Kçº¿ã€æŠ€æœ¯åˆ†ææŒ‡æ ‡

---

### 2.2 æŒ‡æ•°æ—¥çº¿æ•°æ®

**æ–¹æ³•**: `get_index_daily(index_code, start_date, end_date)`

**å‚æ•°**:
- `index_code`: æŒ‡æ•°ä»£ç ï¼ˆå¦‚: 000001, 399001ï¼‰
- `start_date`: å¼€å§‹æ—¥æœŸ
- `end_date`: ç»“æŸæ—¥æœŸ

**æ•°æ®å­—æ®µ** (9ä¸ª):
```python
{
    "datetime": "äº¤æ˜“æ—¶é—´",
    "open": "å¼€ç›˜ç‚¹ä½",
    "high": "æœ€é«˜ç‚¹ä½",
    "low": "æœ€ä½ç‚¹ä½",
    "close": "æ”¶ç›˜ç‚¹ä½",
    "volume": "æˆäº¤é‡",
    "amount": "æˆäº¤é¢",
    "turnover": "æ¢æ‰‹ç‡",
    "symbol": "æŒ‡æ•°ä»£ç ",
    "security_type": "index"
}
```

**ä¿¡æ¯ç±»åˆ«**: æŒ‡æ•°OHLCVæ•°æ®

**æ—¶é—´èŒƒå›´**: æ”¯æŒä»»æ„å†å²æ—¥æœŸèŒƒå›´

**æ•°æ®ç±»å‹**: æŒ‡æ•°å†å²Kçº¿

---

### 2.3 åˆ†é’ŸKçº¿æ•°æ®

**æ–¹æ³•**: `get_minute_kline(symbol, period, count, adjust)`

**å‚æ•°**:
- `symbol`: è‚¡ç¥¨ä»£ç 
- `period`: Kçº¿å‘¨æœŸ ('1min', '5min', '15min', '30min', '60min')
- `count`: è·å–æ¡æ•°ï¼ˆé»˜è®¤240æ¡ï¼‰
- `adjust`: å¤æƒç±»å‹

**æ•°æ®å­—æ®µ**: åŒæ—¥çº¿æ•°æ®ï¼ˆ19ä¸ªå­—æ®µï¼‰

**ä¿¡æ¯ç±»åˆ«**: é«˜é¢‘OHLCVæ•°æ®ã€æŠ€æœ¯æŒ‡æ ‡

**æ—¶é—´èŒƒå›´**: æœ€è¿‘Næ¡è®°å½•

**æ•°æ®ç±»å‹**: çŸ­å‘¨æœŸKçº¿ã€æ—¥å†…äº¤æ˜“æ•°æ®

---

### 2.4 å¤šå‘¨æœŸKçº¿æ•°æ®

**æ–¹æ³•**: `get_stock_kline(symbol, period, start_date, end_date, adjust)`

**æ”¯æŒå‘¨æœŸ**:
- `1m` / `1min`: 1åˆ†é’ŸKçº¿
- `5m` / `5min`: 5åˆ†é’ŸKçº¿
- `15m` / `15min`: 15åˆ†é’ŸKçº¿
- `30m` / `30min`: 30åˆ†é’ŸKçº¿
- `1h` / `60min`: 1å°æ—¶Kçº¿
- `1d` / `daily`: æ—¥Kçº¿
- `1w` / `weekly`: å‘¨Kçº¿
- `1M` / `monthly`: æœˆKçº¿

**æ•°æ®å­—æ®µ**: åŒæ—¥çº¿æ•°æ®ï¼ˆ19ä¸ªå­—æ®µï¼‰

**ä¿¡æ¯ç±»åˆ«**: å¤šå‘¨æœŸOHLCVã€å¤šçº§åˆ«æŠ€æœ¯æŒ‡æ ‡

**æ—¶é—´èŒƒå›´**: æ ¹æ®å‘¨æœŸä¸åŒè€Œä¸åŒ

**æ•°æ®ç±»å‹**: å¤šæ—¶é—´æ¡†æ¶Kçº¿æ•°æ®

---

## ğŸ’¾ ä¸‰ã€æœ¬åœ°æ–‡ä»¶æ•°æ®ï¼ˆæ¿å—æ•°æ®ï¼‰

### æ•°æ®æ¥æº
- **æ–‡ä»¶ä½ç½®**: é€šè¾¾ä¿¡å®‰è£…ç›®å½• `/T0002/hq_cache/`
- **æ–‡ä»¶æ ¼å¼**: äºŒè¿›åˆ¶.datæ–‡ä»¶
- **è¯»å–æ–¹å¼**: PyTDX BlockReader

### æ ¸å¿ƒè„šæœ¬
- **ä¸»è„šæœ¬**: `src/adapters/tdx/tdx_block_reader.py`
- **æœåŠ¡ç±»**: `TdxBlockReader`
- **ä¾èµ–**: PyTDXçš„`block_reader`æ¨¡å—

### 3.1 æŒ‡æ•°æ¿å—æ•°æ®

**æ–¹æ³•**: `get_index_blocks(result_type='flat')`

**æ–‡ä»¶**: `T0002/hq_cache/block_zs.dat`

**è¿”å›æ ¼å¼**:

**æ‰å¹³æ ¼å¼** (`flat`):
```python
{
    "blockname": "æ¿å—åç§°",
    "block_type": "æ¿å—ç±»å‹ä»£ç ",
    "code_index": "è‚¡ç¥¨ç´¢å¼•",
    "code": "è‚¡ç¥¨ä»£ç "
}
```

**åˆ†ç»„æ ¼å¼** (`group`):
```python
{
    "blockname": "æ¿å—åç§°",
    "block_type": "æ¿å—ç±»å‹ä»£ç ",
    "stock_count": "è‚¡ç¥¨æ•°é‡",
    "code_list": "è‚¡ç¥¨åˆ—è¡¨"
}
```

**ä¿¡æ¯ç±»åˆ«**: æŒ‡æ•°æˆåˆ†è‚¡åˆ†ç±»

**æ›´æ–°é¢‘ç‡**: æ¯æ—¥æ›´æ–°ï¼ˆéšé€šè¾¾ä¿¡è½¯ä»¶æ›´æ–°ï¼‰

**æ•°æ®ç±»å‹**: æ¿å—åˆ†ç±»ã€æˆåˆ†è‚¡åˆ—è¡¨

---

### 3.2 é£æ ¼æ¿å—æ•°æ®

**æ–¹æ³•**: `get_style_blocks(result_type='flat')`

**æ–‡ä»¶**: `T0002/hq_cache/block_fg.dat`

**è¿”å›æ ¼å¼**: åŒ3.1

**æ¿å—ç¤ºä¾‹**:
- å¤§ç›˜è‚¡
- å°ç›˜è‚¡
- ä»·å€¼è‚¡
- æˆé•¿è‚¡
- ç­‰ç­‰

**ä¿¡æ¯ç±»åˆ«**: æŠ•èµ„é£æ ¼åˆ†ç±»

**æ•°æ®ç±»å‹**: é£æ ¼æ ‡ç­¾ã€è‚¡ç¥¨åˆ†ç»„

---

### 3.3 æ¦‚å¿µæ¿å—æ•°æ®

**æ–¹æ³•**: `get_concept_blocks(result_type='flat')`

**æ–‡ä»¶**: `T0002/hq_cache/block_gn.dat`

**è¿”å›æ ¼å¼**: åŒ3.1

**æ¿å—ç¤ºä¾‹**:
- æ–°èƒ½æº
- äººå·¥æ™ºèƒ½
- èŠ¯ç‰‡åŠå¯¼ä½“
- å›½é˜²å†›å·¥
- ç­‰ç­‰

**ä¿¡æ¯ç±»åˆ«**: çƒ­é—¨æ¦‚å¿µé¢˜æåˆ†ç±»

**æ•°æ®ç±»å‹**: æ¦‚å¿µæ ‡ç­¾ã€é¢˜æè‚¡ç¥¨

---

### 3.4 é»˜è®¤æ¿å—æ•°æ®

**æ–¹æ³•**: `get_default_blocks(result_type='flat')`

**æ–‡ä»¶**: `T0002/hq_cache/block.dat`

**è¿”å›æ ¼å¼**: åŒ3.1

**ä¿¡æ¯ç±»åˆ«**: é€šè¾¾ä¿¡é»˜è®¤æ¿å—åˆ†ç±»

**æ•°æ®ç±»å‹**: é€šç”¨æ¿å—åˆ†ç±»

---

### 3.5 æ‰€æœ‰æ¿å—æ•°æ®ï¼ˆåˆå¹¶ï¼‰

**æ–¹æ³•**: `get_all_blocks(result_type='flat')`

**åŠŸèƒ½**: åˆå¹¶4ç§æ¿å—ç±»å‹çš„æ•°æ®

**è¿”å›æ ¼å¼**: åŒ3.1ï¼ˆåŒ…å«æ‰€æœ‰æ¿å—ç±»å‹ï¼‰

**ä¿¡æ¯ç±»åˆ«**: å…¨å±€æ¿å—è§†å›¾

**æ•°æ®ç±»å‹**: ç»¼åˆæ¿å—åˆ†ç±»

---

### 3.6 è‚¡ç¥¨æ‰€å±æ¿å—æŸ¥è¯¢

**æ–¹æ³•**: `get_stock_blocks(stock_code: str)`

**å‚æ•°**:
- `stock_code`: 6ä½è‚¡ç¥¨ä»£ç ï¼ˆå¦‚: '600519'ï¼‰

**è¿”å›**:
```python
[
    {
        "blockname": "ç™½é…’",
        "block_type": "æ¦‚å¿µ"
    },
    {
        "blockname": "è´µå·æ¿å—",
        "block_type": "åŒºåŸŸ"
    },
    # ... æ›´å¤šæ¿å—
]
```

**ä¿¡æ¯ç±»åˆ«**: è‚¡ç¥¨å±æ€§ã€åˆ†ç±»æ ‡ç­¾

**æ•°æ®ç±»å‹**: è‚¡ç¥¨-æ¿å—å…³ç³»æ˜ å°„

---

### 3.7 æ¿å—åŒ…å«è‚¡ç¥¨æŸ¥è¯¢

**æ–¹æ³•**: `get_block_stocks(block_name: str)`

**å‚æ•°**:
- `block_name`: æ¿å—åç§°

**è¿”å›**: è¯¥æ¿å—åŒ…å«çš„æ‰€æœ‰è‚¡ç¥¨ä»£ç åˆ—è¡¨

**ä¿¡æ¯ç±»åˆ«**: æ¿å—æˆåˆ†è‚¡

**æ•°æ®ç±»å‹**: æ¿å—-è‚¡ç¥¨å…³ç³»æ˜ å°„

---

## ğŸ¯ å››ã€æ•°æ®ä½¿ç”¨åœºæ™¯

### 4.1 å®æ—¶ç›‘æ§åœºæ™¯
**æ•°æ®ç±»å‹**: è¿œç¨‹å®æ—¶æ•°æ®
- è‚¡ç¥¨å®æ—¶è¡Œæƒ…ç›‘æ§
- æ¶¨è·Œå¹…ç›‘æ§
- æˆäº¤é‡å¼‚å¸¸ç›‘æ§
- ä¼°å€¼æŒ‡æ ‡ç›‘æ§

### 4.2 æŠ€æœ¯åˆ†æåœºæ™¯
**æ•°æ®ç±»å‹**: è¿œç¨‹å†å²æ•°æ®
- Kçº¿å›¾è¡¨ç»˜åˆ¶
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—ï¼ˆMACD, KDJ, RSIç­‰ï¼‰
- å¤šæ—¶é—´æ¡†æ¶åˆ†æ
- å›æµ‹ç³»ç»Ÿæ•°æ®æº

### 4.3 é€‰è‚¡ç­›é€‰åœºæ™¯
**æ•°æ®ç±»å‹**: æœ¬åœ°æ¿å—æ•°æ® + è¿œç¨‹å†å²æ•°æ®
- æ¿å—è½®åŠ¨ç­–ç•¥
- æ¦‚å¿µé¢˜æç­›é€‰
- æˆåˆ†è‚¡åˆ†æ
- è¡Œä¸šæ¯”è¾ƒç ”ç©¶

### 4.4 åŸºæœ¬é¢åˆ†æåœºæ™¯
**æ•°æ®ç±»å‹**: è¿œç¨‹å®æ—¶æ•°æ® + è¿œç¨‹å†å²æ•°æ®
- è´¢åŠ¡æŒ‡æ ‡åˆ†æï¼ˆPE, PBç­‰ï¼‰
- ä¼°å€¼åˆ†æ
- ä¸šç»©è¶‹åŠ¿åˆ†æ
- è¡Œä¸šå¯¹æ¯”ç ”ç©¶

---

## ğŸ”§ äº”ã€é…ç½®ä¸ç®¡ç†

### 5.1 æœåŠ¡å™¨é…ç½®

**é…ç½®æ–‡ä»¶**: `config/tdx_settings.conf`

**æœåŠ¡å™¨åˆ—è¡¨** (6ä¸ªï¼Œä¼˜å…ˆçº§é¡ºåº):
1. **127.0.0.1:7709** - æœ¬åœ°é€šè¾¾ä¿¡ï¼ˆæœ€ä¼˜å…ˆï¼‰
2. 180.153.18.170:7709
3. 101.227.73.20:7709
4. 119.147.212.81:7709
5. 114.80.63.12:7709
6. 60.12.136.250:7709

**è‡ªåŠ¨æ•…éšœè½¬ç§»**: å½“å‰æœåŠ¡å™¨ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨å°è¯•ä¸‹ä¸€ä¸ªæœåŠ¡å™¨

### 5.2 æ€§èƒ½é…ç½®

```ini
[PERFORMANCE]
connect_timeout = 5        # è¿æ¥è¶…æ—¶ï¼ˆç§’ï¼‰
api_timeout = 30           # APIè°ƒç”¨è¶…æ—¶ï¼ˆç§’ï¼‰
retry_count = 3            # é‡è¯•æ¬¡æ•°
auto_retry_enabled = true  # è‡ªåŠ¨é‡è¯•
```

### 5.3 æœ¬åœ°æ–‡ä»¶è·¯å¾„é…ç½®

```ini
[TDX]
install_path = /mnt/d/ProgramData/tdx_new
local_host = 127.0.0.1
local_port = 7709
```

**æ¿å—æ–‡ä»¶è·¯å¾„**:
- `T0002/hq_cache/block_zs.dat` - æŒ‡æ•°æ¿å—
- `T0002/hq_cache/block_fg.dat` - é£æ ¼æ¿å—
- `T0002/hq_cache/block_gn.dat` - æ¦‚å¿µæ¿å—
- `T0002/hq_cache/block.dat` - é»˜è®¤æ¿å—

---

## ğŸ“¦ å…­ã€æ¨¡å—å¯¼å…¥ä¸ä½¿ç”¨

### 6.1 å¿«é€Ÿå¯¼å…¥

```python
# æ–¹å¼1: å¯¼å…¥å…·ä½“ç±»
from src.adapters.tdx import TdxDataSource, TdxBlockReader

# æ–¹å¼2: å¯¼å…¥é…ç½®å‡½æ•°
from src.adapters.tdx import get_tdx_config, get_tdx_server_list

# æ–¹å¼3: å¯¼å…¥æœåŠ¡ç±»
from src.adapters.tdx import RealtimeService, KlineDataService
```

### 6.2 å®æ—¶æ•°æ®ç¤ºä¾‹

```python
from src.adapters.tdx import TdxDataSource

tdx = TdxDataSource()

# è·å–å®æ—¶è¡Œæƒ…
data = tdx.get_real_time_data("600519")
print(f"å½“å‰ä»·æ ¼: {data['price']}, æ¶¨è·Œå¹…: {data['change_pct']}%")

# æ‰¹é‡è·å–å®æ—¶è¡Œæƒ…
symbols = ["600519", "000001", "000002"]
batch_data = tdx.get_batch_real_time_data(symbols)
```

### 6.3 å†å²Kçº¿ç¤ºä¾‹

```python
from src.adapters.tdx import TdxDataSource

tdx = TdxDataSource()

# è·å–æ—¥çº¿æ•°æ®
df = tdx.get_stock_daily(
    symbol="600519",
    start_date="2024-01-01",
    end_date="2024-12-31",
    adjust="qfq"
)
print(df.head())

# è·å–åˆ†é’ŸKçº¿
df_min = tdx.get_minute_kline(
    symbol="600519",
    period="5min",
    count=240
)
```

### 6.4 æ¿å—æ•°æ®ç¤ºä¾‹

```python
from src.adapters.tdx import TdxBlockReader, get_tdx_path

# åˆ›å»ºæ¿å—è¯»å–å™¨
reader = TdxBlockReader(get_tdx_path())

# è·å–æ¦‚å¿µæ¿å—
df_concept = reader.get_concept_blocks()
print(f"å…±æœ‰ {df_concept['blockname'].nunique()} ä¸ªæ¦‚å¿µæ¿å—")

# æŸ¥è¯¢è‚¡ç¥¨æ‰€å±æ¿å—
blocks = reader.get_stock_blocks("600519")
for block in blocks:
    print(f"{block['blockname']} ({block['block_type']})")

# æŸ¥è¯¢æ¿å—åŒ…å«çš„è‚¡ç¥¨
stocks = reader.get_block_stocks("æ–°èƒ½æº")
print(f"æ–°èƒ½æºæ¿å—å…± {len(stocks)} åªè‚¡ç¥¨")
```

---

## ğŸ“Š ä¸ƒã€æ•°æ®å­—æ®µæ€»ç»“è¡¨

### 7.1 å®æ—¶è¡Œæƒ…å­—æ®µï¼ˆ15ä¸ªï¼‰

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| symbol | str | è‚¡ç¥¨ä»£ç  | "600519" |
| name | str | è‚¡ç¥¨åç§° | "è´µå·èŒ…å°" |
| price | float | å½“å‰ä»·æ ¼ | 1680.50 |
| open | float | å¼€ç›˜ä»· | 1675.00 |
| high | float | æœ€é«˜ä»· | 1690.00 |
| low | float | æœ€ä½ä»· | 1670.00 |
| pre_close | float | æ˜¨æ”¶ä»· | 1670.00 |
| change | float | æ¶¨è·Œé¢ | +10.50 |
| change_pct | float | æ¶¨è·Œå¹…(%) | +0.63 |
| volume | int | æˆäº¤é‡(æ‰‹) | 25000 |
| amount | float | æˆäº¤é¢(å…ƒ) | 4.2äº¿ |
| turnover | float | æ¢æ‰‹ç‡(%) | 0.25 |
| pe | float | å¸‚ç›ˆç‡ | 35.5 |
| pb | float | å¸‚å‡€ç‡ | 12.8 |
| market | str | å¸‚åœº | "ä¸Šäº¤æ‰€" |

### 7.2 Kçº¿æ•°æ®å­—æ®µï¼ˆ19ä¸ªï¼‰

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| datetime | datetime | äº¤æ˜“æ—¶é—´ | 2024-01-01 09:30:00 |
| open | float | å¼€ç›˜ä»· | 1675.00 |
| high | float | æœ€é«˜ä»· | 1690.00 |
| low | float | æœ€ä½ä»· | 1670.00 |
| close | float | æ”¶ç›˜ä»· | 1680.50 |
| volume | int | æˆäº¤é‡(æ‰‹) | 25000 |
| amount | float | æˆäº¤é¢(å…ƒ) | 4.2äº¿ |
| turnover | float | æ¢æ‰‹ç‡(%) | 0.25 |
| change | float | æ¶¨è·Œé¢ | +10.50 |
| change_pct | float | æ¶¨è·Œå¹…(%) | +0.63 |
| ma5 | float | 5æ—¥å‡çº¿ | 1678.00 |
| ma10 | float | 10æ—¥å‡çº¿ | 1675.00 |
| ma20 | float | 20æ—¥å‡çº¿ | 1670.00 |
| ma60 | float | 60æ—¥å‡çº¿ | 1665.00 |
| v_ma5 | float | 5æ—¥å‡é‡ | 24000 |
| v_ma10 | float | 10æ—¥å‡é‡ | 23000 |
| v_ma20 | float | 20æ—¥å‡é‡ | 22000 |
| v_ma60 | float | 60æ—¥å‡é‡ | 21000 |
| symbol | str | è‚¡ç¥¨ä»£ç  | "600519" |

### 7.3 æ¿å—æ•°æ®å­—æ®µï¼ˆ4-5ä¸ªï¼‰

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|------|
| blockname | str | æ¿å—åç§° | "æ–°èƒ½æº" |
| block_type | int | æ¿å—ç±»å‹ä»£ç  | 1 |
| code_index | int | è‚¡ç¥¨ç´¢å¼• | 0 |
| code | str | è‚¡ç¥¨ä»£ç  | "600519" |
| stock_count | int | è‚¡ç¥¨æ•°é‡ | 150 |

---

## âš¡ å…«ã€æ€§èƒ½ç‰¹ç‚¹

### 8.1 è¿æ¥å¯é æ€§
- **æœ¬åœ°ä¼˜å…ˆ**: ä¼˜å…ˆä½¿ç”¨æœ¬åœ°é€šè¾¾ä¿¡ï¼ˆæœ€å¿«ï¼‰
- **è‡ªåŠ¨åˆ‡æ¢**: 6ä¸ªæœåŠ¡å™¨è‡ªåŠ¨æ•…éšœè½¬ç§»
- **è¿æ¥è¶…æ—¶**: 5ç§’è¶…æ—¶ä¿æŠ¤
- **è‡ªåŠ¨é‡è¯•**: å¤±è´¥è‡ªåŠ¨é‡è¯•3æ¬¡

### 8.2 æ•°æ®å®Œæ•´æ€§
- **å®æ—¶æ•°æ®**: äº¤æ˜“æ—¶é—´å†…ç§’çº§æ›´æ–°
- **å†å²æ•°æ®**: æ”¯æŒä»»æ„æ—¥æœŸèŒƒå›´æŸ¥è¯¢
- **æŠ€æœ¯æŒ‡æ ‡**: è‡ªåŠ¨è®¡ç®—7ä¸ªå‡çº¿æŒ‡æ ‡
- **å¤æƒå¤„ç†**: æ”¯æŒå‰å¤æƒã€åå¤æƒã€ä¸å¤æƒ

### 8.3 æœ¬åœ°æ•°æ®ä¼˜åŠ¿
- **é›¶å»¶è¿Ÿ**: æœ¬åœ°æ–‡ä»¶ç›´æ¥è¯»å–ï¼Œæ— ç½‘ç»œå»¶è¿Ÿ
- **ç¦»çº¿å¯ç”¨**: ä¸ä¾èµ–ç½‘ç»œè¿æ¥
- **å®Œæ•´æ€§**: åŒ…å«é€šè¾¾ä¿¡å…¨éƒ¨æ¿å—åˆ†ç±»

---

## ğŸš€ ä¹ã€æœªæ¥å¢å¼ºè®¡åˆ’

### å·²å®ç° âœ…
- [x] é…ç½®ç®¡ç†ç³»ç»Ÿï¼ˆæœ¬åœ°+ç½‘ç»œæœåŠ¡å™¨ï¼‰
- [x] æ¿å—æ•°æ®æœ¬åœ°è¯»å–ï¼ˆ4ç§ç±»å‹ï¼‰
- [x] Kçº¿æ—¥çº¿æ•°æ®
- [x] å®æ—¶è¡Œæƒ…æ•°æ®
- [x] åˆ†é’ŸKçº¿æ•°æ®

### è®¡åˆ’ä¸­ â³
- [ ] æ‰©å±•Kçº¿å‘¨æœŸï¼ˆå‘¨çº¿ã€æœˆçº¿ã€å­£çº¿ã€å¹´çº¿ï¼‰
- [ ] è´¢åŠ¡æ•°æ®æ¥å£
- [ ] è‚¡ç¥¨èµ„é‡‘æµå‘æ•°æ®
- [ ] é¾™è™æ¦œæ•°æ®
- [ ] äº¤æ˜“æ—¥å†æ•°æ®

---

## ğŸ“š åã€ç›¸å…³æ–‡æ¡£

- **é‡ç»„æŠ¥å‘Š**: `docs/reports/TDX_REORGANIZATION_REPORT.md`
- **é…ç½®æ–‡ä»¶**: `config/tdx_settings.conf`
- **æµ‹è¯•è„šæœ¬**: `scripts/tests/test_tdx_config.py`
- **PyTDXæ–‡æ¡£**: `/opt/iflow/tdxpy/`

---

**æ–‡æ¡£ç»´æŠ¤**: MyStocks Project
**æœ€åæ›´æ–°**: 2026-01-02
**ç‰ˆæœ¬**: v1.0
