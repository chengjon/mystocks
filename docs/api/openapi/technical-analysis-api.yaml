openapi: 3.1.0
info:
  title: MyStocks Web API
  description: '

    # MyStocks é‡åŒ–äº¤æ˜“æ•°æ®ç®¡ç†ç³»ç»Ÿ Web API


    MyStocksæ˜¯ä¸€ä¸ªä¸“ä¸šçš„é‡åŒ–äº¤æ˜“æ•°æ®ç®¡ç†ç³»ç»Ÿï¼Œæä¾›å…¨é¢çš„è‚¡ç¥¨å¸‚åœºæ•°æ®è·å–ã€åˆ†æå’Œç®¡ç†åŠŸèƒ½ã€‚


    ## ä¸»è¦åŠŸèƒ½æ¨¡å—


    ### ğŸ“Š å¸‚åœºæ•°æ® (Market Data)

    - å®æ—¶è¡Œæƒ…æ•°æ®è·å–

    - å†å²Kçº¿æ•°æ®æŸ¥è¯¢

    - èµ„é‡‘æµå‘åˆ†æ

    - ETFæ•°æ®åˆ†æ

    - ç­¹ç åˆ†å¸ƒæ•°æ®


    ### ğŸ’¾ ç¼“å­˜ç®¡ç† (Cache Management)

    - TDengineæ—¶åºæ•°æ®åº“ç¼“å­˜

    - ç¼“å­˜ç»Ÿè®¡å’Œç›‘æ§

    - ç¼“å­˜æ·˜æ±°ç­–ç•¥

    - ç¼“å­˜é¢„çƒ­åŠŸèƒ½


    ### ğŸ“ˆ æŠ€æœ¯æŒ‡æ ‡ (Technical Indicators)

    - å¸¸ç”¨æŠ€æœ¯æŒ‡æ ‡è®¡ç®—

    - è‡ªå®šä¹‰æŒ‡æ ‡æ”¯æŒ

    - å®æ—¶æŒ‡æ ‡æ¨é€


    ### ğŸ¤– æœºå™¨å­¦ä¹  (Machine Learning)

    - è‚¡ç¥¨é¢„æµ‹æ¨¡å‹

    - ç‰¹å¾å·¥ç¨‹

    - æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°


    ### ğŸ“‹ ç­–ç•¥ç®¡ç† (Strategy Management)

    - ç­–ç•¥åˆ›å»ºå’Œé…ç½®

    - å›æµ‹ç³»ç»Ÿ

    - é£é™©ç®¡ç†


    ### ğŸ”” å®æ—¶æ¨é€ (Real-time Push)

    - WebSocketå®æ—¶æ•°æ®æ¨é€

    - SSE (Server-Sent Events) æµå¼æ¨é€

    - å‘Šè­¦é€šçŸ¥


    ### ğŸ” è®¤è¯æˆæƒ (Authentication)

    - JWT Tokenè®¤è¯

    - CSRFä¿æŠ¤

    - æƒé™ç®¡ç†


    ## æ¶æ„ç‰¹ç‚¹


    - **åŒæ•°æ®åº“æ¶æ„**: TDengine (æ—¶åºæ•°æ®) + PostgreSQL (å…³ç³»æ•°æ®)

    - **ç»Ÿä¸€å“åº”æ ¼å¼**: æ‰€æœ‰APIéµå¾ªæ ‡å‡†åŒ–å“åº”ç»“æ„

    - **å®Œæ•´ç›‘æ§ä½“ç³»**: æ€§èƒ½ç›‘æ§ã€æ•°æ®è´¨é‡ç›‘æ§ã€å‘Šè­¦ç³»ç»Ÿ

    - **é…ç½®é©±åŠ¨**: YAMLé…ç½®é©±åŠ¨çš„è¡¨ç®¡ç†å’Œè‡ªåŠ¨åŒ–


    ## æŠ€æœ¯æ ˆ


    - **åç«¯æ¡†æ¶**: FastAPI 0.104+ (Python 3.9+)

    - **æ•°æ®åº“**: TDengine 3.x, PostgreSQL 15+

    - **ç¼“å­˜**: TDengine æ—¶åºç¼“å­˜

    - **å¼‚æ­¥**: asyncio, httpx

    - **æ•°æ®éªŒè¯**: Pydantic v2

    - **æ—¥å¿—**: structlog


    ## è”ç³»æ–¹å¼


    - é¡¹ç›®æ–‡æ¡£: `/api/docs` (Swagger UI)

    - å¤‡ç”¨æ–‡æ¡£: `/api/redoc` (ReDoc)

    - å¥åº·æ£€æŸ¥: `/health`


    ---


    **Version**: 2.0.0

    **Last Updated**: 2025-11-06

    **Environment**: Production

    '
  version: 2.0.0
paths:
  /api/technical/{symbol}/indicators:
    get:
      tags:
      - technical-analysis
      - technical-analysis
      summary: Get All Indicators
      description: 'è·å–è‚¡ç¥¨çš„æ‰€æœ‰æŠ€æœ¯æŒ‡æ ‡


        å‚æ•°:

        - symbol: è‚¡ç¥¨ä»£ç  (å¦‚: 600519)

        - period: æ•°æ®å‘¨æœŸ (daily, weekly, monthly)

        - start_date: å¼€å§‹æ—¥æœŸ (å¯é€‰)

        - end_date: ç»“æŸæ—¥æœŸ (å¯é€‰)

        - limit: æ•°æ®ç‚¹æ•°é‡é™åˆ¶ (å¯é€‰)


        è¿”å›:

        - åŒ…å«è¶‹åŠ¿ã€åŠ¨é‡ã€æ³¢åŠ¨æ€§ã€æˆäº¤é‡æŒ‡æ ‡çš„ç»¼åˆæ•°æ®


        **éªŒè¯**: P0æ”¹è¿› Task 2 - ä½¿ç”¨TechnicalIndicatorQueryModeléªŒè¯å‚æ•°


        ç¤ºä¾‹:

        - GET /api/technical/600519/indicators

        - GET /api/technical/600519/indicators?period=weekly

        - GET /api/technical/600519/indicators?start_date=2024-01-01&end_date=2025-10-23'
      operationId: get_all_indicators_api_technical__symbol__indicators_get
      parameters:
      - name: symbol
        in: path
        required: true
        schema:
          type: string
          minLength: 1
          maxLength: 20
          description: è‚¡ç¥¨ä»£ç 
          title: Symbol
        description: è‚¡ç¥¨ä»£ç 
      - name: period
        in: query
        required: false
        schema:
          type: string
          pattern: ^(daily|weekly|monthly)$
          description: 'æ•°æ®å‘¨æœŸ: daily, weekly, monthly'
          default: daily
          title: Period
        description: 'æ•°æ®å‘¨æœŸ: daily, weekly, monthly'
      - name: start_date
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          description: å¼€å§‹æ—¥æœŸ YYYY-MM-DD
          title: Start Date
        description: å¼€å§‹æ—¥æœŸ YYYY-MM-DD
      - name: end_date
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          description: ç»“æŸæ—¥æœŸ YYYY-MM-DD
          title: End Date
        description: ç»“æŸæ—¥æœŸ YYYY-MM-DD
      - name: limit
        in: query
        required: false
        schema:
          anyOf:
          - type: integer
            maximum: 5000
            minimum: 10
          - type: 'null'
          description: æ•°æ®ç‚¹æ•°é‡é™åˆ¶
          title: Limit
        description: æ•°æ®ç‚¹æ•°é‡é™åˆ¶
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllIndicatorsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/technical/{symbol}/trend:
    get:
      tags:
      - technical-analysis
      - technical-analysis
      summary: è·å–è¶‹åŠ¿æŒ‡æ ‡
      description: 'è·å–è¶‹åŠ¿æŒ‡æ ‡


        åŒ…æ‹¬:

        - MA (ç§»åŠ¨å¹³å‡çº¿): 5, 10, 20, 30, 60, 120, 250æ—¥

        - EMA (æŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿): 12, 26, 50æ—¥

        - MACD (æŒ‡æ•°å¹³æ»‘å¼‚åŒç§»åŠ¨å¹³å‡çº¿)

        - DMI (åŠ¨å‘æŒ‡æ ‡): ADX, +DI, -DI

        - SAR (æŠ›ç‰©çº¿è½¬å‘æŒ‡æ ‡)


        **éªŒè¯**: P0æ”¹è¿› Task 2 - ä½¿ç”¨StockSymbolModeléªŒè¯è‚¡ç¥¨ä»£ç 


        ç¤ºä¾‹:

        - GET /api/technical/600519/trend'
      operationId: get_trend_indicators_api_technical__symbol__trend_get
      parameters:
      - name: symbol
        in: path
        required: true
        schema:
          type: string
          minLength: 1
          maxLength: 20
          pattern: ^[A-Z0-9.]+$
          description: è‚¡ç¥¨ä»£ç 
          title: Symbol
        description: è‚¡ç¥¨ä»£ç 
      - name: period
        in: query
        required: false
        schema:
          type: string
          pattern: ^(daily|weekly|monthly)$
          description: æ•°æ®å‘¨æœŸ
          default: daily
          title: Period
        description: æ•°æ®å‘¨æœŸ
      - name: ma_periods
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          description: 'è‡ªå®šä¹‰MAå‘¨æœŸï¼Œé€—å·åˆ†éš”ï¼Œå¦‚: 5,10,20'
          title: Ma Periods
        description: 'è‡ªå®šä¹‰MAå‘¨æœŸï¼Œé€—å·åˆ†éš”ï¼Œå¦‚: 5,10,20'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/technical/{symbol}/momentum:
    get:
      tags:
      - technical-analysis
      - technical-analysis
      summary: Get Momentum Indicators
      description: 'è·å–åŠ¨é‡æŒ‡æ ‡


        åŒ…æ‹¬:

        - RSI (ç›¸å¯¹å¼ºå¼±æŒ‡æ ‡): 6, 12, 24æ—¥

        - KDJ (éšæœºæŒ‡æ ‡): K, D, J

        - CCI (é¡ºåŠ¿æŒ‡æ ‡)

        - WR (å¨å»‰æŒ‡æ ‡)

        - ROC (å˜åŠ¨ç‡æŒ‡æ ‡)


        **éªŒè¯**: P0æ”¹è¿› Task 2 - ä½¿ç”¨StockSymbolModeléªŒè¯è‚¡ç¥¨ä»£ç 


        ç¤ºä¾‹:

        - GET /api/technical/600519/momentum'
      operationId: get_momentum_indicators_api_technical__symbol__momentum_get
      parameters:
      - name: symbol
        in: path
        required: true
        schema:
          type: string
          title: Symbol
      - name: period
        in: query
        required: false
        schema:
          type: string
          description: æ•°æ®å‘¨æœŸ
          default: daily
          title: Period
        description: æ•°æ®å‘¨æœŸ
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                title: Response Get Momentum Indicators Api Technical  Symbol  Momentum
                  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/technical/{symbol}/volatility:
    get:
      tags:
      - technical-analysis
      - technical-analysis
      summary: Get Volatility Indicators
      description: 'è·å–æ³¢åŠ¨æ€§æŒ‡æ ‡


        åŒ…æ‹¬:

        - Bollinger Bands (å¸ƒæ—å¸¦): upper, middle, lower, width

        - ATR (å¹³å‡çœŸå®æ³¢å¹…)

        - Keltner Channel (è‚¯ç‰¹çº³é€šé“)

        - Standard Deviation (æ ‡å‡†å·®)


        **éªŒè¯**: P0æ”¹è¿› Task 2 - ä½¿ç”¨StockSymbolModeléªŒè¯è‚¡ç¥¨ä»£ç 


        ç¤ºä¾‹:

        - GET /api/technical/600519/volatility'
      operationId: get_volatility_indicators_api_technical__symbol__volatility_get
      parameters:
      - name: symbol
        in: path
        required: true
        schema:
          type: string
          title: Symbol
      - name: period
        in: query
        required: false
        schema:
          type: string
          description: æ•°æ®å‘¨æœŸ
          default: daily
          title: Period
        description: æ•°æ®å‘¨æœŸ
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                title: Response Get Volatility Indicators Api Technical  Symbol  Volatility
                  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/technical/{symbol}/volume:
    get:
      tags:
      - technical-analysis
      - technical-analysis
      summary: Get Volume Indicators
      description: 'è·å–æˆäº¤é‡æŒ‡æ ‡


        åŒ…æ‹¬:

        - OBV (èƒ½é‡æ½®æŒ‡æ ‡)

        - VWAP (æˆäº¤é‡åŠ æƒå¹³å‡ä»·)

        - Volume MA (æˆäº¤é‡å‡çº¿): 5, 10æ—¥

        - Volume Ratio (é‡æ¯”)


        **éªŒè¯**: P0æ”¹è¿› Task 2 - ä½¿ç”¨StockSymbolModeléªŒè¯è‚¡ç¥¨ä»£ç 


        ç¤ºä¾‹:

        - GET /api/technical/600519/volume'
      operationId: get_volume_indicators_api_technical__symbol__volume_get
      parameters:
      - name: symbol
        in: path
        required: true
        schema:
          type: string
          title: Symbol
      - name: period
        in: query
        required: false
        schema:
          type: string
          description: æ•°æ®å‘¨æœŸ
          default: daily
          title: Period
        description: æ•°æ®å‘¨æœŸ
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                title: Response Get Volume Indicators Api Technical  Symbol  Volume
                  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/technical/{symbol}/signals:
    get:
      tags:
      - technical-analysis
      - technical-analysis
      summary: Get Trading Signals
      description: 'è·å–äº¤æ˜“ä¿¡å·


        åŸºäºæŠ€æœ¯æŒ‡æ ‡ç”Ÿæˆä¹°å…¥/å–å‡º/æŒæœ‰ä¿¡å·


        ä¿¡å·ç±»å‹:

        - macd_golden_cross: MACDé‡‘å‰ (ä¹°å…¥ä¿¡å·)

        - macd_death_cross: MACDæ­»å‰ (å–å‡ºä¿¡å·)

        - rsi_oversold: RSIè¶…å– (ä¹°å…¥ä¿¡å·)

        - rsi_overbought: RSIè¶…ä¹° (å–å‡ºä¿¡å·)


        **éªŒè¯**: P0æ”¹è¿› Task 2 - ä½¿ç”¨StockSymbolModeléªŒè¯è‚¡ç¥¨ä»£ç 


        ç¤ºä¾‹:

        - GET /api/technical/600519/signals'
      operationId: get_trading_signals_api_technical__symbol__signals_get
      parameters:
      - name: symbol
        in: path
        required: true
        schema:
          type: string
          title: Symbol
      - name: period
        in: query
        required: false
        schema:
          type: string
          description: æ•°æ®å‘¨æœŸ
          default: daily
          title: Period
        description: æ•°æ®å‘¨æœŸ
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                title: Response Get Trading Signals Api Technical  Symbol  Signals
                  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/technical/{symbol}/history:
    get:
      tags:
      - technical-analysis
      - technical-analysis
      summary: Get Stock History
      description: 'è·å–è‚¡ç¥¨å†å²è¡Œæƒ…æ•°æ®


        ç”¨äºå‰ç«¯ç»˜åˆ¶ K çº¿å›¾å’ŒæŒ‡æ ‡å›¾è¡¨


        å‚æ•°:

        - symbol: è‚¡ç¥¨ä»£ç 

        - period: å‘¨æœŸ (daily, weekly, monthly)

        - start_date: å¼€å§‹æ—¥æœŸ (å¯é€‰)

        - end_date: ç»“æŸæ—¥æœŸ (å¯é€‰)

        - limit: è¿”å›æ•°æ®ç‚¹æ•°é‡ (é»˜è®¤100ï¼Œæœ€å¤š1000)


        è¿”å›:

        - OHLCV æ•°æ®åŠåŸºç¡€æŒ‡æ ‡


        ç¤ºä¾‹:

        - GET /api/technical/600519/history?limit=200

        - GET /api/technical/600519/history?start_date=2024-01-01'
      operationId: get_stock_history_api_technical__symbol__history_get
      parameters:
      - name: symbol
        in: path
        required: true
        schema:
          type: string
          title: Symbol
      - name: period
        in: query
        required: false
        schema:
          type: string
          description: æ•°æ®å‘¨æœŸ
          default: daily
          title: Period
        description: æ•°æ®å‘¨æœŸ
      - name: start_date
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          description: å¼€å§‹æ—¥æœŸ
          title: Start Date
        description: å¼€å§‹æ—¥æœŸ
      - name: end_date
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          description: ç»“æŸæ—¥æœŸ
          title: End Date
        description: ç»“æŸæ—¥æœŸ
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          maximum: 1000
          minimum: 10
          description: è¿”å›æ•°æ®ç‚¹æ•°é‡
          default: 100
          title: Limit
        description: è¿”å›æ•°æ®ç‚¹æ•°é‡
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/technical/batch/indicators:
    post:
      tags:
      - technical-analysis
      - technical-analysis
      summary: Get Batch Indicators
      description: 'æ‰¹é‡è·å–å¤šåªè‚¡ç¥¨çš„æŠ€æœ¯æŒ‡æ ‡


        å‚æ•°:

        - symbols: è‚¡ç¥¨ä»£ç åˆ—è¡¨ (æœ€å¤š20åª)


        ç¤ºä¾‹:

        - POST /api/technical/batch/indicators?symbols=600519&symbols=000001&symbols=600000'
      operationId: get_batch_indicators_api_technical_batch_indicators_post
      parameters:
      - name: symbols
        in: query
        required: true
        schema:
          type: array
          items:
            type: string
          description: è‚¡ç¥¨ä»£ç åˆ—è¡¨
          title: Symbols
        description: è‚¡ç¥¨ä»£ç åˆ—è¡¨
      - name: period
        in: query
        required: false
        schema:
          type: string
          description: æ•°æ®å‘¨æœŸ
          default: daily
          title: Period
        description: æ•°æ®å‘¨æœŸ
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/technical/patterns/{symbol}:
    get:
      tags:
      - technical-analysis
      - technical-analysis
      summary: Detect Patterns
      description: 'æ£€æµ‹æŠ€æœ¯å½¢æ€ (é¢„ç•™åŠŸèƒ½)


        å°†å®ç°:

        - å¤´è‚©é¡¶/åº•

        - åŒé¡¶/åº•

        - ä¸‰è§’å½¢æ•´ç†

        - çŸ©å½¢æ•´ç†

        - æ——å½¢ã€æ¥”å½¢

        ç­‰å¸¸è§å½¢æ€


        ç¤ºä¾‹:

        - GET /api/technical/patterns/600519'
      operationId: detect_patterns_api_technical_patterns__symbol__get
      parameters:
      - name: symbol
        in: path
        required: true
        schema:
          type: string
          title: Symbol
      - name: period
        in: query
        required: false
        schema:
          type: string
          description: æ•°æ®å‘¨æœŸ
          default: daily
          title: Period
        description: æ•°æ®å‘¨æœŸ
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
components:
  schemas:
    APIResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ“ä½œæ˜¯å¦æˆåŠŸ
          default: true
        data:
          anyOf:
          - {}
          - type: 'null'
          title: Data
          description: å“åº”æ•°æ®
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
          description: å“åº”æ¶ˆæ¯
          default: æ“ä½œæˆåŠŸ
        timestamp:
          type: string
          format: date-time
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
        request_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Id
          description: è¯·æ±‚IDï¼Œç”¨äºè¿½è¸ª
      type: object
      title: APIResponse
      description: 'å‘åå…¼å®¹çš„æˆåŠŸå“åº”æ¨¡å‹


        @deprecated æ¨èä½¿ç”¨ UnifiedResponseï¼Œä¿ç•™æ­¤ç±»ä»¥ç»´æŒå‘åå…¼å®¹æ€§'
    APIResponse_AccountInfo_:
      properties:
        success:
          type: boolean
          title: Success
          description: æ“ä½œæ˜¯å¦æˆåŠŸ
          default: true
        data:
          anyOf:
          - $ref: '#/components/schemas/AccountInfo'
          - type: 'null'
          description: å“åº”æ•°æ®
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
          description: å“åº”æ¶ˆæ¯
          default: æ“ä½œæˆåŠŸ
        timestamp:
          type: string
          format: date-time
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
        request_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Id
          description: è¯·æ±‚IDï¼Œç”¨äºè¿½è¸ª
      type: object
      title: APIResponse[AccountInfo]
    APIResponse_HealthCheckResponse_:
      properties:
        success:
          type: boolean
          title: Success
          description: æ“ä½œæ˜¯å¦æˆåŠŸ
          default: true
        data:
          anyOf:
          - $ref: '#/components/schemas/HealthCheckResponse'
          - type: 'null'
          description: å“åº”æ•°æ®
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
          description: å“åº”æ¶ˆæ¯
          default: æ“ä½œæˆåŠŸ
        timestamp:
          type: string
          format: date-time
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
        request_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Id
          description: è¯·æ±‚IDï¼Œç”¨äºè¿½è¸ª
      type: object
      title: APIResponse[HealthCheckResponse]
    APIResponse_PositionsResponse_:
      properties:
        success:
          type: boolean
          title: Success
          description: æ“ä½œæ˜¯å¦æˆåŠŸ
          default: true
        data:
          anyOf:
          - $ref: '#/components/schemas/PositionsResponse'
          - type: 'null'
          description: å“åº”æ•°æ®
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
          description: å“åº”æ¶ˆæ¯
          default: æ“ä½œæˆåŠŸ
        timestamp:
          type: string
          format: date-time
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
        request_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Id
          description: è¯·æ±‚IDï¼Œç”¨äºè¿½è¸ª
      type: object
      title: APIResponse[PositionsResponse]
    APIResponse_TradeHistoryResponse_:
      properties:
        success:
          type: boolean
          title: Success
          description: æ“ä½œæ˜¯å¦æˆåŠŸ
          default: true
        data:
          anyOf:
          - $ref: '#/components/schemas/TradeHistoryResponse'
          - type: 'null'
          description: å“åº”æ•°æ®
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
          description: å“åº”æ¶ˆæ¯
          default: æ“ä½œæˆåŠŸ
        timestamp:
          type: string
          format: date-time
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
        request_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Id
          description: è¯·æ±‚IDï¼Œç”¨äºè¿½è¸ª
      type: object
      title: APIResponse[TradeHistoryResponse]
    APIResponse_TradeStatistics_:
      properties:
        success:
          type: boolean
          title: Success
          description: æ“ä½œæ˜¯å¦æˆåŠŸ
          default: true
        data:
          anyOf:
          - $ref: '#/components/schemas/TradeStatistics'
          - type: 'null'
          description: å“åº”æ•°æ®
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
          description: å“åº”æ¶ˆæ¯
          default: æ“ä½œæˆåŠŸ
        timestamp:
          type: string
          format: date-time
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
        request_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Id
          description: è¯·æ±‚IDï¼Œç”¨äºè¿½è¸ª
      type: object
      title: APIResponse[TradeStatistics]
    APIResponse_dict_:
      properties:
        success:
          type: boolean
          title: Success
          description: æ“ä½œæ˜¯å¦æˆåŠŸ
          default: true
        data:
          anyOf:
          - type: object
          - type: 'null'
          title: Data
          description: å“åº”æ•°æ®
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
          description: å“åº”æ¶ˆæ¯
          default: æ“ä½œæˆåŠŸ
        timestamp:
          type: string
          format: date-time
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
        request_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Id
          description: è¯·æ±‚IDï¼Œç”¨äºè¿½è¸ª
      type: object
      title: APIResponse[dict]
    AccountInfo:
      properties:
        account_id:
          type: string
          title: Account Id
          description: è´¦æˆ·ID
        account_type:
          type: string
          title: Account Type
          description: è´¦æˆ·ç±»å‹ (stock/derivatives)
        total_assets:
          type: string
          title: Total Assets
          description: æ€»èµ„äº§
        cash:
          type: string
          title: Cash
          description: å¯ç”¨èµ„é‡‘
        market_value:
          type: string
          title: Market Value
          description: è¯åˆ¸å¸‚å€¼
        frozen_cash:
          anyOf:
          - type: string
          - type: 'null'
          title: Frozen Cash
          description: å†»ç»“èµ„é‡‘
        total_profit_loss:
          type: string
          title: Total Profit Loss
          description: æ€»ç›ˆäº
        profit_loss_percent:
          type: number
          title: Profit Loss Percent
          description: ç›ˆäºæ¯”ä¾‹(%)
        risk_level:
          type: string
          title: Risk Level
          description: é£é™©ç­‰çº§ (low/medium/high)
          default: low
        last_update:
          type: string
          format: date-time
          title: Last Update
          description: æœ€åæ›´æ–°æ—¶é—´
      type: object
      required:
      - account_id
      - account_type
      - total_assets
      - cash
      - market_value
      - total_profit_loss
      - profit_loss_percent
      - last_update
      title: AccountInfo
      description: è´¦æˆ·ä¿¡æ¯
      example:
        account_id: ACC_123456
        account_type: stock
        cash: '50000.00'
        last_update: '2025-12-29T15:30:00'
        market_value: '50000.00'
        profit_loss_percent: 5.0
        risk_level: low
        total_assets: '100000.00'
        total_profit_loss: '5000.00'
    ActiveAlert:
      properties:
        id:
          type: integer
          title: Id
          description: é¢„è­¦ID
        name:
          type: string
          title: Name
          description: é¢„è­¦åç§°
        metric_type:
          type: string
          title: Metric Type
          description: ç›‘æ§æŒ‡æ ‡ç±»å‹
        threshold_value:
          type: number
          title: Threshold Value
          description: é˜ˆå€¼
      type: object
      required:
      - id
      - name
      - metric_type
      - threshold_value
      title: ActiveAlert
      description: æ´»è·ƒé¢„è­¦æ¨¡å‹
    AddWatchlistRequest:
      properties:
        symbol:
          type: string
          maxLength: 20
          minLength: 1
          pattern: ^[A-Z0-9.]+$
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        display_name:
          anyOf:
          - type: string
            maxLength: 100
          - type: 'null'
          title: Display Name
          description: æ˜¾ç¤ºåç§°
        exchange:
          anyOf:
          - type: string
            maxLength: 20
            pattern: ^[A-Z]+$
          - type: 'null'
          title: Exchange
          description: äº¤æ˜“æ‰€
        market:
          anyOf:
          - type: string
            maxLength: 5
            pattern: ^(CN|HK|US)$
          - type: 'null'
          title: Market
          description: å¸‚åœºï¼ˆCN/HK/USï¼‰
        notes:
          anyOf:
          - type: string
            maxLength: 500
          - type: 'null'
          title: Notes
          description: å¤‡æ³¨
        group_id:
          anyOf:
          - type: integer
            minimum: 1.0
          - type: 'null'
          title: Group Id
          description: åˆ†ç»„ID
        group_name:
          anyOf:
          - type: string
            maxLength: 50
            minLength: 1
          - type: 'null'
          title: Group Name
          description: åˆ†ç»„åç§°ï¼ˆå¦‚æœä¸å­˜åœ¨åˆ™è‡ªåŠ¨åˆ›å»ºï¼‰
      type: object
      required:
      - symbol
      title: AddWatchlistRequest
      description: æ·»åŠ è‡ªé€‰è‚¡è¯·æ±‚
    AllIndicatorsResponse:
      properties:
        symbol:
          type: string
          title: Symbol
        latest_price:
          type: number
          title: Latest Price
        latest_date:
          type: string
          title: Latest Date
        data_points:
          type: integer
          title: Data Points
        total_indicators:
          type: integer
          title: Total Indicators
        trend:
          type: object
          title: Trend
        momentum:
          type: object
          title: Momentum
        volatility:
          type: object
          title: Volatility
        volume:
          type: object
          title: Volume
      type: object
      required:
      - symbol
      - latest_price
      - latest_date
      - data_points
      - total_indicators
      - trend
      - momentum
      - volatility
      - volume
      title: AllIndicatorsResponse
      description: æ‰€æœ‰æŒ‡æ ‡ç»¼åˆå“åº”
    BacktestListResponse:
      properties:
        total_count:
          type: integer
          title: Total Count
          description: æ€»æ•°é‡
        backtests:
          items:
            $ref: '#/components/schemas/BacktestResultSummary'
          type: array
          title: Backtests
          description: å›æµ‹åˆ—è¡¨
        page:
          type: integer
          minimum: 1.0
          title: Page
          description: å½“å‰é¡µç 
          default: 1
        page_size:
          type: integer
          maximum: 100.0
          minimum: 1.0
          title: Page Size
          description: æ¯é¡µæ•°é‡
          default: 20
      type: object
      required:
      - total_count
      - backtests
      title: BacktestListResponse
      description: å›æµ‹åˆ—è¡¨å“åº”
    BacktestResult:
      properties:
        backtest_id:
          type: integer
          title: Backtest Id
          description: å›æµ‹ID
        strategy_id:
          type: integer
          title: Strategy Id
          description: ç­–ç•¥ID
        user_id:
          type: integer
          title: User Id
          description: ç”¨æˆ·ID
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: è‚¡ç¥¨ä»£ç åˆ—è¡¨
        start_date:
          type: string
          format: date
          title: Start Date
          description: å¼€å§‹æ—¥æœŸ
        end_date:
          type: string
          format: date
          title: End Date
          description: ç»“æŸæ—¥æœŸ
        initial_capital:
          type: number
          title: Initial Capital
          description: åˆå§‹èµ„é‡‘
        final_capital:
          type: number
          minimum: 0.0
          title: Final Capital
          description: æœ€ç»ˆèµ„é‡‘
        performance:
          $ref: '#/components/schemas/PerformanceMetrics'
        equity_curve:
          items:
            $ref: '#/components/schemas/EquityCurvePoint'
          type: array
          title: Equity Curve
          description: æƒç›Šæ›²çº¿
        trades:
          items:
            $ref: '#/components/schemas/TradeRecord'
          type: array
          title: Trades
          description: äº¤æ˜“è®°å½•
        status:
          $ref: '#/components/schemas/BacktestStatus'
        created_at:
          type: string
          format: date-time
          title: Created At
          description: åˆ›å»ºæ—¶é—´
        completed_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Completed At
          description: å®Œæˆæ—¶é—´
        error_message:
          anyOf:
          - type: string
          - type: 'null'
          title: Error Message
          description: é”™è¯¯æ¶ˆæ¯
      type: object
      required:
      - backtest_id
      - strategy_id
      - user_id
      - symbols
      - start_date
      - end_date
      - initial_capital
      - final_capital
      - performance
      - status
      - created_at
      title: BacktestResult
      description: å›æµ‹ç»“æœ
      example:
        backtest_id: 456
        completed_at: '2024-12-01T10:05:00'
        created_at: '2024-12-01T10:00:00'
        end_date: '2024-12-31'
        equity_curve: []
        final_capital: 115000.0
        initial_capital: 100000.0
        performance:
          alpha: 7.0
          annual_return: 15.0
          benchmark_return: 8.0
          beta: 1.05
          calmar_ratio: 1.76
          max_drawdown: -8.5
          profit_factor: 1.85
          sharpe_ratio: 1.8
          sortino_ratio: 2.1
          total_return: 15.0
          total_trades: 45
          volatility: 12.3
          win_rate: 62.2
        start_date: '2024-01-01'
        status: completed
        strategy_id: 123
        symbols:
        - 000001.SZ
        - 600000.SH
        trades: []
        user_id: 1001
    BacktestResultSummary:
      properties:
        backtest_id:
          type: integer
          title: Backtest Id
          description: å›æµ‹ID
        strategy_id:
          type: integer
          title: Strategy Id
          description: ç­–ç•¥ID
        strategy_name:
          type: string
          title: Strategy Name
          description: ç­–ç•¥åç§°
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: è‚¡ç¥¨åˆ—è¡¨
        date_range:
          type: string
          title: Date Range
          description: æ—¥æœŸèŒƒå›´
        total_return:
          type: number
          title: Total Return
          description: æ€»æ”¶ç›Šç‡ (%)
        sharpe_ratio:
          type: number
          title: Sharpe Ratio
          description: å¤æ™®æ¯”ç‡
        max_drawdown:
          type: number
          title: Max Drawdown
          description: æœ€å¤§å›æ’¤ (%)
        status:
          $ref: '#/components/schemas/BacktestStatus'
        created_at:
          type: string
          format: date-time
          title: Created At
          description: åˆ›å»ºæ—¶é—´
      type: object
      required:
      - backtest_id
      - strategy_id
      - strategy_name
      - symbols
      - date_range
      - total_return
      - sharpe_ratio
      - max_drawdown
      - status
      - created_at
      title: BacktestResultSummary
      description: å›æµ‹ç»“æœæ±‡æ€»
    BacktestStatus:
      type: string
      enum:
      - pending
      - running
      - completed
      - failed
      title: BacktestStatus
      description: å›æµ‹çŠ¶æ€
    BetaRequest:
      properties:
        entity_type:
          type: string
          title: Entity Type
          description: å®ä½“ç±»å‹ ('backtest', 'portfolio', 'strategy')
        entity_id:
          type: integer
          minimum: 1.0
          title: Entity Id
          description: å®ä½“ID
        market_index:
          type: string
          title: Market Index
          description: å¸‚åœºæŒ‡æ•°ä»£ç  (é»˜è®¤ä¸Šè¯æŒ‡æ•°)
          default: '000001'
      type: object
      required:
      - entity_type
      - entity_id
      title: BetaRequest
      description: Beta ç³»æ•°è®¡ç®—è¯·æ±‚æ¨¡å‹
      example:
        entity_id: 101
        entity_type: portfolio
        market_index: 000300.SH
    BetaResult:
      properties:
        beta:
          anyOf:
          - type: number
          - type: 'null'
          title: Beta
          description: Beta ç³»æ•°
        correlation:
          anyOf:
          - type: number
          - type: 'null'
          title: Correlation
          description: ä¸å¸‚åœºæŒ‡æ•°çš„ç›¸å…³ç³»æ•°
        entity_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Entity Type
          description: å®ä½“ç±»å‹
        entity_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Entity Id
          description: å®ä½“ID
        market_index:
          anyOf:
          - type: string
          - type: 'null'
          title: Market Index
          description: å¸‚åœºæŒ‡æ•°ä»£ç 
      type: object
      title: BetaResult
      description: Beta ç³»æ•°è®¡ç®—ç»“æœå“åº”æ¨¡å‹
      example:
        beta: 1.23
        correlation: 0.85
    Body_export_config_api_tasks_export_post:
      properties:
        output_path:
          type: string
          title: Output Path
      type: object
      required:
      - output_path
      title: Body_export_config_api_tasks_export_post
    Body_import_config_api_tasks_import_post:
      properties:
        config_path:
          type: string
          title: Config Path
      type: object
      required:
      - config_path
      title: Body_import_config_api_tasks_import_post
    Body_login_for_access_token_api_v1_auth_login_post:
      properties:
        grant_type:
          anyOf:
          - type: string
            pattern: password
          - type: 'null'
          title: Grant Type
        username:
          type: string
          title: Username
        password:
          type: string
          title: Password
        scope:
          type: string
          title: Scope
          default: ''
        client_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Client Id
        client_secret:
          anyOf:
          - type: string
          - type: 'null'
          title: Client Secret
      type: object
      required:
      - username
      - password
      title: Body_login_for_access_token_api_v1_auth_login_post
    ChartConfigRequest:
      properties:
        symbol:
          type: string
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        market:
          type: string
          title: Market
          description: 'å¸‚åœºç±»å‹: CN, US, HK'
          default: CN
        interval:
          type: string
          title: Interval
          description: 'æ—¶é—´é—´éš”: 1, 5, 15, 60, D, W, M'
          default: D
        theme:
          type: string
          title: Theme
          description: 'ä¸»é¢˜: light, dark'
          default: dark
        locale:
          type: string
          title: Locale
          description: 'è¯­è¨€: zh_CN, en'
          default: zh_CN
        container_id:
          type: string
          title: Container Id
          description: å®¹å™¨ID
          default: tradingview_chart
      type: object
      required:
      - symbol
      title: ChartConfigRequest
      description: å›¾è¡¨é…ç½®è¯·æ±‚
    ChipRaceResponse:
      properties:
        id:
          type: integer
          title: Id
        symbol:
          type: string
          title: Symbol
        name:
          type: string
          title: Name
        trade_date:
          type: string
          format: date
          title: Trade Date
        race_type:
          type: string
          title: Race Type
          description: 'æŠ¢ç­¹ç±»å‹: open/end'
        latest_price:
          type: number
          title: Latest Price
        change_percent:
          type: number
          title: Change Percent
          description: æ¶¨è·Œå¹…(%)
        prev_close:
          type: number
          title: Prev Close
        open_price:
          type: number
          title: Open Price
        race_amount:
          type: number
          title: Race Amount
          description: æŠ¢ç­¹é‡‘é¢(å…ƒ)
        race_amplitude:
          type: number
          title: Race Amplitude
          description: æŠ¢ç­¹å¹…åº¦(%)
        race_commission:
          type: number
          title: Race Commission
          description: æŠ¢ç­¹å§”æ‰˜é‡‘é¢
        race_transaction:
          type: number
          title: Race Transaction
          description: æŠ¢ç­¹æˆäº¤é‡‘é¢
        race_ratio:
          type: number
          title: Race Ratio
          description: æŠ¢ç­¹å æ¯”(%)
        created_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Created At
      type: object
      required:
      - id
      - symbol
      - name
      - trade_date
      - race_type
      - latest_price
      - change_percent
      - prev_close
      - open_price
      - race_amount
      - race_amplitude
      - race_commission
      - race_transaction
      - race_ratio
      title: ChipRaceResponse
      description: ç«ä»·æŠ¢ç­¹å“åº”
    ConceptListResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: è¯·æ±‚æ˜¯å¦æˆåŠŸ
          default: true
        data:
          type: object
          title: Data
          description: å“åº”æ•°æ®
        timestamp:
          type: string
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
      type: object
      required:
      - data
      - timestamp
      title: ConceptListResponse
      description: æ¦‚å¿µåˆ—è¡¨å“åº”æ¨¡å‹
      example:
        data:
          concepts:
          - amount: 2543210000.0
            change_amount: 0.81
            change_percent: 3.25
            concept_code: GN001
            concept_name: äººå·¥æ™ºèƒ½
            down_count: 40
            latest_price: 25.68
            leader_stock: 300033.SZ
            stock_count: 85
            total_market_value: 123456000000.0
            turnover_rate: 2.15
            up_count: 45
            updated_at: '2025-11-17T10:30:00'
            volume: 987654321
          total_count: 1
        success: true
        timestamp: '2025-11-17T10:30:00'
    ConnectionTestRequest:
      properties:
        db_type:
          type: string
          title: Db Type
        host:
          type: string
          title: Host
        port:
          type: integer
          title: Port
      type: object
      required:
      - db_type
      - host
      - port
      title: ConnectionTestRequest
      description: æ•°æ®åº“è¿æ¥æµ‹è¯•è¯·æ±‚
    ConnectionTestResponse:
      properties:
        success:
          type: boolean
          title: Success
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
        error:
          anyOf:
          - type: string
          - type: 'null'
          title: Error
      type: object
      required:
      - success
      title: ConnectionTestResponse
      description: æ•°æ®åº“è¿æ¥æµ‹è¯•å“åº”
    ContractDiffRequest:
      properties:
        from_version_id:
          type: integer
          title: From Version Id
          description: æºç‰ˆæœ¬ID
        to_version_id:
          type: integer
          title: To Version Id
          description: ç›®æ ‡ç‰ˆæœ¬ID
      type: object
      required:
      - from_version_id
      - to_version_id
      title: ContractDiffRequest
      description: å¥‘çº¦å·®å¼‚æ£€æµ‹è¯·æ±‚
    ContractDiffResponse:
      properties:
        from_version:
          type: string
          title: From Version
          description: æºç‰ˆæœ¬å·
        to_version:
          type: string
          title: To Version
          description: ç›®æ ‡ç‰ˆæœ¬å·
        total_changes:
          type: integer
          title: Total Changes
          description: æ€»å˜æ›´æ•°
        breaking_changes:
          type: integer
          title: Breaking Changes
          description: ç ´åæ€§å˜æ›´æ•°
        non_breaking_changes:
          type: integer
          title: Non Breaking Changes
          description: éç ´åæ€§å˜æ›´æ•°
        diffs:
          items:
            $ref: '#/components/schemas/DiffResult'
          type: array
          title: Diffs
          description: å·®å¼‚åˆ—è¡¨
        summary:
          type: string
          title: Summary
          description: å·®å¼‚æ‘˜è¦
      type: object
      required:
      - from_version
      - to_version
      - total_changes
      - breaking_changes
      - non_breaking_changes
      - summary
      title: ContractDiffResponse
      description: å¥‘çº¦å·®å¼‚æ£€æµ‹å“åº”
    ContractListResponse:
      properties:
        contracts:
          items:
            $ref: '#/components/schemas/ContractMetadata'
          type: array
          title: Contracts
          description: å¥‘çº¦åˆ—è¡¨
        total:
          type: integer
          title: Total
          description: æ€»æ•°
      type: object
      required:
      - total
      title: ContractListResponse
      description: å¥‘çº¦åˆ—è¡¨å“åº”
    ContractMetadata:
      properties:
        name:
          type: string
          title: Name
          description: å¥‘çº¦åç§°
        latest_version:
          type: string
          title: Latest Version
          description: æœ€æ–°ç‰ˆæœ¬
        total_versions:
          type: integer
          title: Total Versions
          description: ç‰ˆæœ¬æ€»æ•°
        last_updated:
          type: string
          format: date-time
          title: Last Updated
          description: æœ€åæ›´æ–°æ—¶é—´
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          description: å¥‘çº¦æè¿°
        tags:
          items:
            type: string
          type: array
          title: Tags
          description: æ ‡ç­¾
      type: object
      required:
      - name
      - latest_version
      - total_versions
      - last_updated
      title: ContractMetadata
      description: å¥‘çº¦å…ƒæ•°æ®
    ContractSyncRequest:
      properties:
        name:
          type: string
          title: Name
          description: å¥‘çº¦åç§°
        source_path:
          type: string
          title: Source Path
          description: æºæ–‡ä»¶è·¯å¾„
        direction:
          $ref: '#/components/schemas/SyncDirection'
        version:
          anyOf:
          - type: string
          - type: 'null'
          title: Version
          description: æŒ‡å®šç‰ˆæœ¬å· (é»˜è®¤è‡ªåŠ¨é€’å¢)
        commit:
          type: boolean
          title: Commit
          description: æ˜¯å¦æäº¤åˆ°Git
          default: false
      type: object
      required:
      - name
      - source_path
      - direction
      title: ContractSyncRequest
      description: å¥‘çº¦åŒæ­¥è¯·æ±‚
    ContractSyncResponse:
      properties:
        sync_id:
          type: string
          title: Sync Id
          description: åŒæ­¥ä»»åŠ¡ID
        status:
          type: string
          title: Status
          description: 'çŠ¶æ€: running|completed|failed'
        results:
          items:
            $ref: '#/components/schemas/SyncResult'
          type: array
          title: Results
          description: åŒæ­¥ç»“æœåˆ—è¡¨
        started_at:
          type: string
          format: date-time
          title: Started At
          description: å¼€å§‹æ—¶é—´
        completed_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Completed At
          description: å®Œæˆæ—¶é—´
      type: object
      required:
      - sync_id
      - status
      - started_at
      title: ContractSyncResponse
      description: å¥‘çº¦åŒæ­¥å“åº”
    ContractValidateRequest:
      properties:
        spec:
          type: object
          title: Spec
          description: å¾…éªŒè¯çš„OpenAPIè§„èŒƒ
        check_breaking_changes:
          type: boolean
          title: Check Breaking Changes
          description: æ˜¯å¦æ£€æŸ¥ç ´åæ€§å˜æ›´
          default: true
        compare_to_version_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Compare To Version Id
          description: å¯¹æ¯”çš„ç‰ˆæœ¬ID
      type: object
      required:
      - spec
      title: ContractValidateRequest
      description: å¥‘çº¦éªŒè¯è¯·æ±‚
    ContractValidateResponse:
      properties:
        valid:
          type: boolean
          title: Valid
          description: æ˜¯å¦é€šè¿‡éªŒè¯
        error_count:
          type: integer
          title: Error Count
          description: é”™è¯¯æ•°
        warning_count:
          type: integer
          title: Warning Count
          description: è­¦å‘Šæ•°
        results:
          items:
            $ref: '#/components/schemas/ValidationResult'
          type: array
          title: Results
          description: éªŒè¯ç»“æœåˆ—è¡¨
      type: object
      required:
      - valid
      - error_count
      - warning_count
      title: ContractValidateResponse
      description: å¥‘çº¦éªŒè¯å“åº”
    ContractVersionCreate:
      properties:
        name:
          type: string
          title: Name
          description: 'å¥‘çº¦åç§° (å¦‚: market-api, trade-api)'
        version:
          type: string
          title: Version
          description: 'ç‰ˆæœ¬å· (å¦‚: 1.0.0)'
        spec:
          type: object
          title: Spec
          description: OpenAPIè§„èŒƒå†…å®¹
        commit_hash:
          anyOf:
          - type: string
          - type: 'null'
          title: Commit Hash
          description: Git commit hash
        author:
          anyOf:
          - type: string
          - type: 'null'
          title: Author
          description: ä½œè€…
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          description: ç‰ˆæœ¬æè¿°
        tags:
          items:
            type: string
          type: array
          title: Tags
          description: ç‰ˆæœ¬æ ‡ç­¾
      type: object
      required:
      - name
      - version
      - spec
      title: ContractVersionCreate
      description: åˆ›å»ºå¥‘çº¦ç‰ˆæœ¬è¯·æ±‚
    ContractVersionResponse:
      properties:
        id:
          type: integer
          title: Id
          description: ç‰ˆæœ¬ID
        name:
          type: string
          title: Name
          description: å¥‘çº¦åç§°
        version:
          type: string
          title: Version
          description: ç‰ˆæœ¬å·
        spec:
          type: object
          title: Spec
          description: OpenAPIè§„èŒƒå†…å®¹
        commit_hash:
          anyOf:
          - type: string
          - type: 'null'
          title: Commit Hash
          description: Git commit hash
        author:
          anyOf:
          - type: string
          - type: 'null'
          title: Author
          description: ä½œè€…
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          description: ç‰ˆæœ¬æè¿°
        tags:
          items:
            type: string
          type: array
          title: Tags
          description: ç‰ˆæœ¬æ ‡ç­¾
        created_at:
          type: string
          format: date-time
          title: Created At
          description: åˆ›å»ºæ—¶é—´
        is_active:
          type: boolean
          title: Is Active
          description: æ˜¯å¦ä¸ºå½“å‰æ¿€æ´»ç‰ˆæœ¬
      type: object
      required:
      - id
      - name
      - version
      - spec
      - created_at
      - is_active
      title: ContractVersionResponse
      description: å¥‘çº¦ç‰ˆæœ¬å“åº”
    ContractVersionUpdate:
      properties:
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          description: ç‰ˆæœ¬æè¿°
        tags:
          anyOf:
          - items:
              type: string
            type: array
          - type: 'null'
          title: Tags
          description: ç‰ˆæœ¬æ ‡ç­¾
      type: object
      title: ContractVersionUpdate
      description: æ›´æ–°å¥‘çº¦ç‰ˆæœ¬è¯·æ±‚
    CreateGroupRequest:
      properties:
        group_name:
          type: string
          maxLength: 50
          minLength: 1
          pattern: ^[^\s<>"\'/\\]+$
          title: Group Name
          description: åˆ†ç»„åç§°
      type: object
      required:
      - group_name
      title: CreateGroupRequest
      description: åˆ›å»ºåˆ†ç»„è¯·æ±‚
    DashboardResponse:
      properties:
        user_id:
          type: integer
          title: User Id
          description: ç”¨æˆ·ID
        trade_date:
          type: string
          format: date
          title: Trade Date
          description: äº¤æ˜“æ—¥æœŸ
        generated_at:
          type: string
          format: date-time
          title: Generated At
          description: ç”Ÿæˆæ—¶é—´
        market_overview:
          anyOf:
          - $ref: '#/components/schemas/MarketOverview'
          - type: 'null'
          description: å¸‚åœºæ¦‚è§ˆ
        watchlist:
          anyOf:
          - $ref: '#/components/schemas/WatchlistSummary'
          - type: 'null'
          description: è‡ªé€‰è‚¡æ±‡æ€»
        portfolio:
          anyOf:
          - $ref: '#/components/schemas/PortfolioSummary'
          - type: 'null'
          description: æŒä»“æ±‡æ€»
        risk_alerts:
          anyOf:
          - $ref: '#/components/schemas/RiskAlertSummary'
          - type: 'null'
          description: é£é™©é¢„è­¦æ±‡æ€»
        data_source:
          type: string
          title: Data Source
          description: æ•°æ®æºç±»å‹
          default: composite
        cache_hit:
          type: boolean
          title: Cache Hit
          description: æ˜¯å¦å‘½ä¸­ç¼“å­˜
          default: false
      type: object
      required:
      - user_id
      - trade_date
      - generated_at
      title: DashboardResponse
      description: ä»ªè¡¨ç›˜å“åº”æ¨¡å‹
      example:
        cache_hit: false
        data_source: composite
        generated_at: '2025-11-21T10:30:00'
        market_overview:
          down_count: 1500
          flat_count: 100
          indices:
          - change_percent: 1.2
            current_price: 3100.5
            name: ä¸Šè¯æŒ‡æ•°
            symbol: '000001'
          up_count: 2500
        portfolio:
          position_count: 5
          positions: []
          total_cost: 95000.0
          total_market_value: 100000.0
          total_profit_loss: 5000.0
          total_profit_loss_percent: 5.26
        risk_alerts:
          alerts: []
          critical_count: 1
          total_count: 3
          unread_count: 2
        trade_date: '2025-11-21'
        user_id: 1001
        watchlist:
          avg_change_percent: 0.5
          items: []
          total_count: 10
    DiffResult:
      properties:
        change_type:
          type: string
          title: Change Type
          description: 'å˜æ›´ç±»å‹: added|removed|modified'
        path:
          type: string
          title: Path
          description: 'JSONè·¯å¾„ (å¦‚: paths./api/market.get)'
        old_value:
          anyOf:
          - {}
          - type: 'null'
          title: Old Value
          description: æ—§å€¼
        new_value:
          anyOf:
          - {}
          - type: 'null'
          title: New Value
          description: æ–°å€¼
        is_breaking:
          type: boolean
          title: Is Breaking
          description: æ˜¯å¦ä¸ºç ´åæ€§å˜æ›´
          default: false
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          description: å˜æ›´æè¿°
      type: object
      required:
      - change_type
      - path
      title: DiffResult
      description: å·®å¼‚æ£€æµ‹ç»“æœ
    EquityCurvePoint:
      properties:
        date_field:
          type: string
          format: date
          title: Date Field
          description: æ—¥æœŸ
        equity:
          type: number
          minimum: 0.0
          title: Equity
          description: æƒç›Š
        drawdown:
          type: number
          maximum: 0.0
          title: Drawdown
          description: å›æ’¤ (%)
        benchmark_equity:
          anyOf:
          - type: number
          - type: 'null'
          title: Benchmark Equity
          description: åŸºå‡†æƒç›Š
      type: object
      required:
      - date_field
      - equity
      - drawdown
      title: EquityCurvePoint
      description: æƒç›Šæ›²çº¿ç‚¹
    FeatureGenerationRequest:
      properties:
        stock_code:
          type: string
          title: Stock Code
          description: è‚¡ç¥¨ä»£ç 
        market:
          type: string
          title: Market
          description: å¸‚åœºä»£ç 
          default: sh
        step:
          type: integer
          maximum: 100.0
          minimum: 1.0
          title: Step
          description: æ»šåŠ¨çª—å£å¤§å°
          default: 10
        include_indicators:
          type: boolean
          title: Include Indicators
          description: æ˜¯å¦åŒ…å«æŠ€æœ¯æŒ‡æ ‡
          default: true
      type: object
      required:
      - stock_code
      title: FeatureGenerationRequest
      description: ç‰¹å¾ç”Ÿæˆè¯·æ±‚
    FeatureGenerationResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸ
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
        total_samples:
          type: integer
          title: Total Samples
          description: æ ·æœ¬æ€»æ•°
        feature_dim:
          type: integer
          title: Feature Dim
          description: ç‰¹å¾ç»´åº¦
        step:
          type: integer
          title: Step
          description: çª—å£å¤§å°
        feature_columns:
          items:
            type: string
          type: array
          title: Feature Columns
          description: ç‰¹å¾åˆ—å
        metadata:
          type: object
          title: Metadata
          description: å…ƒæ•°æ®
      type: object
      required:
      - success
      - message
      - total_samples
      - feature_dim
      - step
      - feature_columns
      - metadata
      title: FeatureGenerationResponse
      description: ç‰¹å¾ç”Ÿæˆå“åº”
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    HealthCheckResponse:
      properties:
        status:
          type: string
          title: Status
        service:
          type: string
          title: Service
      type: object
      required:
      - status
      - service
      title: HealthCheckResponse
      description: å¥åº·æ£€æŸ¥å“åº”
    HyperparameterSearchRequest:
      properties:
        stock_code:
          type: string
          title: Stock Code
          description: è‚¡ç¥¨ä»£ç 
        market:
          type: string
          title: Market
          description: å¸‚åœºä»£ç 
          default: sh
        step:
          type: integer
          title: Step
          description: æ»šåŠ¨çª—å£å¤§å°
          default: 10
        cv:
          type: integer
          maximum: 10.0
          minimum: 2.0
          title: Cv
          description: äº¤å‰éªŒè¯æŠ˜æ•°
          default: 5
        param_grid:
          anyOf:
          - additionalProperties:
              items: {}
              type: array
            type: object
          - type: 'null'
          title: Param Grid
          description: å‚æ•°ç½‘æ ¼
          example:
            learning_rate:
            - 0.01
            - 0.1
            - 0.2
            n_estimators:
            - 10
            - 40
            - 70
            - 100
            num_leaves:
            - 5
            - 10
            - 15
            - 20
            - 25
      type: object
      required:
      - stock_code
      title: HyperparameterSearchRequest
      description: è¶…å‚æ•°æœç´¢è¯·æ±‚
    HyperparameterSearchResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸ
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
        best_params:
          type: object
          title: Best Params
          description: æœ€ä½³å‚æ•°
        best_rmse:
          type: number
          title: Best Rmse
          description: æœ€ä½³RMSE
        best_mse:
          type: number
          title: Best Mse
          description: æœ€ä½³MSE
        cv_results:
          type: object
          title: Cv Results
          description: äº¤å‰éªŒè¯ç»“æœ
      type: object
      required:
      - success
      - message
      - best_params
      - best_rmse
      - best_mse
      - cv_results
      title: HyperparameterSearchResponse
      description: è¶…å‚æ•°æœç´¢å“åº”
    IndexQuoteResponse:
      properties:
        code:
          type: string
          title: Code
          description: æŒ‡æ•°ä»£ç 
        name:
          type: string
          title: Name
          description: æŒ‡æ•°åç§°
        price:
          type: number
          title: Price
          description: å½“å‰ç‚¹ä½
        pre_close:
          type: number
          title: Pre Close
          description: æ˜¨æ”¶ç‚¹ä½
        open:
          type: number
          title: Open
          description: å¼€ç›˜ç‚¹ä½
        high:
          type: number
          title: High
          description: æœ€é«˜ç‚¹ä½
        low:
          type: number
          title: Low
          description: æœ€ä½ç‚¹ä½
        volume:
          type: integer
          title: Volume
          description: æˆäº¤é‡
        amount:
          type: number
          title: Amount
          description: æˆäº¤é¢
        change:
          anyOf:
          - type: number
          - type: 'null'
          title: Change
          description: æ¶¨è·Œç‚¹æ•°
        change_pct:
          anyOf:
          - type: number
          - type: 'null'
          title: Change Pct
          description: æ¶¨è·Œå¹…(%)
        timestamp:
          type: string
          title: Timestamp
          description: æŸ¥è¯¢æ—¶é—´æˆ³
      type: object
      required:
      - code
      - name
      - price
      - pre_close
      - open
      - high
      - low
      - volume
      - amount
      - timestamp
      title: IndexQuoteResponse
      description: æŒ‡æ•°è¡Œæƒ…å“åº”æ¨¡å‹
      example:
        amount: 450000000000.0
        change: 5.5
        change_pct: 0.17
        code: '000001'
        high: 3252.0
        low: 3244.0
        name: ä¸Šè¯æŒ‡æ•°
        open: 3246.0
        pre_close: 3245.0
        price: 3250.5
        timestamp: '2025-10-15 14:30:00'
        volume: 1234567890
    IndicatorCalculateBatchRequest:
      properties:
        calculations:
          items:
            $ref: '#/components/schemas/IndicatorCalculateRequest'
          type: array
          maxItems: 10
          minItems: 1
          title: Calculations
          description: æ‰¹é‡è®¡ç®—è¯·æ±‚åˆ—è¡¨ï¼Œæœ€å¤š10ä¸ª
      type: object
      required:
      - calculations
      title: IndicatorCalculateBatchRequest
      description: æ‰¹é‡æŠ€æœ¯æŒ‡æ ‡è®¡ç®—è¯·æ±‚
    IndicatorCalculateRequest:
      properties:
        symbol:
          type: string
          maxLength: 9
          minLength: 9
          title: Symbol
          description: 'è‚¡ç¥¨ä»£ç  (æ ¼å¼: XXXXXX.SH æˆ– XXXXXX.SZ)'
        start_date:
          type: string
          format: date
          title: Start Date
          description: å¼€å§‹æ—¥æœŸ (YYYY-MM-DD)
        end_date:
          type: string
          format: date
          title: End Date
          description: ç»“æŸæ—¥æœŸ (YYYY-MM-DD)
        indicators:
          items:
            $ref: '#/components/schemas/IndicatorSpec'
          type: array
          maxItems: 10
          minItems: 1
          title: Indicators
          description: æŒ‡æ ‡åˆ—è¡¨
        use_cache:
          type: boolean
          title: Use Cache
          description: æ˜¯å¦ä½¿ç”¨ç¼“å­˜ (é»˜è®¤true)
          default: true
      type: object
      required:
      - symbol
      - start_date
      - end_date
      - indicators
      title: IndicatorCalculateRequest
      description: "æŒ‡æ ‡è®¡ç®—è¯·æ±‚\n\nExample:\n    {\n        \"symbol\": \"600519.SH\",\n\
        \        \"start_date\": \"2024-01-01\",\n        \"end_date\": \"2024-12-31\"\
        ,\n        \"indicators\": [\n            {\"abbreviation\": \"SMA\", \"parameters\"\
        : {\"timeperiod\": 20}},\n            {\"abbreviation\": \"RSI\", \"parameters\"\
        : {\"timeperiod\": 14}}\n        ],\n        \"use_cache\": true\n    }"
    IndicatorConfigCreateRequest:
      properties:
        name:
          type: string
          maxLength: 100
          minLength: 1
          title: Name
          description: é…ç½®åç§°
        indicators:
          items:
            $ref: '#/components/schemas/IndicatorSpec'
          type: array
          maxItems: 20
          minItems: 1
          title: Indicators
          description: æŒ‡æ ‡åˆ—è¡¨
      type: object
      required:
      - name
      - indicators
      title: IndicatorConfigCreateRequest
      description: "åˆ›å»ºæŒ‡æ ‡é…ç½®è¯·æ±‚\n\nExample:\n    {\n        \"name\": \"æˆ‘çš„å¸¸ç”¨é…ç½®\",\n \
        \       \"indicators\": [\n            {\"abbreviation\": \"MA\", \"parameters\"\
        : {\"timeperiod\": 20}},\n            {\"abbreviation\": \"RSI\", \"parameters\"\
        : {\"timeperiod\": 14}}\n        ]\n    }"
    IndicatorConfigListResponse:
      properties:
        total_count:
          type: integer
          minimum: 0.0
          title: Total Count
          description: é…ç½®æ€»æ•°
        configs:
          items:
            $ref: '#/components/schemas/IndicatorConfigResponse'
          type: array
          title: Configs
          description: é…ç½®åˆ—è¡¨
      type: object
      required:
      - total_count
      - configs
      title: IndicatorConfigListResponse
      description: "æŒ‡æ ‡é…ç½®åˆ—è¡¨å“åº”\n\nExample:\n    {\n        \"total_count\": 5,\n   \
        \     \"configs\": [\n            {...},\n            {...}\n        ]\n \
        \   }"
    IndicatorConfigResponse:
      properties:
        id:
          type: integer
          title: Id
          description: é…ç½®ID
        user_id:
          type: integer
          title: User Id
          description: ç”¨æˆ·ID
        name:
          type: string
          title: Name
          description: é…ç½®åç§°
        indicators:
          items:
            type: object
          type: array
          title: Indicators
          description: æŒ‡æ ‡åˆ—è¡¨ (JSONæ ¼å¼)
        created_at:
          type: string
          format: date-time
          title: Created At
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          title: Updated At
          description: æ›´æ–°æ—¶é—´
        last_used_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Last Used At
          description: æœ€åä½¿ç”¨æ—¶é—´
      type: object
      required:
      - id
      - user_id
      - name
      - indicators
      - created_at
      - updated_at
      title: IndicatorConfigResponse
      description: "æŒ‡æ ‡é…ç½®å“åº”\n\nExample:\n    {\n        \"id\": 1,\n        \"user_id\"\
        : 123,\n        \"name\": \"æˆ‘çš„å¸¸ç”¨é…ç½®\",\n        \"indicators\": [\n       \
        \     {\"abbreviation\": \"MA\", \"parameters\": {\"timeperiod\": 20}},\n\
        \            {\"abbreviation\": \"RSI\", \"parameters\": {\"timeperiod\":\
        \ 14}}\n        ],\n        \"created_at\": \"2024-01-01T10:00:00\",\n   \
        \     \"updated_at\": \"2024-01-02T15:30:00\",\n        \"last_used_at\":\
        \ \"2024-01-03T09:00:00\"\n    }"
    IndicatorConfigUpdateRequest:
      properties:
        name:
          anyOf:
          - type: string
            maxLength: 100
            minLength: 1
          - type: 'null'
          title: Name
          description: é…ç½®åç§° (å¯é€‰)
        indicators:
          anyOf:
          - items:
              $ref: '#/components/schemas/IndicatorSpec'
            type: array
            maxItems: 20
            minItems: 1
          - type: 'null'
          title: Indicators
          description: æŒ‡æ ‡åˆ—è¡¨ (å¯é€‰)
      type: object
      title: IndicatorConfigUpdateRequest
      description: "æ›´æ–°æŒ‡æ ‡é…ç½®è¯·æ±‚\n\nExample:\n    {\n        \"name\": \"æˆ‘çš„æ–°é…ç½®åç§°\",\n\
        \        \"indicators\": [...]\n    }"
    IndicatorMetadata:
      properties:
        abbreviation:
          type: string
          title: Abbreviation
          description: æŒ‡æ ‡ç¼©å†™
        full_name:
          type: string
          title: Full Name
          description: å®Œæ•´è‹±æ–‡åç§°
        chinese_name:
          type: string
          title: Chinese Name
          description: ä¸­æ–‡åç§°
        category:
          type: string
          title: Category
          description: 'æŒ‡æ ‡åˆ†ç±»: trend, momentum, volatility, volume, candlestick'
        description:
          type: string
          title: Description
          description: æŒ‡æ ‡æè¿°
        panel_type:
          type: string
          title: Panel Type
          description: 'é¢æ¿ç±»å‹: overlay æˆ– oscillator'
        parameters:
          items:
            type: object
          type: array
          title: Parameters
          description: å‚æ•°å®šä¹‰åˆ—è¡¨
        outputs:
          items:
            additionalProperties:
              type: string
            type: object
          type: array
          title: Outputs
          description: è¾“å‡ºå®šä¹‰åˆ—è¡¨
        reference_lines:
          anyOf:
          - items:
              type: number
            type: array
          - type: 'null'
          title: Reference Lines
          description: å‚è€ƒçº¿æ•°å€¼
        min_data_points_formula:
          type: string
          title: Min Data Points Formula
          description: æœ€å°æ•°æ®ç‚¹è®¡ç®—å…¬å¼
      type: object
      required:
      - abbreviation
      - full_name
      - chinese_name
      - category
      - description
      - panel_type
      - outputs
      - min_data_points_formula
      title: IndicatorMetadata
      description: "æŒ‡æ ‡å…ƒæ•°æ®\n\nExample:\n    {\n        \"abbreviation\": \"SMA\",\n\
        \        \"full_name\": \"Simple Moving Average\",\n        \"chinese_name\"\
        : \"ç®€å•ç§»åŠ¨å¹³å‡çº¿\",\n        \"category\": \"trend\",\n        \"description\"\
        : \"è®¡ç®—æ”¶ç›˜ä»·çš„ç®—æœ¯å¹³å‡å€¼\",\n        \"panel_type\": \"overlay\",\n        \"parameters\"\
        : [\n            {\n                \"name\": \"timeperiod\",\n          \
        \      \"type\": \"int\",\n                \"default\": 20,\n            \
        \    \"min\": 2,\n                \"max\": 200,\n                \"description\"\
        : \"å‘¨æœŸ\"\n            }\n        ],\n        \"outputs\": [\n            {\n\
        \                \"name\": \"sma\",\n                \"description\": \"SMAå€¼\"\
        \n            }\n        ],\n        \"reference_lines\": null,\n        \"\
        min_data_points_formula\": \"timeperiod\"\n    }"
    IndicatorRegistryResponse:
      properties:
        total_count:
          type: integer
          minimum: 0.0
          title: Total Count
          description: æŒ‡æ ‡æ€»æ•°
        categories:
          additionalProperties:
            type: integer
          type: object
          title: Categories
          description: å„åˆ†ç±»æŒ‡æ ‡æ•°é‡
        indicators:
          items:
            $ref: '#/components/schemas/IndicatorMetadata'
          type: array
          title: Indicators
          description: æŒ‡æ ‡å…ƒæ•°æ®åˆ—è¡¨
      type: object
      required:
      - total_count
      - categories
      - indicators
      title: IndicatorRegistryResponse
      description: "æŒ‡æ ‡æ³¨å†Œè¡¨å“åº”\n\nExample:\n    {\n        \"total_count\": 161,\n  \
        \      \"categories\": {\n            \"trend\": 15,\n            \"momentum\"\
        : 20,\n            \"volatility\": 10,\n            \"volume\": 8,\n     \
        \       \"candlestick\": 61\n        },\n        \"indicators\": [\n     \
        \       {...},\n            {...}\n        ]\n    }"
    IndicatorSpec:
      properties:
        abbreviation:
          type: string
          maxLength: 20
          minLength: 2
          title: Abbreviation
          description: æŒ‡æ ‡ç¼©å†™ (å¦‚ SMA, RSI, MACD)
        parameters:
          type: object
          title: Parameters
          description: æŒ‡æ ‡å‚æ•°å­—å…¸
      type: object
      required:
      - abbreviation
      title: IndicatorSpec
      description: "å•ä¸ªæŒ‡æ ‡è§„æ ¼\n\nExample:\n    {\"abbreviation\": \"SMA\", \"parameters\"\
        : {\"timeperiod\": 20}}"
    IndustryListResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: è¯·æ±‚æ˜¯å¦æˆåŠŸ
          default: true
        data:
          type: object
          title: Data
          description: å“åº”æ•°æ®
        timestamp:
          type: string
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
      type: object
      required:
      - data
      - timestamp
      title: IndustryListResponse
      description: è¡Œä¸šåˆ—è¡¨å“åº”æ¨¡å‹
      example:
        data:
          industries:
          - amount: 1543210000.0
            change_amount: 0.16
            change_percent: 1.25
            down_count: 27
            industry_code: BK0475
            industry_name: é“¶è¡Œ
            latest_price: 12.56
            leader_stock: 600036.SH
            stock_count: 42
            total_market_value: 54321000000.0
            turnover_rate: 0.85
            up_count: 15
            updated_at: '2025-11-17T10:30:00'
            volume: 123456789
          total_count: 1
        success: true
        timestamp: '2025-11-17T10:30:00'
    IndustryPerformanceResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: è¯·æ±‚æ˜¯å¦æˆåŠŸ
          default: true
        data:
          type: object
          title: Data
          description: å“åº”æ•°æ®
        timestamp:
          type: string
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
      type: object
      required:
      - data
      - timestamp
      title: IndustryPerformanceResponse
      description: è¡Œä¸šè¡¨ç°å“åº”æ¨¡å‹
      example:
        data:
          down_count: 27
          industry:
            amount: 1543210000.0
            change_amount: 0.16
            change_percent: 1.25
            down_count: 27
            industry_code: BK0475
            industry_name: é“¶è¡Œ
            latest_price: 12.56
            leader_stock: 600036.SH
            stock_count: 42
            total_market_value: 54321000000.0
            turnover_rate: 0.85
            up_count: 15
            updated_at: '2025-11-17T10:30:00'
            volume: 123456789
          leader_stock:
            change_percent: 1.85
            price: 38.45
            symbol: 600036.SH
          stocks_performance:
          - change_percent: 1.85
            latest_price: 38.45
            symbol: 600036.SH
          up_count: 15
        success: true
        timestamp: '2025-11-17T10:30:00'
    KlineDataPoint:
      properties:
        date:
          type: string
          title: Date
          description: æ—¥æœŸæ—¶é—´
        open:
          type: number
          title: Open
          description: å¼€ç›˜ä»·
        high:
          type: number
          title: High
          description: æœ€é«˜ä»·
        low:
          type: number
          title: Low
          description: æœ€ä½ä»·
        close:
          type: number
          title: Close
          description: æ”¶ç›˜ä»·
        volume:
          type: integer
          title: Volume
          description: æˆäº¤é‡
        amount:
          anyOf:
          - type: number
          - type: 'null'
          title: Amount
          description: æˆäº¤é¢
      type: object
      required:
      - date
      - open
      - high
      - low
      - close
      - volume
      title: KlineDataPoint
      description: Kçº¿æ•°æ®ç‚¹æ¨¡å‹
      example:
        amount: 22800000.0
        close: 1848.5
        date: '2025-10-15 09:30:00'
        high: 1850.0
        low: 1844.0
        open: 1845.0
        volume: 12345
    KlineResponse:
      properties:
        code:
          type: string
          title: Code
          description: è‚¡ç¥¨/æŒ‡æ•°ä»£ç 
        period:
          type: string
          title: Period
          description: Kçº¿å‘¨æœŸ
        data:
          items:
            $ref: '#/components/schemas/KlineDataPoint'
          type: array
          title: Data
          description: Kçº¿æ•°æ®åˆ—è¡¨
        count:
          type: integer
          title: Count
          description: æ•°æ®æ¡æ•°
      type: object
      required:
      - code
      - period
      - data
      - count
      title: KlineResponse
      description: Kçº¿æ•°æ®å“åº”æ¨¡å‹
      example:
        code: '600519'
        count: 1
        data:
        - amount: 22800000.0
          close: 1848.5
          date: '2025-10-15 09:30:00'
          high: 1850.0
          low: 1844.0
          open: 1845.0
          volume: 12345
        period: 5m
    LogQueryResponse:
      properties:
        success:
          type: boolean
          title: Success
        data:
          items:
            $ref: '#/components/schemas/SystemLog'
          type: array
          title: Data
        total:
          type: integer
          title: Total
        filtered:
          type: integer
          title: Filtered
        timestamp:
          type: string
          title: Timestamp
      type: object
      required:
      - success
      - data
      - total
      - filtered
      - timestamp
      title: LogQueryResponse
      description: æ—¥å¿—æŸ¥è¯¢å“åº”
    LongHuBangResponse:
      properties:
        id:
          type: integer
          title: Id
        symbol:
          type: string
          title: Symbol
        name:
          type: string
          title: Name
        trade_date:
          type: string
          format: date
          title: Trade Date
        reason:
          anyOf:
          - type: string
          - type: 'null'
          title: Reason
          description: ä¸Šæ¦œåŸå› 
        buy_amount:
          type: number
          title: Buy Amount
          description: ä¹°å…¥æ€»é¢(å…ƒ)
        sell_amount:
          type: number
          title: Sell Amount
          description: å–å‡ºæ€»é¢(å…ƒ)
        net_amount:
          type: number
          title: Net Amount
          description: å‡€ä¹°å…¥é¢(å…ƒ)
        turnover_rate:
          type: number
          title: Turnover Rate
          description: æ¢æ‰‹ç‡(%)
        institution_buy:
          anyOf:
          - type: number
          - type: 'null'
          title: Institution Buy
          description: æœºæ„ä¹°å…¥é¢
        institution_sell:
          anyOf:
          - type: number
          - type: 'null'
          title: Institution Sell
          description: æœºæ„å–å‡ºé¢
        created_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Created At
      type: object
      required:
      - id
      - symbol
      - name
      - trade_date
      - reason
      - buy_amount
      - sell_amount
      - net_amount
      - turnover_rate
      - institution_buy
      - institution_sell
      title: LongHuBangResponse
      description: é¾™è™æ¦œå“åº”
    MarketIndexItem:
      properties:
        symbol:
          type: string
          title: Symbol
          description: æŒ‡æ•°ä»£ç 
        name:
          type: string
          title: Name
          description: æŒ‡æ•°åç§°
        current_price:
          type: number
          title: Current Price
          description: å½“å‰ä»·æ ¼
        change_percent:
          type: number
          title: Change Percent
          description: æ¶¨è·Œå¹…(%)
        volume:
          anyOf:
          - type: number
          - type: 'null'
          title: Volume
          description: æˆäº¤é‡
        turnover:
          anyOf:
          - type: number
          - type: 'null'
          title: Turnover
          description: æˆäº¤é¢
        update_time:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Update Time
          description: æ›´æ–°æ—¶é—´
      type: object
      required:
      - symbol
      - name
      - current_price
      - change_percent
      title: MarketIndexItem
      description: å¸‚åœºæŒ‡æ•°é¡¹
    MarketOverview:
      properties:
        indices:
          items:
            $ref: '#/components/schemas/MarketIndexItem'
          type: array
          title: Indices
          description: å¸‚åœºæŒ‡æ•°åˆ—è¡¨
        up_count:
          type: integer
          title: Up Count
          description: ä¸Šæ¶¨å®¶æ•°
          default: 0
        down_count:
          type: integer
          title: Down Count
          description: ä¸‹è·Œå®¶æ•°
          default: 0
        flat_count:
          type: integer
          title: Flat Count
          description: å¹³ç›˜å®¶æ•°
          default: 0
        total_volume:
          anyOf:
          - type: number
          - type: 'null'
          title: Total Volume
          description: æ€»æˆäº¤é‡
        total_turnover:
          anyOf:
          - type: number
          - type: 'null'
          title: Total Turnover
          description: æ€»æˆäº¤é¢
        top_gainers:
          items:
            type: object
          type: array
          title: Top Gainers
          description: æ¶¨å¹…æ¦œ
        top_losers:
          items:
            type: object
          type: array
          title: Top Losers
          description: è·Œå¹…æ¦œ
        most_active:
          items:
            type: object
          type: array
          title: Most Active
          description: æˆäº¤é¢æ¦œ
      type: object
      title: MarketOverview
      description: å¸‚åœºæ¦‚è§ˆ
    MessageResponse:
      properties:
        success:
          type: boolean
          title: Success
        message:
          type: string
          title: Message
        data:
          anyOf:
          - type: object
          - type: 'null'
          title: Data
      type: object
      required:
      - success
      - message
      title: MessageResponse
      description: é€šç”¨æ¶ˆæ¯å“åº”
    ModelDetailResponse:
      properties:
        name:
          type: string
          title: Name
          description: æ¨¡å‹åç§°
        metadata:
          type: object
          title: Metadata
          description: æ¨¡å‹å…ƒæ•°æ®
        training_history:
          items:
            type: object
          type: array
          title: Training History
          description: è®­ç»ƒå†å²
        feature_importance:
          anyOf:
          - items:
              type: object
            type: array
          - type: 'null'
          title: Feature Importance
          description: ç‰¹å¾é‡è¦æ€§
      type: object
      required:
      - name
      - metadata
      - training_history
      title: ModelDetailResponse
      description: æ¨¡å‹è¯¦æƒ…å“åº”
    ModelEvaluationRequest:
      properties:
        model_name:
          type: string
          title: Model Name
          description: æ¨¡å‹åç§°
        stock_code:
          type: string
          title: Stock Code
          description: è‚¡ç¥¨ä»£ç 
        market:
          type: string
          title: Market
          description: å¸‚åœºä»£ç 
          default: sh
      type: object
      required:
      - model_name
      - stock_code
      title: ModelEvaluationRequest
      description: æ¨¡å‹è¯„ä¼°è¯·æ±‚
    ModelEvaluationResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸ
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
        model_name:
          type: string
          title: Model Name
          description: æ¨¡å‹åç§°
        metrics:
          type: object
          title: Metrics
          description: è¯„ä¼°æŒ‡æ ‡
      type: object
      required:
      - success
      - message
      - model_name
      - metrics
      title: ModelEvaluationResponse
      description: æ¨¡å‹è¯„ä¼°å“åº”
    ModelInfo:
      properties:
        name:
          type: string
          title: Name
          description: æ¨¡å‹åç§°
        path:
          type: string
          title: Path
          description: æ¨¡å‹è·¯å¾„
        trained_at:
          type: string
          title: Trained At
          description: è®­ç»ƒæ—¶é—´
        test_rmse:
          type: number
          title: Test Rmse
          description: æµ‹è¯•é›†RMSE
        test_r2:
          type: number
          title: Test R2
          description: æµ‹è¯•é›†RÂ²
        train_samples:
          anyOf:
          - type: integer
          - type: 'null'
          title: Train Samples
          description: è®­ç»ƒæ ·æœ¬æ•°
        test_samples:
          anyOf:
          - type: integer
          - type: 'null'
          title: Test Samples
          description: æµ‹è¯•æ ·æœ¬æ•°
        feature_dim:
          anyOf:
          - type: integer
          - type: 'null'
          title: Feature Dim
          description: ç‰¹å¾ç»´åº¦
      type: object
      required:
      - name
      - path
      - trained_at
      - test_rmse
      - test_r2
      title: ModelInfo
      description: æ¨¡å‹ä¿¡æ¯
    ModelListResponse:
      properties:
        total:
          type: integer
          title: Total
          description: æ¨¡å‹æ€»æ•°
        models:
          items:
            $ref: '#/components/schemas/ModelInfo'
          type: array
          title: Models
          description: æ¨¡å‹åˆ—è¡¨
      type: object
      required:
      - total
      - models
      title: ModelListResponse
      description: æ¨¡å‹åˆ—è¡¨å“åº”
    ModelPredictRequest:
      properties:
        model_name:
          type: string
          title: Model Name
          description: æ¨¡å‹åç§°
        stock_code:
          type: string
          title: Stock Code
          description: è‚¡ç¥¨ä»£ç 
        market:
          type: string
          title: Market
          description: å¸‚åœºä»£ç 
          default: sh
        days:
          type: integer
          maximum: 30.0
          minimum: 1.0
          title: Days
          description: é¢„æµ‹å¤©æ•°
          default: 1
      type: object
      required:
      - model_name
      - stock_code
      title: ModelPredictRequest
      description: æ¨¡å‹é¢„æµ‹è¯·æ±‚
    ModelPredictResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸ
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
        model_name:
          type: string
          title: Model Name
          description: ä½¿ç”¨çš„æ¨¡å‹åç§°
        stock_code:
          type: string
          title: Stock Code
          description: è‚¡ç¥¨ä»£ç 
        predictions:
          items:
            $ref: '#/components/schemas/PredictionResult'
          type: array
          title: Predictions
          description: é¢„æµ‹ç»“æœåˆ—è¡¨
      type: object
      required:
      - success
      - message
      - model_name
      - stock_code
      - predictions
      title: ModelPredictResponse
      description: æ¨¡å‹é¢„æµ‹å“åº”
    ModelTrainRequest:
      properties:
        stock_code:
          type: string
          title: Stock Code
          description: è‚¡ç¥¨ä»£ç 
        market:
          type: string
          title: Market
          description: å¸‚åœºä»£ç 
          default: sh
        step:
          type: integer
          title: Step
          description: æ»šåŠ¨çª—å£å¤§å°
          default: 10
        test_size:
          type: number
          maximum: 0.5
          minimum: 0.1
          title: Test Size
          description: æµ‹è¯•é›†æ¯”ä¾‹
          default: 0.2
        model_name:
          type: string
          title: Model Name
          description: æ¨¡å‹åç§°
        model_params:
          anyOf:
          - type: object
          - type: 'null'
          title: Model Params
          description: æ¨¡å‹å‚æ•°
      type: object
      required:
      - stock_code
      - model_name
      title: ModelTrainRequest
      description: æ¨¡å‹è®­ç»ƒè¯·æ±‚
    ModelTrainResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸ
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
        model_name:
          type: string
          title: Model Name
          description: æ¨¡å‹åç§°
        metrics:
          type: object
          title: Metrics
          description: è¯„ä¼°æŒ‡æ ‡
      type: object
      required:
      - success
      - message
      - model_name
      - metrics
      title: ModelTrainResponse
      description: æ¨¡å‹è®­ç»ƒå“åº”
    MoveStockRequest:
      properties:
        symbol:
          type: string
          maxLength: 20
          minLength: 1
          pattern: ^[A-Z0-9.]+$
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        from_group_id:
          type: integer
          minimum: 1.0
          title: From Group Id
          description: åŸåˆ†ç»„ID
        to_group_id:
          type: integer
          minimum: 1.0
          title: To Group Id
          description: ç›®æ ‡åˆ†ç»„ID
      type: object
      required:
      - symbol
      - from_group_id
      - to_group_id
      title: MoveStockRequest
      description: ç§»åŠ¨è‚¡ç¥¨è¯·æ±‚
    NewsItem:
      properties:
        headline:
          type: string
          maxLength: 200
          title: Headline
          description: æ ‡é¢˜
        summary:
          type: string
          maxLength: 1000
          title: Summary
          description: æ‘˜è¦
        source:
          type: string
          maxLength: 100
          title: Source
          description: æ¥æº
        datetime:
          type: number
          title: Datetime
          description: æ—¶é—´æˆ³
        url:
          type: string
          maxLength: 500
          title: Url
          description: é“¾æ¥
        image:
          anyOf:
          - type: string
            maxLength: 500
          - type: 'null'
          title: Image
          description: å›¾ç‰‡
        category:
          anyOf:
          - type: string
            maxLength: 50
          - type: 'null'
          title: Category
          description: åˆ†ç±»
      type: object
      required:
      - headline
      - summary
      - source
      - datetime
      - url
      title: NewsItem
      description: æ–°é—»æ¡ç›®
    NotificationPreferences:
      properties:
        email_enabled:
          type: boolean
          title: Email Enabled
          description: æ˜¯å¦å¯ç”¨é‚®ä»¶é€šçŸ¥
          default: true
        websocket_enabled:
          type: boolean
          title: Websocket Enabled
          description: æ˜¯å¦å¯ç”¨WebSocketé€šçŸ¥
          default: true
        price_alerts:
          type: boolean
          title: Price Alerts
          description: æ˜¯å¦æ¥æ”¶ä»·æ ¼æé†’
          default: true
        news_alerts:
          type: boolean
          title: News Alerts
          description: æ˜¯å¦æ¥æ”¶æ–°é—»æé†’
          default: true
        system_alerts:
          type: boolean
          title: System Alerts
          description: æ˜¯å¦æ¥æ”¶ç³»ç»Ÿæé†’
          default: true
        quiet_hours:
          anyOf:
          - additionalProperties:
              type: string
            type: object
          - type: 'null'
          title: Quiet Hours
          description: 'å…æ‰“æ‰°æ—¶é—´æ®µ {''start'': ''22:00'', ''end'': ''08:00''}'
        max_daily_emails:
          type: integer
          maximum: 200.0
          minimum: 1.0
          title: Max Daily Emails
          description: æ¯æ—¥æœ€å¤§é‚®ä»¶æ•°é‡
          default: 50
      type: object
      title: NotificationPreferences
      description: ç”¨æˆ·é€šçŸ¥åå¥½è®¾ç½®
    NotificationTestRequest:
      properties:
        notification_type:
          type: string
          title: Notification Type
          description: é€šçŸ¥ç±»å‹ (e.g., 'email', 'webhook')
        config_data:
          type: object
          title: Config Data
          description: 'é€šçŸ¥é…ç½®æ•°æ® (e.g., {''email'': ''test@example.com''})'
      type: object
      required:
      - notification_type
      - config_data
      title: NotificationTestRequest
      description: æµ‹è¯•é€šçŸ¥è¯·æ±‚æ¨¡å‹
      example:
        config_data:
          email: test@example.com
          message: Hello
          subject: Test
        notification_type: email
    NotificationTestResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸå‘é€
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
      type: object
      required:
      - success
      - message
      title: NotificationTestResponse
      description: æµ‹è¯•é€šçŸ¥å“åº”æ¨¡å‹
      example:
        message: æµ‹è¯•é€šçŸ¥å‘é€æˆåŠŸ
        success: true
    PerformanceMetrics:
      properties:
        total_return:
          type: number
          title: Total Return
          description: æ€»æ”¶ç›Šç‡ (%)
        annual_return:
          type: number
          title: Annual Return
          description: å¹´åŒ–æ”¶ç›Šç‡ (%)
        benchmark_return:
          anyOf:
          - type: number
          - type: 'null'
          title: Benchmark Return
          description: åŸºå‡†æ”¶ç›Šç‡ (%)
        alpha:
          anyOf:
          - type: number
          - type: 'null'
          title: Alpha
          description: é˜¿å°”æ³•å€¼
        beta:
          anyOf:
          - type: number
          - type: 'null'
          title: Beta
          description: è´å¡”å€¼
        sharpe_ratio:
          type: number
          title: Sharpe Ratio
          description: å¤æ™®æ¯”ç‡
        max_drawdown:
          type: number
          maximum: 0.0
          title: Max Drawdown
          description: æœ€å¤§å›æ’¤ (%)
        volatility:
          type: number
          minimum: 0.0
          title: Volatility
          description: æ³¢åŠ¨ç‡ (%)
        total_trades:
          type: integer
          minimum: 0.0
          title: Total Trades
          description: æ€»äº¤æ˜“æ¬¡æ•°
        win_rate:
          type: number
          maximum: 100.0
          minimum: 0.0
          title: Win Rate
          description: èƒœç‡ (%)
        profit_factor:
          type: number
          minimum: 0.0
          title: Profit Factor
          description: ç›ˆäºæ¯”
        calmar_ratio:
          anyOf:
          - type: number
          - type: 'null'
          title: Calmar Ratio
          description: å¡ç›æ¯”ç‡
        sortino_ratio:
          anyOf:
          - type: number
          - type: 'null'
          title: Sortino Ratio
          description: ç´¢æè¯ºæ¯”ç‡
      type: object
      required:
      - total_return
      - annual_return
      - sharpe_ratio
      - max_drawdown
      - volatility
      - total_trades
      - win_rate
      - profit_factor
      title: PerformanceMetrics
      description: ç»©æ•ˆæŒ‡æ ‡
    PortfolioSummary:
      properties:
        total_market_value:
          type: number
          title: Total Market Value
          description: æ€»å¸‚å€¼
          default: 0
        total_cost:
          type: number
          title: Total Cost
          description: æ€»æˆæœ¬
          default: 0
        total_profit_loss:
          type: number
          title: Total Profit Loss
          description: æ€»ç›ˆäº
          default: 0
        total_profit_loss_percent:
          type: number
          title: Total Profit Loss Percent
          description: æ€»ç›ˆäºæ¯”ä¾‹(%)
          default: 0
        position_count:
          type: integer
          title: Position Count
          description: æŒä»“è‚¡ç¥¨æ•°
          default: 0
        positions:
          items:
            $ref: '#/components/schemas/PositionItem'
          type: array
          title: Positions
          description: æŒä»“åˆ—è¡¨
      type: object
      title: PortfolioSummary
      description: æŒä»“æ±‡æ€»
    Position:
      properties:
        symbol:
          type: string
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        symbol_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Symbol Name
          description: è‚¡ç¥¨åç§°
        quantity:
          type: integer
          title: Quantity
          description: æŒä»“æ•°é‡
        available_quantity:
          type: integer
          title: Available Quantity
          description: å¯ç”¨æ•°é‡
        cost_price:
          type: string
          title: Cost Price
          description: æˆæœ¬ä»·
        current_price:
          anyOf:
          - type: string
          - type: 'null'
          title: Current Price
          description: å½“å‰ä»·
        market_value:
          type: string
          title: Market Value
          description: å¸‚å€¼
        profit_loss:
          type: string
          title: Profit Loss
          description: æµ®åŠ¨ç›ˆäº
        profit_loss_percent:
          type: number
          title: Profit Loss Percent
          description: ç›ˆäºæ¯”ä¾‹(%)
        last_update:
          type: string
          format: date-time
          title: Last Update
          description: æœ€åæ›´æ–°æ—¶é—´
      type: object
      required:
      - symbol
      - quantity
      - available_quantity
      - cost_price
      - market_value
      - profit_loss
      - profit_loss_percent
      - last_update
      title: Position
      description: æŒä»“ä¿¡æ¯
      example:
        available_quantity: 1000
        cost_price: '10.00'
        current_price: '10.50'
        last_update: '2025-12-29T15:30:00'
        market_value: '10500.00'
        profit_loss: '500.00'
        profit_loss_percent: 5.0
        quantity: 1000
        symbol: 000001.SZ
        symbol_name: å¹³å®‰é“¶è¡Œ
    PositionItem:
      properties:
        symbol:
          type: string
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        name:
          anyOf:
          - type: string
          - type: 'null'
          title: Name
          description: è‚¡ç¥¨åç§°
        quantity:
          type: number
          minimum: 0.0
          title: Quantity
          description: æŒä»“æ•°é‡
        avg_cost:
          type: number
          minimum: 0.0
          title: Avg Cost
          description: å¹³å‡æˆæœ¬
        current_price:
          anyOf:
          - type: number
          - type: 'null'
          title: Current Price
          description: å½“å‰ä»·æ ¼
        market_value:
          anyOf:
          - type: number
          - type: 'null'
          title: Market Value
          description: å¸‚å€¼
        profit_loss:
          anyOf:
          - type: number
          - type: 'null'
          title: Profit Loss
          description: ç›ˆäºé‡‘é¢
        profit_loss_percent:
          anyOf:
          - type: number
          - type: 'null'
          title: Profit Loss Percent
          description: ç›ˆäºæ¯”ä¾‹(%)
        position_percent:
          anyOf:
          - type: number
          - type: 'null'
          title: Position Percent
          description: æŒä»“å æ¯”(%)
      type: object
      required:
      - symbol
      - quantity
      - avg_cost
      title: PositionItem
      description: æŒä»“é¡¹
    PositionsResponse:
      properties:
        positions:
          items:
            $ref: '#/components/schemas/Position'
          type: array
          title: Positions
          description: æŒä»“åˆ—è¡¨
        total_count:
          type: integer
          title: Total Count
          description: æŒä»“æ•°é‡
        total_market_value:
          type: string
          title: Total Market Value
          description: æ€»å¸‚å€¼
        total_profit_loss:
          type: string
          title: Total Profit Loss
          description: æ€»æµ®åŠ¨ç›ˆäº
        total_profit_loss_percent:
          type: number
          title: Total Profit Loss Percent
          description: æ€»ç›ˆäºæ¯”ä¾‹(%)
      type: object
      required:
      - positions
      - total_count
      - total_market_value
      - total_profit_loss
      - total_profit_loss_percent
      title: PositionsResponse
      description: æŒä»“åˆ—è¡¨å“åº”
    PredictionResult:
      properties:
        date:
          type: string
          title: Date
          description: æ—¥æœŸ
        predicted_price:
          type: number
          title: Predicted Price
          description: é¢„æµ‹ä»·æ ¼
        confidence:
          anyOf:
          - type: number
          - type: 'null'
          title: Confidence
          description: ç½®ä¿¡åº¦
      type: object
      required:
      - date
      - predicted_price
      title: PredictionResult
      description: å•æ¬¡é¢„æµ‹ç»“æœ
    RealTimeQuoteResponse:
      properties:
        code:
          type: string
          title: Code
          description: è‚¡ç¥¨ä»£ç 
        name:
          type: string
          title: Name
          description: è‚¡ç¥¨åç§°
        price:
          type: number
          title: Price
          description: æœ€æ–°ä»·
        pre_close:
          type: number
          title: Pre Close
          description: æ˜¨æ”¶ä»·
        open:
          type: number
          title: Open
          description: å¼€ç›˜ä»·
        high:
          type: number
          title: High
          description: æœ€é«˜ä»·
        low:
          type: number
          title: Low
          description: æœ€ä½ä»·
        volume:
          type: integer
          title: Volume
          description: æˆäº¤é‡(æ‰‹)
        amount:
          type: number
          title: Amount
          description: æˆäº¤é¢(å…ƒ)
        bid1:
          type: number
          title: Bid1
          description: ä¹°ä¸€ä»·
        bid1_volume:
          type: integer
          title: Bid1 Volume
          description: ä¹°ä¸€é‡
        ask1:
          type: number
          title: Ask1
          description: å–ä¸€ä»·
        ask1_volume:
          type: integer
          title: Ask1 Volume
          description: å–ä¸€é‡
        timestamp:
          type: string
          title: Timestamp
          description: æŸ¥è¯¢æ—¶é—´æˆ³
        change:
          anyOf:
          - type: number
          - type: 'null'
          title: Change
          description: æ¶¨è·Œé¢
        change_pct:
          anyOf:
          - type: number
          - type: 'null'
          title: Change Pct
          description: æ¶¨è·Œå¹…(%)
      type: object
      required:
      - code
      - name
      - price
      - pre_close
      - open
      - high
      - low
      - volume
      - amount
      - bid1
      - bid1_volume
      - ask1
      - ask1_volume
      - timestamp
      title: RealTimeQuoteResponse
      description: å®æ—¶è¡Œæƒ…å“åº”æ¨¡å‹
      example:
        amount: 228000000.0
        ask1: 1851.0
        ask1_volume: 150
        bid1: 1850.0
        bid1_volume: 100
        change: 5.5
        change_pct: 0.3
        code: '600519'
        high: 1852.0
        low: 1844.0
        name: è´µå·èŒ…å°
        open: 1846.0
        pre_close: 1845.0
        price: 1850.5
        timestamp: '2025-10-15 14:30:00'
        volume: 123456
    RiskAlert:
      properties:
        alert_id:
          type: integer
          title: Alert Id
          description: é¢„è­¦ID
        alert_type:
          type: string
          title: Alert Type
          description: é¢„è­¦ç±»å‹
        alert_level:
          type: string
          title: Alert Level
          description: 'é¢„è­¦çº§åˆ«: info/warning/critical'
        symbol:
          anyOf:
          - type: string
          - type: 'null'
          title: Symbol
          description: ç›¸å…³è‚¡ç¥¨ä»£ç 
        message:
          type: string
          title: Message
          description: é¢„è­¦æ¶ˆæ¯
        triggered_at:
          type: string
          format: date-time
          title: Triggered At
          description: è§¦å‘æ—¶é—´
        is_read:
          type: boolean
          title: Is Read
          description: æ˜¯å¦å·²è¯»
          default: false
      type: object
      required:
      - alert_id
      - alert_type
      - alert_level
      - message
      - triggered_at
      title: RiskAlert
      description: é£é™©é¢„è­¦é¡¹
    RiskAlertCreate:
      properties:
        name:
          type: string
          maxLength: 100
          minLength: 1
          title: Name
          description: é¢„è­¦è§„åˆ™åç§°
        metric_type:
          type: string
          title: Metric Type
          description: ç›‘æ§æŒ‡æ ‡ç±»å‹ (e.g., 'VaR', 'MaxDrawdown', 'Beta')
        threshold_value:
          type: number
          title: Threshold Value
          description: é˜ˆå€¼
        condition:
          type: string
          pattern: ^[<>=!]+$
          title: Condition
          description: è§¦å‘æ¡ä»¶ (e.g., '>', '<', '=')
        entity_type:
          type: string
          title: Entity Type
          description: å…³è”å®ä½“ç±»å‹ ('portfolio', 'strategy', 'system')
        entity_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Entity Id
          description: å…³è”å®ä½“ID (å¯é€‰)
        is_active:
          type: boolean
          title: Is Active
          description: æ˜¯å¦å¯ç”¨
          default: true
        notification_channels:
          items:
            type: string
          type: array
          title: Notification Channels
          description: é€šçŸ¥æ¸ é“ (e.g., 'email', 'webhook')
      type: object
      required:
      - name
      - metric_type
      - threshold_value
      - condition
      - entity_type
      title: RiskAlertCreate
      description: åˆ›å»ºé£é™©é¢„è­¦è§„åˆ™è¯·æ±‚æ¨¡å‹
      example:
        condition: '>'
        entity_id: 101
        entity_type: portfolio
        is_active: true
        metric_type: VaR
        name: ç»„åˆVaRè¶…é™é¢„è­¦
        notification_channels:
        - email
        threshold_value: 0.05
    RiskAlertResponse:
      properties:
        id:
          type: integer
          title: Id
          description: é¢„è­¦ID
        name:
          type: string
          title: Name
          description: é¢„è­¦è§„åˆ™åç§°
        metric_type:
          type: string
          title: Metric Type
          description: ç›‘æ§æŒ‡æ ‡ç±»å‹
        threshold_value:
          type: number
          title: Threshold Value
          description: é˜ˆå€¼
        condition:
          type: string
          title: Condition
          description: è§¦å‘æ¡ä»¶
        entity_type:
          type: string
          title: Entity Type
          description: å…³è”å®ä½“ç±»å‹
        entity_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Entity Id
          description: å…³è”å®ä½“ID
        is_active:
          type: boolean
          title: Is Active
          description: æ˜¯å¦å¯ç”¨
        notification_channels:
          items:
            type: string
          type: array
          title: Notification Channels
          description: é€šçŸ¥æ¸ é“
        created_at:
          type: string
          format: date-time
          title: Created At
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
          description: æ›´æ–°æ—¶é—´
      type: object
      required:
      - id
      - name
      - metric_type
      - threshold_value
      - condition
      - entity_type
      - is_active
      - created_at
      title: RiskAlertResponse
      description: é£é™©é¢„è­¦è§„åˆ™å“åº”æ¨¡å‹
      example:
        condition: '>'
        created_at: '2024-12-26T10:00:00'
        entity_id: 101
        entity_type: portfolio
        id: 1
        is_active: true
        metric_type: VaR
        name: ç»„åˆVaRè¶…é™é¢„è­¦
        notification_channels:
        - email
        threshold_value: 0.05
        updated_at: '2024-12-26T11:00:00'
    RiskAlertSummary:
      properties:
        total_count:
          type: integer
          title: Total Count
          description: é¢„è­¦æ€»æ•°
          default: 0
        unread_count:
          type: integer
          title: Unread Count
          description: æœªè¯»é¢„è­¦æ•°
          default: 0
        critical_count:
          type: integer
          title: Critical Count
          description: ä¸¥é‡é¢„è­¦æ•°
          default: 0
        alerts:
          items:
            $ref: '#/components/schemas/RiskAlert'
          type: array
          title: Alerts
          description: é¢„è­¦åˆ—è¡¨
      type: object
      title: RiskAlertSummary
      description: é£é™©é¢„è­¦æ±‡æ€»
    RiskAlertUpdate:
      properties:
        name:
          anyOf:
          - type: string
            maxLength: 100
            minLength: 1
          - type: 'null'
          title: Name
          description: é¢„è­¦è§„åˆ™åç§°
        metric_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Metric Type
          description: ç›‘æ§æŒ‡æ ‡ç±»å‹
        threshold_value:
          anyOf:
          - type: number
          - type: 'null'
          title: Threshold Value
          description: é˜ˆå€¼
        condition:
          anyOf:
          - type: string
            pattern: ^[<>=!]+$
          - type: 'null'
          title: Condition
          description: è§¦å‘æ¡ä»¶
        entity_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Entity Type
          description: å…³è”å®ä½“ç±»å‹
        entity_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Entity Id
          description: å…³è”å®ä½“ID
        is_active:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Is Active
          description: æ˜¯å¦å¯ç”¨
        notification_channels:
          anyOf:
          - items:
              type: string
            type: array
          - type: 'null'
          title: Notification Channels
          description: é€šçŸ¥æ¸ é“
      type: object
      title: RiskAlertUpdate
      description: æ›´æ–°é£é™©é¢„è­¦è§„åˆ™è¯·æ±‚æ¨¡å‹
      example:
        is_active: false
        name: ç»„åˆVaRè¶…é™é¢„è­¦ (æ›´æ–°)
        threshold_value: 0.06
    RiskDashboardResponse:
      properties:
        metrics:
          allOf:
          - $ref: '#/components/schemas/RiskMetricsSummary'
          description: é£é™©æŒ‡æ ‡æ±‡æ€»
        active_alerts:
          items:
            $ref: '#/components/schemas/ActiveAlert'
          type: array
          title: Active Alerts
          description: æ´»è·ƒé¢„è­¦åˆ—è¡¨
        risk_history:
          items:
            $ref: '#/components/schemas/RiskHistoryPoint'
          type: array
          title: Risk History
          description: é£é™©å†å²æ•°æ®
      type: object
      required:
      - metrics
      title: RiskDashboardResponse
      description: é£é™©ä»ªè¡¨ç›˜å“åº”æ¨¡å‹
      example:
        active_alerts:
        - id: 1
          metric_type: VaR
          name: VaRè¶…é™
          threshold_value: 0.03
        metrics:
          beta: 1.1
          cvar_95: -0.03
          var_95_hist: -0.025
        risk_history:
        - beta: 1.0
          cvar_95: -0.015
          date: '2024-01-01'
          var_95_hist: -0.01
        - beta: 1.05
          cvar_95: -0.018
          date: '2024-01-02'
          var_95_hist: -0.012
    RiskHistoryPoint:
      properties:
        date:
          type: string
          format: date
          title: Date
          description: æ—¥æœŸ
        var_95_hist:
          anyOf:
          - type: number
          - type: 'null'
          title: Var 95 Hist
          description: 95% å†å² VaR
        cvar_95:
          anyOf:
          - type: number
          - type: 'null'
          title: Cvar 95
          description: 95% CVaR
        beta:
          anyOf:
          - type: number
          - type: 'null'
          title: Beta
          description: Beta ç³»æ•°
      type: object
      required:
      - date
      title: RiskHistoryPoint
      description: é£é™©å†å²æ•°æ®ç‚¹æ¨¡å‹
    RiskMetricsSummary:
      properties:
        var_95_hist:
          anyOf:
          - type: number
          - type: 'null'
          title: Var 95 Hist
          description: æœ€æ–° 95% å†å² VaR
        cvar_95:
          anyOf:
          - type: number
          - type: 'null'
          title: Cvar 95
          description: æœ€æ–° 95% CVaR
        beta:
          anyOf:
          - type: number
          - type: 'null'
          title: Beta
          description: æœ€æ–° Beta ç³»æ•°
      type: object
      title: RiskMetricsSummary
      description: é£é™©æŒ‡æ ‡æ±‡æ€»æ¨¡å‹
    SendEmailRequest:
      properties:
        to_addresses:
          items:
            type: string
            format: email
          type: array
          maxItems: 100
          minItems: 1
          title: To Addresses
          description: æ”¶ä»¶äººåˆ—è¡¨ï¼Œæœ€å¤š100ä¸ªé‚®ç®±åœ°å€
        subject:
          type: string
          maxLength: 200
          minLength: 1
          title: Subject
          description: é‚®ä»¶ä¸»é¢˜ï¼Œ1-200å­—ç¬¦
        content:
          type: string
          maxLength: 100000
          minLength: 1
          title: Content
          description: é‚®ä»¶å†…å®¹ï¼Œ1-100000å­—ç¬¦
        content_type:
          type: string
          pattern: ^(plain|html)$
          title: Content Type
          description: 'å†…å®¹ç±»å‹: plain æˆ– html'
          default: plain
        priority:
          type: string
          pattern: ^(low|normal|high|urgent)$
          title: Priority
          description: é‚®ä»¶ä¼˜å…ˆçº§
          default: normal
        scheduled_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Scheduled At
          description: å®šæ—¶å‘é€æ—¶é—´ï¼ˆUTCï¼‰ï¼Œä¸ºç©ºåˆ™ç«‹å³å‘é€
      type: object
      required:
      - to_addresses
      - subject
      - content
      title: SendEmailRequest
      description: å‘é€é‚®ä»¶è¯·æ±‚ - Phase 4C Enhanced
    SendNewsletterRequest:
      properties:
        user_email:
          type: string
          format: email
          title: User Email
          description: ç”¨æˆ·é‚®ç®±
        user_name:
          type: string
          maxLength: 100
          minLength: 1
          title: User Name
          description: ç”¨æˆ·å§“å
        watchlist_symbols:
          items:
            type: string
            maxLength: 20
            minLength: 1
          type: array
          maxItems: 50
          minItems: 1
          title: Watchlist Symbols
          description: è‡ªé€‰è‚¡åˆ—è¡¨ï¼Œ1-50ä¸ªè‚¡ç¥¨ä»£ç 
        news_data:
          items:
            type: object
          type: array
          maxItems: 100
          minItems: 1
          title: News Data
          description: æ–°é—»æ•°æ®ï¼Œ1-100æ¡æ–°é—»
        newsletter_type:
          type: string
          pattern: ^(daily|weekly|monthly)$
          title: Newsletter Type
          description: ç®€æŠ¥ç±»å‹
          default: daily
      type: object
      required:
      - user_email
      - user_name
      - watchlist_symbols
      - news_data
      title: SendNewsletterRequest
      description: å‘é€æ–°é—»ç®€æŠ¥è¯·æ±‚ - Phase 4C Enhanced
    SendPriceAlertRequest:
      properties:
        user_email:
          type: string
          format: email
          title: User Email
          description: ç”¨æˆ·é‚®ç®±
        user_name:
          type: string
          maxLength: 100
          minLength: 1
          title: User Name
          description: ç”¨æˆ·å§“å
        symbol:
          type: string
          maxLength: 20
          minLength: 1
          pattern: ^[A-Za-z0-9\.]+$
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        stock_name:
          type: string
          maxLength: 100
          minLength: 1
          title: Stock Name
          description: è‚¡ç¥¨åç§°
        current_price:
          type: number
          exclusiveMinimum: 0.0
          title: Current Price
          description: å½“å‰ä»·æ ¼ï¼Œå¿…é¡»å¤§äº0
        alert_condition:
          type: string
          pattern: ^(é«˜äº|ä½äº|çªç ´|è·Œç ´)$
          title: Alert Condition
          description: æé†’æ¡ä»¶
        alert_price:
          type: number
          exclusiveMinimum: 0.0
          title: Alert Price
          description: æé†’ä»·æ ¼ï¼Œå¿…é¡»å¤§äº0
        percentage_change:
          anyOf:
          - type: number
            maximum: 1000.0
            minimum: -100.0
          - type: 'null'
          title: Percentage Change
          description: ä»·æ ¼å˜åŒ–ç™¾åˆ†æ¯”ï¼Œ-100%åˆ°1000%
      type: object
      required:
      - user_email
      - user_name
      - symbol
      - stock_name
      - current_price
      - alert_condition
      - alert_price
      title: SendPriceAlertRequest
      description: å‘é€ä»·æ ¼æé†’è¯·æ±‚ - Phase 4C Enhanced
    SendWelcomeEmailRequest:
      properties:
        user_email:
          type: string
          format: email
          title: User Email
          description: ç”¨æˆ·é‚®ç®±
        user_name:
          type: string
          maxLength: 100
          minLength: 1
          title: User Name
          description: ç”¨æˆ·å§“åï¼Œ1-100å­—ç¬¦
        welcome_offer:
          anyOf:
          - type: string
            maxLength: 500
          - type: 'null'
          title: Welcome Offer
          description: æ¬¢è¿ä¼˜æƒ ä¿¡æ¯ï¼Œæœ€å¤š500å­—ç¬¦
        language:
          type: string
          pattern: ^(zh-CN|en-US)$
          title: Language
          description: é‚®ä»¶è¯­è¨€
          default: zh-CN
      type: object
      required:
      - user_email
      - user_name
      title: SendWelcomeEmailRequest
      description: å‘é€æ¬¢è¿é‚®ä»¶è¯·æ±‚ - Phase 4C Enhanced
    StockListResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: è¯·æ±‚æ˜¯å¦æˆåŠŸ
          default: true
        data:
          type: object
          title: Data
          description: å“åº”æ•°æ®
        timestamp:
          type: string
          title: Timestamp
          description: å“åº”æ—¶é—´æˆ³
      type: object
      required:
      - data
      - timestamp
      title: StockListResponse
      description: è‚¡ç¥¨åˆ—è¡¨å“åº”æ¨¡å‹
      example:
        data:
          industry_code: BK0475
          stocks:
          - amount: 1754321000.0
            change_percent: 1.85
            latest_price: 38.45
            name: æ‹›å•†é“¶è¡Œ
            symbol: 600036.SH
            volume: 45678901
          total_count: 1
        success: true
        timestamp: '2025-11-17T10:30:00'
    StockQuote:
      properties:
        symbol:
          anyOf:
          - type: string
          - type: 'null'
          title: Symbol
        name:
          anyOf:
          - type: string
          - type: 'null'
          title: Name
        current:
          type: number
          title: Current
          description: å½“å‰ä»·æ ¼
        change:
          type: number
          title: Change
          description: æ¶¨è·Œé¢
        percent_change:
          type: number
          title: Percent Change
          description: æ¶¨è·Œå¹…
        high:
          type: number
          title: High
          description: æœ€é«˜ä»·
        low:
          type: number
          title: Low
          description: æœ€ä½ä»·
        open:
          type: number
          title: Open
          description: å¼€ç›˜ä»·
        previous_close:
          type: number
          title: Previous Close
          description: æ˜¨æ”¶
        volume:
          anyOf:
          - type: number
          - type: 'null'
          title: Volume
          description: æˆäº¤é‡
        amount:
          anyOf:
          - type: number
          - type: 'null'
          title: Amount
          description: æˆäº¤é¢
        timestamp:
          type: number
          title: Timestamp
          description: æ—¶é—´æˆ³
      type: object
      required:
      - current
      - change
      - percent_change
      - high
      - low
      - open
      - previous_close
      - timestamp
      title: StockQuote
      description: è‚¡ç¥¨æŠ¥ä»·
    StockSearchResult:
      properties:
        symbol:
          type: string
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        description:
          type: string
          title: Description
          description: è‚¡ç¥¨åç§°
        displaySymbol:
          type: string
          title: Displaysymbol
          description: æ˜¾ç¤ºä»£ç 
        type:
          type: string
          title: Type
          description: ç±»å‹
        exchange:
          type: string
          title: Exchange
          description: äº¤æ˜“æ‰€
        market:
          anyOf:
          - type: string
          - type: 'null'
          title: Market
          description: å¸‚åœº
      type: object
      required:
      - symbol
      - description
      - displaySymbol
      - type
      - exchange
      title: StockSearchResult
      description: è‚¡ç¥¨æœç´¢ç»“æœ
    StrategyConfig:
      properties:
        strategy_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Strategy Id
          description: ç­–ç•¥ID (åˆ›å»ºæ—¶ä¸ºNone)
        user_id:
          type: integer
          minimum: 1.0
          title: User Id
          description: ç”¨æˆ·ID
        strategy_name:
          type: string
          maxLength: 100
          minLength: 1
          title: Strategy Name
          description: ç­–ç•¥åç§°
        strategy_type:
          $ref: '#/components/schemas/StrategyType'
        description:
          anyOf:
          - type: string
            maxLength: 500
          - type: 'null'
          title: Description
          description: ç­–ç•¥æè¿°
        parameters:
          items:
            $ref: '#/components/schemas/StrategyParameter'
          type: array
          title: Parameters
          description: ç­–ç•¥å‚æ•°åˆ—è¡¨
        max_position_size:
          type: number
          maximum: 1.0
          minimum: 0.0
          title: Max Position Size
          description: æœ€å¤§ä»“ä½æ¯”ä¾‹ (0-1)
          default: 0.1
        stop_loss_percent:
          anyOf:
          - type: number
            maximum: 100.0
            minimum: 0.0
          - type: 'null'
          title: Stop Loss Percent
          description: æ­¢æŸç™¾åˆ†æ¯”
        take_profit_percent:
          anyOf:
          - type: number
            minimum: 0.0
          - type: 'null'
          title: Take Profit Percent
          description: æ­¢ç›ˆç™¾åˆ†æ¯”
        status:
          allOf:
          - $ref: '#/components/schemas/StrategyStatus'
          description: ç­–ç•¥çŠ¶æ€
          default: draft
        created_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Created At
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
          description: æ›´æ–°æ—¶é—´
        tags:
          items:
            type: string
          type: array
          title: Tags
          description: æ ‡ç­¾åˆ—è¡¨
      type: object
      required:
      - user_id
      - strategy_name
      - strategy_type
      title: StrategyConfig
      description: ç­–ç•¥é…ç½®
      example:
        description: åŸºäº5æ—¥å’Œ20æ—¥å‡çº¿çš„é‡‘å‰æ­»å‰ç­–ç•¥
        max_position_size: 0.2
        parameters:
        - data_type: int
          description: çŸ­æœŸå‡çº¿å‘¨æœŸ
          name: short_period
          value: 5
        - data_type: int
          description: é•¿æœŸå‡çº¿å‘¨æœŸ
          name: long_period
          value: 20
        status: active
        stop_loss_percent: 5.0
        strategy_name: åŒå‡çº¿ç­–ç•¥
        strategy_type: momentum
        tags:
        - å‡çº¿
        - è¶‹åŠ¿è·Ÿè¸ª
        take_profit_percent: 10.0
        user_id: 1001
    StrategyCreateRequest:
      properties:
        user_id:
          type: integer
          minimum: 1.0
          title: User Id
          description: ç”¨æˆ·ID
        strategy_name:
          type: string
          maxLength: 100
          minLength: 1
          title: Strategy Name
          description: ç­–ç•¥åç§°
        strategy_type:
          $ref: '#/components/schemas/StrategyType'
        description:
          anyOf:
          - type: string
            maxLength: 500
          - type: 'null'
          title: Description
          description: ç­–ç•¥æè¿°
        parameters:
          items:
            $ref: '#/components/schemas/StrategyParameter'
          type: array
          title: Parameters
          description: ç­–ç•¥å‚æ•°
        max_position_size:
          type: number
          maximum: 1.0
          minimum: 0.0
          title: Max Position Size
          description: æœ€å¤§ä»“ä½æ¯”ä¾‹
          default: 0.1
        stop_loss_percent:
          anyOf:
          - type: number
            maximum: 100.0
            minimum: 0.0
          - type: 'null'
          title: Stop Loss Percent
          description: æ­¢æŸç™¾åˆ†æ¯”
        take_profit_percent:
          anyOf:
          - type: number
            minimum: 0.0
          - type: 'null'
          title: Take Profit Percent
          description: æ­¢ç›ˆç™¾åˆ†æ¯”
        tags:
          items:
            type: string
          type: array
          title: Tags
          description: æ ‡ç­¾åˆ—è¡¨
      type: object
      required:
      - user_id
      - strategy_name
      - strategy_type
      title: StrategyCreateRequest
      description: åˆ›å»ºç­–ç•¥è¯·æ±‚
    StrategyListResponse:
      properties:
        total_count:
          type: integer
          title: Total Count
          description: æ€»æ•°é‡
        strategies:
          items:
            $ref: '#/components/schemas/StrategyConfig'
          type: array
          title: Strategies
          description: ç­–ç•¥åˆ—è¡¨
        page:
          type: integer
          minimum: 1.0
          title: Page
          description: å½“å‰é¡µç 
          default: 1
        page_size:
          type: integer
          maximum: 100.0
          minimum: 1.0
          title: Page Size
          description: æ¯é¡µæ•°é‡
          default: 20
      type: object
      required:
      - total_count
      - strategies
      title: StrategyListResponse
      description: ç­–ç•¥åˆ—è¡¨å“åº”
    StrategyParameter:
      properties:
        name:
          type: string
          title: Name
          description: å‚æ•°åç§°
        value:
          title: Value
          description: å‚æ•°å€¼
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          description: å‚æ•°è¯´æ˜
        data_type:
          type: string
          title: Data Type
          description: 'æ•°æ®ç±»å‹: string/int/float/bool'
          default: string
      type: object
      required:
      - name
      - value
      title: StrategyParameter
      description: ç­–ç•¥å‚æ•°
    StrategyStatus:
      type: string
      enum:
      - draft
      - active
      - paused
      - archived
      title: StrategyStatus
      description: ç­–ç•¥çŠ¶æ€
    StrategyType:
      type: string
      enum:
      - momentum
      - mean_reversion
      - breakout
      - grid
      - custom
      title: StrategyType
      description: ç­–ç•¥ç±»å‹
    StrategyUpdateRequest:
      properties:
        strategy_name:
          anyOf:
          - type: string
            maxLength: 100
            minLength: 1
          - type: 'null'
          title: Strategy Name
          description: ç­–ç•¥åç§°
        description:
          anyOf:
          - type: string
            maxLength: 500
          - type: 'null'
          title: Description
          description: ç­–ç•¥æè¿°
        parameters:
          anyOf:
          - items:
              $ref: '#/components/schemas/StrategyParameter'
            type: array
          - type: 'null'
          title: Parameters
          description: ç­–ç•¥å‚æ•°
        max_position_size:
          anyOf:
          - type: number
            maximum: 1.0
            minimum: 0.0
          - type: 'null'
          title: Max Position Size
          description: æœ€å¤§ä»“ä½æ¯”ä¾‹
        stop_loss_percent:
          anyOf:
          - type: number
            maximum: 100.0
            minimum: 0.0
          - type: 'null'
          title: Stop Loss Percent
          description: æ­¢æŸç™¾åˆ†æ¯”
        take_profit_percent:
          anyOf:
          - type: number
            minimum: 0.0
          - type: 'null'
          title: Take Profit Percent
          description: æ­¢ç›ˆç™¾åˆ†æ¯”
        status:
          anyOf:
          - $ref: '#/components/schemas/StrategyStatus'
          - type: 'null'
          description: ç­–ç•¥çŠ¶æ€
        tags:
          anyOf:
          - items:
              type: string
            type: array
          - type: 'null'
          title: Tags
          description: æ ‡ç­¾åˆ—è¡¨
      type: object
      title: StrategyUpdateRequest
      description: æ›´æ–°ç­–ç•¥è¯·æ±‚
    SymbolItem:
      properties:
        proName:
          type: string
          title: Proname
          description: ä»£ç ï¼ˆå¦‚ NASDAQ:AAPLï¼‰
        title:
          type: string
          title: Title
          description: æ˜¾ç¤ºåç§°
      type: object
      required:
      - proName
      - title
      title: SymbolItem
      description: è‚¡ç¥¨ä»£ç æ¡ç›®
    SyncDirection:
      properties:
        code_to_contract:
          type: boolean
          title: Code To Contract
          description: ä»ä»£ç ç”Ÿæˆå¥‘çº¦
          default: true
        contract_to_typescript:
          type: boolean
          title: Contract To Typescript
          description: ä»å¥‘çº¦ç”ŸæˆTypeScript
          default: false
      type: object
      title: SyncDirection
      description: åŒæ­¥æ–¹å‘
    SyncResult:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸ
        operation:
          type: string
          title: Operation
          description: æ“ä½œç±»å‹
        message:
          type: string
          title: Message
          description: ç»“æœæ¶ˆæ¯
        files_created:
          items:
            type: string
          type: array
          title: Files Created
          description: åˆ›å»ºçš„æ–‡ä»¶
        files_modified:
          items:
            type: string
          type: array
          title: Files Modified
          description: ä¿®æ”¹çš„æ–‡ä»¶
        version:
          anyOf:
          - type: string
          - type: 'null'
          title: Version
          description: æ–°ç‰ˆæœ¬å·
      type: object
      required:
      - success
      - operation
      - message
      title: SyncResult
      description: åŒæ­¥ç»“æœ
    SystemLog:
      properties:
        id:
          type: integer
          title: Id
        timestamp:
          type: string
          title: Timestamp
        level:
          type: string
          title: Level
        category:
          type: string
          title: Category
        operation:
          type: string
          title: Operation
        message:
          type: string
          title: Message
        details:
          anyOf:
          - type: object
          - type: 'null'
          title: Details
        duration_ms:
          anyOf:
          - type: integer
          - type: 'null'
          title: Duration Ms
        has_error:
          type: boolean
          title: Has Error
          default: false
      type: object
      required:
      - id
      - timestamp
      - level
      - category
      - operation
      - message
      title: SystemLog
      description: ç³»ç»Ÿæ—¥å¿—æ¨¡å‹
    TaskConfig:
      properties:
        task_id:
          type: string
          title: Task Id
          description: ä»»åŠ¡ID
        task_name:
          type: string
          title: Task Name
          description: ä»»åŠ¡åç§°
        task_type:
          allOf:
          - $ref: '#/components/schemas/TaskType'
          description: ä»»åŠ¡ç±»å‹
        task_module:
          type: string
          title: Task Module
          description: ä»»åŠ¡æ¨¡å—è·¯å¾„
        task_function:
          type: string
          title: Task Function
          description: ä»»åŠ¡å‡½æ•°åç§°
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          description: ä»»åŠ¡æè¿°
        priority:
          allOf:
          - $ref: '#/components/schemas/TaskPriority'
          description: ä»»åŠ¡ä¼˜å…ˆçº§
          default: 500
        schedule:
          anyOf:
          - $ref: '#/components/schemas/TaskSchedule'
          - type: 'null'
          description: è°ƒåº¦é…ç½®
        params:
          type: object
          title: Params
          description: ä»»åŠ¡å‚æ•°
        timeout:
          type: integer
          title: Timeout
          description: è¶…æ—¶æ—¶é—´(ç§’)
          default: 3600
        retry_count:
          type: integer
          title: Retry Count
          description: é‡è¯•æ¬¡æ•°
          default: 0
        retry_delay:
          type: integer
          title: Retry Delay
          description: é‡è¯•å»¶è¿Ÿ(ç§’)
          default: 60
        dependencies:
          items:
            type: string
          type: array
          title: Dependencies
          description: ä¾èµ–ä»»åŠ¡IDåˆ—è¡¨
        tags:
          items:
            type: string
          type: array
          title: Tags
          description: ä»»åŠ¡æ ‡ç­¾
        auto_restart:
          type: boolean
          title: Auto Restart
          description: æ˜¯å¦è‡ªåŠ¨é‡å¯
          default: false
        stop_on_error:
          type: boolean
          title: Stop On Error
          description: é”™è¯¯æ—¶åœæ­¢
          default: true
      type: object
      required:
      - task_id
      - task_name
      - task_type
      - task_module
      - task_function
      title: TaskConfig
      description: ä»»åŠ¡é…ç½®
    TaskExecution:
      properties:
        execution_id:
          type: string
          title: Execution Id
          description: æ‰§è¡ŒID
        task_id:
          type: string
          title: Task Id
          description: ä»»åŠ¡ID
        status:
          allOf:
          - $ref: '#/components/schemas/TaskStatus'
          description: æ‰§è¡ŒçŠ¶æ€
          default: pending
        start_time:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Start Time
          description: å¼€å§‹æ—¶é—´
        end_time:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: End Time
          description: ç»“æŸæ—¶é—´
        duration:
          anyOf:
          - type: number
          - type: 'null'
          title: Duration
          description: æ‰§è¡Œæ—¶é•¿(ç§’)
        result:
          anyOf:
          - type: object
          - type: 'null'
          title: Result
          description: æ‰§è¡Œç»“æœ
        error_message:
          anyOf:
          - type: string
          - type: 'null'
          title: Error Message
          description: é”™è¯¯ä¿¡æ¯
        log_path:
          anyOf:
          - type: string
          - type: 'null'
          title: Log Path
          description: æ—¥å¿—æ–‡ä»¶è·¯å¾„
        retry_count:
          type: integer
          title: Retry Count
          description: å·²é‡è¯•æ¬¡æ•°
          default: 0
      type: object
      required:
      - execution_id
      - task_id
      title: TaskExecution
      description: ä»»åŠ¡æ‰§è¡Œè®°å½•
    TaskPriority:
      type: integer
      enum:
      - 100
      - 200
      - 500
      - 800
      - 900
      title: TaskPriority
      description: ä»»åŠ¡ä¼˜å…ˆçº§
    TaskResponse:
      properties:
        success:
          type: boolean
          title: Success
        message:
          type: string
          title: Message
        data:
          anyOf:
          - type: object
          - type: 'null'
          title: Data
        task_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Task Id
        execution_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Execution Id
      type: object
      required:
      - success
      - message
      title: TaskResponse
      description: ä»»åŠ¡å“åº”æ¨¡å‹
    TaskSchedule:
      properties:
        schedule_type:
          type: string
          title: Schedule Type
          description: 'è°ƒåº¦ç±»å‹: cron, interval, once'
        cron_expression:
          anyOf:
          - type: string
          - type: 'null'
          title: Cron Expression
          description: Cronè¡¨è¾¾å¼
        interval_seconds:
          anyOf:
          - type: integer
          - type: 'null'
          title: Interval Seconds
          description: æ‰§è¡Œé—´éš”(ç§’)
        start_time:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Start Time
          description: å¼€å§‹æ—¶é—´
        end_time:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: End Time
          description: ç»“æŸæ—¶é—´
        enabled:
          type: boolean
          title: Enabled
          description: æ˜¯å¦å¯ç”¨
          default: true
      type: object
      required:
      - schedule_type
      title: TaskSchedule
      description: ä»»åŠ¡è°ƒåº¦é…ç½®
    TaskStatistics:
      properties:
        task_id:
          type: string
          title: Task Id
        task_name:
          type: string
          title: Task Name
        total_executions:
          type: integer
          title: Total Executions
          default: 0
        success_count:
          type: integer
          title: Success Count
          default: 0
        failed_count:
          type: integer
          title: Failed Count
          default: 0
        avg_duration:
          type: number
          title: Avg Duration
          default: 0.0
        last_execution_time:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Last Execution Time
        last_status:
          anyOf:
          - $ref: '#/components/schemas/TaskStatus'
          - type: 'null'
        success_rate:
          type: number
          title: Success Rate
          default: 0.0
      type: object
      required:
      - task_id
      - task_name
      title: TaskStatistics
      description: ä»»åŠ¡ç»Ÿè®¡ä¿¡æ¯
    TaskStatus:
      type: string
      enum:
      - pending
      - running
      - success
      - failed
      - paused
      - cancelled
      title: TaskStatus
      description: ä»»åŠ¡çŠ¶æ€æšä¸¾
    TaskType:
      type: string
      enum:
      - cron
      - supervisor
      - manual
      - data_sync
      - indicator_calc
      - market_fetch
      - data_processing
      - strategy_backtest
      - cache_cleanup
      - market_sync
      - notification
      - health_check
      - cache_warmup
      - report_generation
      title: TaskType
      description: ä»»åŠ¡ç±»å‹æšä¸¾
    TdxDataRequest:
      properties:
        stock_code:
          type: string
          title: Stock Code
          description: è‚¡ç¥¨ä»£ç 
          example: '000001'
        market:
          type: string
          title: Market
          description: å¸‚åœºä»£ç ï¼ˆsh/szï¼‰
          default: sh
          example: sh
      type: object
      required:
      - stock_code
      title: TdxDataRequest
      description: é€šè¾¾ä¿¡æ•°æ®è¯·æ±‚
    TdxDataResponse:
      properties:
        code:
          type: string
          title: Code
          description: è‚¡ç¥¨ä»£ç 
        market:
          type: string
          title: Market
          description: å¸‚åœº
        data:
          items:
            type: object
          type: array
          title: Data
          description: OHLCVæ•°æ®åˆ—è¡¨
        total_records:
          type: integer
          title: Total Records
          description: æ€»è®°å½•æ•°
      type: object
      required:
      - code
      - market
      - data
      - total_records
      title: TdxDataResponse
      description: é€šè¾¾ä¿¡æ•°æ®å“åº”
    TdxHealthResponse:
      properties:
        status:
          type: string
          title: Status
          description: æœåŠ¡çŠ¶æ€
        tdx_connected:
          type: boolean
          title: Tdx Connected
          description: TDXæœåŠ¡å™¨è¿æ¥çŠ¶æ€
        timestamp:
          type: string
          title: Timestamp
          description: æ£€æŸ¥æ—¶é—´
        server_info:
          anyOf:
          - type: object
          - type: 'null'
          title: Server Info
          description: æœåŠ¡å™¨ä¿¡æ¯
      type: object
      required:
      - status
      - tdx_connected
      - timestamp
      title: TdxHealthResponse
      description: TDXæœåŠ¡å¥åº·æ£€æŸ¥å“åº”
    TickerTapeConfigRequest:
      properties:
        symbols:
          items:
            $ref: '#/components/schemas/SymbolItem'
          type: array
          title: Symbols
          description: è‚¡ç¥¨åˆ—è¡¨
        theme:
          type: string
          title: Theme
          description: ä¸»é¢˜
          default: dark
        locale:
          type: string
          title: Locale
          description: è¯­è¨€
          default: zh_CN
        container_id:
          type: string
          title: Container Id
          description: å®¹å™¨ID
          default: tradingview_ticker_tape
      type: object
      title: TickerTapeConfigRequest
      description: Ticker Tape é…ç½®è¯·æ±‚
    Token:
      properties:
        access_token:
          type: string
          title: Access Token
        token_type:
          type: string
          title: Token Type
        expires_in:
          anyOf:
          - type: integer
          - type: 'null'
          title: Expires In
        user:
          anyOf:
          - type: object
          - type: 'null'
          title: User
      type: object
      required:
      - access_token
      - token_type
      title: Token
      description: JWT Token æ¨¡å‹
    TradeHistoryItem:
      properties:
        trade_id:
          type: string
          title: Trade Id
          description: æˆäº¤ID
        order_id:
          type: string
          title: Order Id
          description: å§”æ‰˜ID
        symbol:
          type: string
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        direction:
          type: string
          title: Direction
          description: äº¤æ˜“æ–¹å‘ (buy/sell)
        price:
          type: string
          title: Price
          description: æˆäº¤ä»·æ ¼
        quantity:
          type: integer
          title: Quantity
          description: æˆäº¤æ•°é‡
        amount:
          type: string
          title: Amount
          description: æˆäº¤é‡‘é¢
        commission:
          type: string
          title: Commission
          description: æ‰‹ç»­è´¹
        trade_time:
          type: string
          format: date-time
          title: Trade Time
          description: æˆäº¤æ—¶é—´
        trade_type:
          type: string
          title: Trade Type
          description: æˆäº¤ç±»å‹ (normal/issue/transfer)
      type: object
      required:
      - trade_id
      - order_id
      - symbol
      - direction
      - price
      - quantity
      - amount
      - commission
      - trade_time
      - trade_type
      title: TradeHistoryItem
      description: æˆäº¤è®°å½•
    TradeHistoryResponse:
      properties:
        trades:
          items:
            $ref: '#/components/schemas/TradeHistoryItem'
          type: array
          title: Trades
          description: æˆäº¤è®°å½•åˆ—è¡¨
        total_count:
          type: integer
          title: Total Count
          description: æ€»è®°å½•æ•°
        total_amount:
          type: string
          title: Total Amount
          description: æ€»æˆäº¤é‡‘é¢
        total_commission:
          type: string
          title: Total Commission
          description: æ€»æ‰‹ç»­è´¹
        page:
          type: integer
          title: Page
          description: å½“å‰é¡µç 
        page_size:
          type: integer
          title: Page Size
          description: æ¯é¡µæ•°é‡
      type: object
      required:
      - trades
      - total_count
      - total_amount
      - total_commission
      - page
      - page_size
      title: TradeHistoryResponse
      description: äº¤æ˜“å†å²å“åº”
    TradeRecord:
      properties:
        trade_id:
          type: integer
          title: Trade Id
          description: äº¤æ˜“ID
        symbol:
          type: string
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        trade_date:
          type: string
          format: date
          title: Trade Date
          description: äº¤æ˜“æ—¥æœŸ
        action:
          type: string
          title: Action
          description: 'æ“ä½œ: buy/sell'
        price:
          type: number
          minimum: 0.0
          title: Price
          description: æˆäº¤ä»·æ ¼
        quantity:
          type: integer
          minimum: 0.0
          title: Quantity
          description: æ•°é‡
        amount:
          type: number
          minimum: 0.0
          title: Amount
          description: äº¤æ˜“é‡‘é¢
        commission:
          type: number
          minimum: 0.0
          title: Commission
          description: æ‰‹ç»­è´¹
        profit_loss:
          anyOf:
          - type: number
          - type: 'null'
          title: Profit Loss
          description: ç›ˆäºé‡‘é¢
      type: object
      required:
      - trade_id
      - symbol
      - trade_date
      - action
      - price
      - quantity
      - amount
      - commission
      title: TradeRecord
      description: äº¤æ˜“è®°å½•
    TradeStatistics:
      properties:
        total_trades:
          type: integer
          title: Total Trades
        buy_count:
          type: integer
          title: Buy Count
        sell_count:
          type: integer
          title: Sell Count
        position_count:
          type: integer
          title: Position Count
        total_buy_amount:
          type: number
          title: Total Buy Amount
        total_sell_amount:
          type: number
          title: Total Sell Amount
        total_commission:
          type: number
          title: Total Commission
        realized_profit:
          type: number
          title: Realized Profit
      type: object
      required:
      - total_trades
      - buy_count
      - sell_count
      - position_count
      - total_buy_amount
      - total_sell_amount
      - total_commission
      - realized_profit
      title: TradeStatistics
      description: äº¤æ˜“ç»Ÿè®¡æ•°æ®
    UpdateGroupRequest:
      properties:
        group_name:
          type: string
          maxLength: 50
          minLength: 1
          pattern: ^[^\s<>"\'/\\]+$
          title: Group Name
          description: æ–°çš„åˆ†ç»„åç§°
      type: object
      required:
      - group_name
      title: UpdateGroupRequest
      description: æ›´æ–°åˆ†ç»„è¯·æ±‚
    UpdateWatchlistNotesRequest:
      properties:
        notes:
          type: string
          maxLength: 500
          minLength: 0
          title: Notes
          description: å¤‡æ³¨å†…å®¹
      type: object
      required:
      - notes
      title: UpdateWatchlistNotesRequest
      description: æ›´æ–°å¤‡æ³¨è¯·æ±‚
    User:
      properties:
        id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Id
        username:
          type: string
          title: Username
        email:
          anyOf:
          - type: string
          - type: 'null'
          title: Email
        role:
          type: string
          title: Role
          default: user
        is_active:
          type: boolean
          title: Is Active
          default: true
      type: object
      required:
      - username
      title: User
      description: ç”¨æˆ·æ¨¡å‹
    VaRCVaRRequest:
      properties:
        entity_type:
          type: string
          title: Entity Type
          description: å®ä½“ç±»å‹ ('backtest', 'portfolio', 'strategy')
        entity_id:
          type: integer
          minimum: 1.0
          title: Entity Id
          description: å®ä½“ID
        confidence_level:
          type: number
          maximum: 0.9999
          minimum: 0.01
          title: Confidence Level
          description: ç½®ä¿¡æ°´å¹³ (e.g., 0.90, 0.95, 0.99)
          default: 0.95
      type: object
      required:
      - entity_type
      - entity_id
      title: VaRCVaRRequest
      description: VaR/CVaR è®¡ç®—è¯·æ±‚æ¨¡å‹
      example:
        confidence_level: 0.95
        entity_id: 101
        entity_type: portfolio
    VaRCVaRResult:
      properties:
        var_95_hist:
          anyOf:
          - type: number
          - type: 'null'
          title: Var 95 Hist
          description: 95% å†å² VaR
        var_95_param:
          anyOf:
          - type: number
          - type: 'null'
          title: Var 95 Param
          description: 95% å‚æ•° VaR
        var_99_hist:
          anyOf:
          - type: number
          - type: 'null'
          title: Var 99 Hist
          description: 99% å†å² VaR
        cvar_95:
          anyOf:
          - type: number
          - type: 'null'
          title: Cvar 95
          description: 95% CVaR
        cvar_99:
          anyOf:
          - type: number
          - type: 'null'
          title: Cvar 99
          description: 99% CVaR
        entity_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Entity Type
          description: å®ä½“ç±»å‹
        entity_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Entity Id
          description: å®ä½“ID
        confidence_level:
          anyOf:
          - type: number
          - type: 'null'
          title: Confidence Level
          description: ç½®ä¿¡æ°´å¹³
      type: object
      title: VaRCVaRResult
      description: VaR/CVaR è®¡ç®—ç»“æœå“åº”æ¨¡å‹
      example:
        cvar_95: -0.036
        cvar_99: -0.0432
        var_95_hist: -0.0289
        var_95_param: -0.0309
        var_99_hist: -0.0385
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
    ValidationResult:
      properties:
        valid:
          type: boolean
          title: Valid
          description: æ˜¯å¦é€šè¿‡éªŒè¯
        category:
          type: string
          title: Category
          description: 'é—®é¢˜ç±»åˆ«: error|warning|info'
        path:
          anyOf:
          - type: string
          - type: 'null'
          title: Path
          description: é—®é¢˜è·¯å¾„
        message:
          type: string
          title: Message
          description: é—®é¢˜æè¿°
        suggestion:
          anyOf:
          - type: string
          - type: 'null'
          title: Suggestion
          description: ä¿®å¤å»ºè®®
      type: object
      required:
      - valid
      - category
      - message
      title: ValidationResult
      description: éªŒè¯ç»“æœ
    WatchlistSummary:
      properties:
        total_count:
          type: integer
          title: Total Count
          description: è‡ªé€‰è‚¡æ€»æ•°
          default: 0
        items:
          items:
            $ref: '#/components/schemas/app__models__dashboard__WatchlistItem'
          type: array
          title: Items
          description: è‡ªé€‰è‚¡åˆ—è¡¨
        avg_change_percent:
          anyOf:
          - type: number
          - type: 'null'
          title: Avg Change Percent
          description: å¹³å‡æ¶¨è·Œå¹…
      type: object
      title: WatchlistSummary
      description: è‡ªé€‰è‚¡æ±‡æ€»
    WencaiCustomQueryRequest:
      properties:
        query_text:
          type: string
          maxLength: 500
          minLength: 5
          title: Query Text
          description: è‡ªå®šä¹‰æŸ¥è¯¢è¯­å¥ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰
          example: è¯·åˆ—å‡ºä»Šå¤©æ¶¨å¹…è¶…è¿‡5%çš„è‚¡ç¥¨
        pages:
          type: integer
          maximum: 5.0
          minimum: 1.0
          title: Pages
          description: è·å–é¡µæ•°
          default: 1
          example: 1
      type: object
      required:
      - query_text
      title: WencaiCustomQueryRequest
      description: 'è‡ªå®šä¹‰æŸ¥è¯¢è¯·æ±‚


        ç”¨äºPOST /api/market/wencai/custom-query'
    WencaiCustomQueryResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸ
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
        query_text:
          type: string
          title: Query Text
          description: æŸ¥è¯¢è¯­å¥
        total_records:
          type: integer
          minimum: 0.0
          title: Total Records
          description: è·å–çš„æ€»è®°å½•æ•°
        results:
          items:
            type: object
          type: array
          title: Results
          description: æŸ¥è¯¢ç»“æœåˆ—è¡¨
        columns:
          items:
            type: string
          type: array
          title: Columns
          description: åˆ—ååˆ—è¡¨
        fetch_time:
          type: string
          format: date-time
          title: Fetch Time
          description: æ•°æ®è·å–æ—¶é—´
      type: object
      required:
      - success
      - message
      - query_text
      - total_records
      - results
      - columns
      - fetch_time
      title: WencaiCustomQueryResponse
      description: 'è‡ªå®šä¹‰æŸ¥è¯¢å“åº”


        ç”¨äºPOST /api/market/wencai/custom-query'
    WencaiHistoryItem:
      properties:
        date:
          type: string
          title: Date
          description: æ—¥æœŸ
          example: '2025-10-17'
        total_records:
          type: integer
          minimum: 0.0
          title: Total Records
          description: è®°å½•æ•°
        fetch_count:
          type: integer
          minimum: 0.0
          title: Fetch Count
          description: è·å–æ¬¡æ•°
      type: object
      required:
      - date
      - total_records
      - fetch_count
      title: WencaiHistoryItem
      description: å†å²æ•°æ®é¡¹
    WencaiHistoryResponse:
      properties:
        query_name:
          type: string
          title: Query Name
          description: æŸ¥è¯¢åç§°
        date_range:
          items:
            type: string
          type: array
          title: Date Range
          description: æ—¥æœŸèŒƒå›´
        history:
          items:
            $ref: '#/components/schemas/WencaiHistoryItem'
          type: array
          title: History
          description: å†å²æ•°æ®
        total_days:
          type: integer
          minimum: 0.0
          title: Total Days
          description: æ€»å¤©æ•°
      type: object
      required:
      - query_name
      - date_range
      - history
      - total_days
      title: WencaiHistoryResponse
      description: 'å†å²æ•°æ®å“åº”


        ç”¨äºGET /api/market/wencai/history/{query_name}'
    WencaiQueryInfo:
      properties:
        id:
          type: integer
          title: Id
          description: æŸ¥è¯¢ID
        query_name:
          type: string
          title: Query Name
          description: æŸ¥è¯¢åç§°
          example: qs_1
        query_text:
          type: string
          title: Query Text
          description: æŸ¥è¯¢è¯­å¥
          example: è¯·åˆ—å‡º...
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          description: æŸ¥è¯¢è¯´æ˜
        is_active:
          type: boolean
          title: Is Active
          description: æ˜¯å¦å¯ç”¨
        created_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Created At
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
          description: æ›´æ–°æ—¶é—´
      type: object
      required:
      - id
      - query_name
      - query_text
      - is_active
      title: WencaiQueryInfo
      description: 'æŸ¥è¯¢ä¿¡æ¯


        ç”¨äºGET /api/market/wencai/queries'
    WencaiQueryListResponse:
      properties:
        queries:
          items:
            $ref: '#/components/schemas/WencaiQueryInfo'
          type: array
          title: Queries
          description: æŸ¥è¯¢åˆ—è¡¨
        total:
          type: integer
          title: Total
          description: æ€»æ•°é‡
      type: object
      required:
      - queries
      - total
      title: WencaiQueryListResponse
      description: 'æŸ¥è¯¢åˆ—è¡¨å“åº”


        ç”¨äºGET /api/market/wencai/queries'
    WencaiQueryRequest:
      properties:
        query_name:
          type: string
          maxLength: 20
          minLength: 4
          title: Query Name
          description: æŸ¥è¯¢åç§°ï¼Œå¦‚qs_1, qs_2, ..., qs_9
          example: qs_9
        pages:
          type: integer
          maximum: 10.0
          minimum: 1.0
          title: Pages
          description: è·å–é¡µæ•°
          default: 1
          example: 1
      type: object
      required:
      - query_name
      title: WencaiQueryRequest
      description: 'æ‰§è¡Œé—®è´¢æŸ¥è¯¢è¯·æ±‚


        ç”¨äºPOST /api/market/wencai/query'
    WencaiQueryResponse:
      properties:
        success:
          type: boolean
          title: Success
          description: æ˜¯å¦æˆåŠŸ
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
        query_name:
          type: string
          title: Query Name
          description: æŸ¥è¯¢åç§°
        total_records:
          type: integer
          minimum: 0.0
          title: Total Records
          description: è·å–çš„æ€»è®°å½•æ•°
        new_records:
          type: integer
          minimum: 0.0
          title: New Records
          description: æ–°å¢è®°å½•æ•°
        duplicate_records:
          type: integer
          minimum: 0.0
          title: Duplicate Records
          description: é‡å¤è®°å½•æ•°
        table_name:
          type: string
          title: Table Name
          description: ç»“æœè¡¨å
        fetch_time:
          type: string
          format: date-time
          title: Fetch Time
          description: æ•°æ®è·å–æ—¶é—´
      type: object
      required:
      - success
      - message
      - query_name
      - total_records
      - new_records
      - duplicate_records
      - table_name
      - fetch_time
      title: WencaiQueryResponse
      description: 'æŸ¥è¯¢æ‰§è¡Œå“åº”


        ç”¨äºPOST /api/market/wencai/query'
    WencaiRefreshResponse:
      properties:
        status:
          type: string
          title: Status
          description: ä»»åŠ¡çŠ¶æ€
          example: refreshing
        message:
          type: string
          title: Message
          description: æ¶ˆæ¯
        task_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Task Id
          description: åå°ä»»åŠ¡ID
        query_name:
          type: string
          title: Query Name
          description: æŸ¥è¯¢åç§°
      type: object
      required:
      - status
      - message
      - query_name
      title: WencaiRefreshResponse
      description: 'åˆ·æ–°ä»»åŠ¡å“åº”


        ç”¨äºPOST /api/market/wencai/refresh/{query_name}'
    WencaiResultsResponse:
      properties:
        query_name:
          type: string
          title: Query Name
          description: æŸ¥è¯¢åç§°
        total:
          type: integer
          minimum: 0.0
          title: Total
          description: æ€»è®°å½•æ•°
        results:
          items:
            type: object
          type: array
          title: Results
          description: ç»“æœåˆ—è¡¨
        columns:
          items:
            type: string
          type: array
          title: Columns
          description: åˆ—ååˆ—è¡¨
        latest_fetch_time:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Latest Fetch Time
          description: æœ€æ–°æ•°æ®æ—¶é—´
      type: object
      required:
      - query_name
      - total
      - results
      - columns
      title: WencaiResultsResponse
      description: 'æŸ¥è¯¢ç»“æœåˆ—è¡¨å“åº”


        ç”¨äºGET /api/market/wencai/results/{query_name}'
    app__api__watchlist__WatchlistItem:
      properties:
        id:
          type: integer
          minimum: 1.0
          title: Id
          description: æ¡ç›®ID
        symbol:
          type: string
          maxLength: 20
          minLength: 1
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        display_name:
          anyOf:
          - type: string
            maxLength: 100
          - type: 'null'
          title: Display Name
          description: æ˜¾ç¤ºåç§°
        exchange:
          anyOf:
          - type: string
            maxLength: 20
          - type: 'null'
          title: Exchange
          description: äº¤æ˜“æ‰€
        added_at:
          type: string
          pattern: ^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$
          title: Added At
          description: æ·»åŠ æ—¶é—´
        notes:
          anyOf:
          - type: string
            maxLength: 500
          - type: 'null'
          title: Notes
          description: å¤‡æ³¨
      type: object
      required:
      - id
      - symbol
      - added_at
      title: WatchlistItem
      description: è‡ªé€‰è‚¡æ¡ç›®
    app__models__dashboard__WatchlistItem:
      properties:
        symbol:
          type: string
          title: Symbol
          description: è‚¡ç¥¨ä»£ç 
        name:
          anyOf:
          - type: string
          - type: 'null'
          title: Name
          description: è‚¡ç¥¨åç§°
        current_price:
          anyOf:
          - type: number
          - type: 'null'
          title: Current Price
          description: å½“å‰ä»·æ ¼
        change_percent:
          anyOf:
          - type: number
          - type: 'null'
          title: Change Percent
          description: æ¶¨è·Œå¹…(%)
        note:
          anyOf:
          - type: string
          - type: 'null'
          title: Note
          description: å¤‡æ³¨
        added_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Added At
          description: æ·»åŠ æ—¶é—´
      type: object
      required:
      - symbol
      title: WatchlistItem
      description: è‡ªé€‰è‚¡é¡¹
    app__models__strategy_schemas__BacktestRequest:
      properties:
        strategy_id:
          type: integer
          minimum: 1.0
          title: Strategy Id
          description: ç­–ç•¥ID
        user_id:
          type: integer
          minimum: 1.0
          title: User Id
          description: ç”¨æˆ·ID
        symbols:
          items:
            type: string
          type: array
          minItems: 1
          title: Symbols
          description: è‚¡ç¥¨ä»£ç åˆ—è¡¨
        start_date:
          type: string
          format: date
          title: Start Date
          description: å¼€å§‹æ—¥æœŸ
        end_date:
          type: string
          format: date
          title: End Date
          description: ç»“æŸæ—¥æœŸ
        initial_capital:
          type: number
          minimum: 1000.0
          title: Initial Capital
          description: åˆå§‹èµ„é‡‘
          default: 100000.0
        commission_rate:
          type: number
          maximum: 0.01
          minimum: 0.0
          title: Commission Rate
          description: æ‰‹ç»­è´¹ç‡
          default: 0.0003
        slippage_rate:
          type: number
          maximum: 0.01
          minimum: 0.0
          title: Slippage Rate
          description: æ»‘ç‚¹ç‡
          default: 0.001
        benchmark:
          anyOf:
          - type: string
          - type: 'null'
          title: Benchmark
          description: åŸºå‡†æŒ‡æ•°ä»£ç 
        include_analysis:
          type: boolean
          title: Include Analysis
          description: æ˜¯å¦åŒ…å«è¯¦ç»†åˆ†æ
          default: true
      type: object
      required:
      - strategy_id
      - user_id
      - symbols
      - start_date
      - end_date
      title: BacktestRequest
      description: å›æµ‹è¯·æ±‚
      example:
        benchmark: 000300.SH
        commission_rate: 0.0003
        end_date: '2024-12-31'
        include_analysis: true
        initial_capital: 100000.0
        slippage_rate: 0.001
        start_date: '2024-01-01'
        strategy_id: 123
        symbols:
        - 000001.SZ
        - 600000.SH
        user_id: 1001
    app__schemas__backtest_schemas__BacktestRequest:
      properties:
        strategy_name:
          type: string
          title: Strategy Name
          description: Name of the strategy to backtest
        symbols:
          items:
            type: string
          type: array
          title: Symbols
          description: List of stock symbols to backtest
        start_date:
          type: string
          format: date
          title: Start Date
          description: Start date of the backtest
        end_date:
          type: string
          format: date
          title: End Date
          description: End date of the backtest
        initial_capital:
          type: number
          exclusiveMinimum: 0.0
          title: Initial Capital
          description: Initial capital for the backtest
        parameters:
          type: object
          title: Parameters
          description: Strategy parameters
      type: object
      required:
      - strategy_name
      - symbols
      - start_date
      - end_date
      - initial_capital
      title: BacktestRequest
      description: Request model for initiating a backtest.
      example:
        end_date: '2024-12-31'
        initial_capital: 100000.0
        parameters:
          long_window: 30
          short_window: 10
        start_date: '2024-01-01'
        strategy_name: SimpleMovingAverage
        symbols:
        - 600000.SH
        - 000001.SZ
  securitySchemes:
    OAuth2PasswordBearer:
      type: oauth2
      flows:
        password:
          scopes: {}
          tokenUrl: /api/auth/login
    HTTPBearer:
      type: http
      scheme: bearer
